(function(x){var t=window.AmazonUIPageJS||window.P,ka=t._namespace||t.attributeErrors,f=ka?ka("DetailPageImageBlockAssets",""):t;f.guardFatal?f.guardFatal(x)(f,window):f.execute(function(){x(f,window)})})(function(x,t,ka){x.when("A","postMetric","ready").execute("feature-bullets-tailoring-metrics",function(f,a){try{var c=f.$,e=c("#featurebullets_feature_div"),l=c("#productOverview_feature_div");if(e&&0<e.length&&(a.postCountMetric("FeatureBulletsRendered.GV"),l&&0<l.length)){a.postCountMetric("FeatureBulletsRenderedWithPO.GV");
var b=c("#featurebullets_feature_div .a-expander-container");b&&0<b.length&&"feature-bullets-expander"===b.data("aExpanderName")&&(a.postCountMetric("FeatureBulletsRenderedCollapsed.GV"),f.on("a:expander:feature-bullets-expander:toggle:expand",function(c){a.postCountMetric("FeatureBulletsInteraction.Expanded")}),f.on("a:expander:feature-bullets-expander:toggle:collapse",function(c){a.postCountMetric("FeatureBulletsInteraction.Collapsed")}))}}catch(m){x.log("Feature bullets metric logging failed with error: ( "+
m+" )","ERROR","FeatureBulletsTailoringMetrics")}});"use strict";x.register("postMetric",function(){return{postCountMetric:function(f){if("undefined"!==typeof f){var a=t.ue;if(a){var c=a.count(f)||0;a.count(f,c+1)}}},postTimeMetric:function(f,a){if("undefined"!==typeof f&&"undefined"!==typeof a){var c=t.ue;c&&c.count(f,a)}},emitNexusMetric:function(f){t.ue&&ue.event&&ue.event(f,"VSEImageBlockEvents","vse.VSEImageBlockEvents.3",{ssd:!1})},buildNexusMetric:function(f,a,c,e,l,b,m,g){return{eventSource:"IBCarousel",
placementContext:g,clientId:"VSE",userAgentData:navigator.userAgent,titleSessionId:"0",eventName:f,intPayload:a,videoAsin:c,videoAsinList:"",groupType:e,pageUrl:l,pageAsin:b,weblabIds:m}}}});"use strict";x.register("logFailedInteractionMetric",function(){return{isEnabled:!1}});x.register("postEarlyMetric",function(){return null});"use strict";x.when("jQuery","ImageBlockController","ImageBlockATF","ImageBlockBTF").register("ImageBlock",function(f,a,c,e){f=f.extend(!0,{},c,e);var l=new a(f);x.register("ImageBlockAPI",
function(){return l.api});return l});"use strict";x.when("A","jQuery").execute(function(f,a){f.on("a:image:load:landingImage",function(){t.performance&&performance.now&&t.ue&&ue.count&&ue.count("DPLandingImageHighResDownloadTime",performance.now())});f.loadDynamicImage(a("#landingImage"))});"use strict";x.when("ImageBlockATF","atf").register("ImageBlockAiryLoader",function(f){function a(a){a&&(x.load.js(a),t.performance&&performance.now&&t.ue&&ue.count&&ue.count("DPAiryDownloadStartTime",t.parseInt(performance.now())))}
function c(a){a&&x.load.css(a)}var e=f.airyConfig;e===ka?x.when("ImageBlockBTF").execute(function(f){e=f.airyConfig;a(e.jsUrl);c(e.cssUrl)}):(a(e.jsUrl),c(e.cssUrl))});"use strict";x.when("jQuery","ImageBlockModel","ImageBlockView","imageBlockUtils","ImageBlockState").register("ImageBlockController",function(f,a,c,e,l){var b={};return function(m){var g=this;g.dispatch=function(a,c){var g=b[a];e.isDefined(g)&&f.each(g,function(a,b){b.call(t,c)})};g.register=function(a,c){e.isDefined(b[a])||(b[a]=[]);
"function"===typeof c&&b[a].push(c)};g.model=new a(m,g);g.view=new c(m,g,g.model);g.api=new l(m,g,g.model);g.init=function(){g.model.init();g.view.init()};g.init()}});"use strict";x.when("A","imageBlockUtils").register("ImageBlockModel",function(f,a){function c(c,b,f,e,g,m){a.isDefined(c)&&(q.type=c);a.isDefined(b)&&(q.index=b);a.isDefined(f)&&(q.thumbnailIndex=f);a.isDefined(e)&&(q.variant=e);a.isDefined(g)&&(q.color=g);q.shoppableScene=m||null}function e(a){c("image",0,0,"MAIN",a||g.landingAsinColor||
g.defaultColor,null)}function l(a){a=a.data;M=f.copy(q);c(a.type,a.index,a.thumbnailIndex,a.variant,a.color,a.shoppableScene)}function b(a){l(a);a=f.copy(a);a.data=f.copy(q);r.dispatch("updateView",a)}function m(){M=f.copy(q);e(q.color)}var g,r,q={},M={},F,t;return function(a,D){r=D;g=a;r.register("updateSelection",b);r.register("updateModel",l);r.register("resetModel",m);this.init=function(){e()};this.getCurrentItem=function(){return f.copy(q)};this.getPreviousItem=function(){return f.copy(M)};this.setCurrentEvent=
function(a){F=a};this.getCurrentEvent=function(){return F};this.setImmersiveViewModalInstance=function(a){t=a};this.getImmersiveViewModalInstance=function(){return t};this.updateTitle=function(a){g.title=a};this.setToPreviousItem=function(){c(M.type,M.index,M.thumbnailIndex,M.variant,M.color,M.shoppableScene)};this.setToCurrentItem=function(a){c(a.type,a.index,a.thumbnailIndex,a.variant,a.color,a.shoppableScene)}}});"use strict";x.when("ImageBlockBTF","postMetric").register("ImageBlockInitViews",
function(f,a){function c(a,c,e,g,r){function q(a){"click"===a.type&&g.postCountMetric("thumbClick");"click"===a.type&&A.overrideAltImageClickAction?p.dispatch("thumbActionClick",a):p.dispatch("updateSelection",a)}function M(a){A.useClickZoom||p.dispatch("imageClick",a)}function F(a){A.useClickZoom||p.dispatch("imageHover",a)}function y(a){p.dispatch("button360Click",a)}function B(c){!e.isDefined(c)||"swatchClick"!==c.type&&"updatedData"!==c.type?(C.update(c),"swatchHover"!==c.type&&h.getPreviousItem().thumbnailIndex!==
c.data.thumbnailIndex&&g.postCountMetric(c.data.type+"ThumbnailSelected"),a.trigger("image-block-thumbnail-selected",c.data)):(C.render(c.data.color,!1,c.onload,c.type),c={hasComponents:!0,components:[{name:"mainimage"},{name:"thumbnail"}]},"function"===typeof t.markFeatureRender&&t.markFeatureRender("imageblock",c))}function D(a){p.dispatch("resize",a)}function J(a){e.selectThumbnail(a,u)}function Q(){if("function"===typeof t.markFeatureInteractive){var a=[],c=[];A.interactiveCallJSPEnabled?(a=["scroll"],
c=["click"]):(a=["hover"],c=["click","hover"]);t.markFeatureInteractive("imageblock",{hasComponents:!0,components:[{name:"mainimage",events:a,alwaysInteractive:!0},{name:"thumbnail",events:c,alwaysInteractive:!0}]})}}function S(){"function"===typeof t.markFeatureInteractive&&t.markFeatureInteractive("imageblock",{hasComponents:!0,components:[{name:"mainimage",events:["click"],alwaysInteractive:!0}]})}function N(){if(!A.interactiveCallJSPEnabled||f.useIV)Q(),1===f.useIV?x.when("a-modal").execute(function(){S()}):
S();A.disableHoverOnAltImages||a.declarative("thumb-action",["mouseenter","mouseleave"],q);a.declarative("thumb-action",["click"],q);a.declarative("main-image-click",["click"],M);a.declarative("main-image-click",["mouseenter","mouseleave"],F);a.declarative("button-360-click",["click"],y);a.on("resize",D)}function L(a){var c=a.data,b;c&&"ingress"!==c.type&&"click"===a.type&&(b=a);return b}function G(a){var c=h.getCurrentItem(),b={type:"click"};b.$declarativeParent=a;b.data=c;return b}function k(a){e.isImageBlockGridViewHoverDelayEnabled()&&
"mouseenter"===a.type&&e.updateThumbnailHoverDelay(a.$target)}var C,A,p,h,u;return function(a,f,e){C=this;A=a;p=f;h=e;u=c("#imageBlock #altImages ul");var g=c("#imageBlock .canvas"),m=c("#main-image-container"),l;C.subViews=[];for(f=0;f<r.length;f++)C.subViews.push(new r[f](a,e,C,p));C.render=function(a,n,f,e){var R=0;u.find(".item").remove();a=a||h.getCurrentItem().color;c.each(C.subViews,function(c,b){R=(2===A.unrolledImageBlockTreatment||3===A.unrolledImageBlockTreatment?b.render(a,R,g,u,m,n,f,
e):b.render(a,R,g,u,m,n,f))||R});var k=u.find(".a-button-selected").closest(".a-declarative");l=G(k)};C.init=function(){u=c("#imageBlock #altImages ul");var a=u.find(".a-button-selected").closest(".a-declarative"),n=a.data("action"),a=a.data(n)||{};a.color=A.landingAsinColor||A.defaultColor;p.dispatch("updateModel",{data:a});C.render(a.color,!0);A.isDebug&&t.console&&console.log(A);p.register("updateView",B);p.register("selectThumbnail",J);N()};C.update=function(a){k(a);c.each(C.subViews,function(c,
b){b.update(a)});A.usePeekHover&&("mouseleave"===a.type?p.dispatch("updateSelection",l):"click"===a.type&&(l=L(a)||l))}}}var e=["A","jQuery","imageBlockUtils","postMetric"].concat(f.views);x.when.apply(x,e).register("ImageBlockView",function(){for(var a=arguments[0],b=arguments[1],f=arguments[2],e=arguments[3],r=[],q=4,t=arguments.length;q<t;q++)r.push(arguments[q]);return c(a,b,f,e,r)})});"use strict";x.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric",
"postEarlyMetric").register("ImageBlockAltImageView",function(f,a,c,e,l,b,m){function g(d,b,n,f){if(!c.isjQueryObjDefined(d.find(".a-button-selected"))){var e=h.getCurrentItem();if(!f||"chromeless-video"!==e.type||!p.autoplayVideo)if(f=0,"image"===e.type&&(f=Math.max(F(e.color,e.variant),0)),!(e.thumbnailIndex>=p.maxAlts&&0!=f)){var k=b+f;k>=n&&(f=0,k=b);b=c.getImageHash(e.color,f,p);-1!==b&&(u.dispatch("updateModel",{data:{index:f,thumbnailIndex:k,variant:b.variant,type:"image",shoppableScene:b.shoppableScene}}),
b=d.find(".item").get(k),c.selectGivenThumbnail(a(b),d))}}}function r(d,n,f){if((2===p.unrolledImageBlockTreatment||3===p.unrolledImageBlockTreatment)&&f)return d;var e=p.colorImages&&p.colorImages[n];n=d;2!==p.unrolledImageBlockTreatment&&3!==p.unrolledImageBlockTreatment||a(".thumbItemUnrolled").each(function(c){(!a(this)[0].classList.contains("thumbTypeimage")||c>=e.length||c>=p.maxAlts)&&a(this).remove()});c.isDefined(e)&&(a.each(e,function(b,n){if(d<p.maxAlts)if(2===p.unrolledImageBlockTreatment||
3===p.unrolledImageBlockTreatment){d++;var f=a(".thumbItemUnrolled");f[b]?f[b].querySelector("img").src=n.thumb:a('\x3cli class\x3d"thumbItemUnrolled thumbTypeimage thumbIndex'+b+'"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-button a-button-thumbnail a-button-toggle" id\x3d"a-autoid-'+d+'"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"a-autoid-'+d+'-announce"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"a-autoid-'+
d+'-announce"\x3e \x3cimg alt\x3d"" src\x3d"'+n.thumb+'"\x3e \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(a(".regularAltImageViewLayout"))}else{var f={type:"image",index:b,thumbnailIndex:d,variant:n.variant,shoppableScene:n.shoppableScene},h=c.createThumbnail(f,n.thumb,z,"imageThumbnail");p.collapsibleThumbnails&&c.updateImageThumbnailOverlay(h,f,e);d++}}),b.isEnabled&&m.logAltImgRequestPlacedOnThumbnails(a,b,h),g(z,n,d,f));return d}function q(a,d){p.useIV&&c.isDefined(d.hiRes)&&
a.css("cursor","pointer")}function M(d,b){if("image"===d.type){var n=a("#image-canvas-caption #canvasCaption"),f,e=p.staticStrings,h=p.colorImages,k=d.color,g=d.index;c.isShoppableScenesEnabled()&&d.shoppableScene?f=e.clickSceneTagsToShopProducts:b&&p.useIV?f=e.clickToExpand:h[k]&&h[k][g].hiRes&&p.useHoverZoom?(f=p.useHoverZoomIpad?e.touchToZoom:p.useClickZoom?e.clickToZoom:e.rollOverToZoom,p.hoverZoomIndicator&&(f="\x3cimg src\x3d'"+p.staticImages.hoverZoomIcon+"'/\x3e\x26nbsp;"+f)):p.useIV&&(f=
e.clickToExpand);n.html(f)}}function F(a,d){return c.getIndexForVariant(a,d,p)}function y(a,c,d){var b=c.thumbnailIndex,n=p.colorToAsin[c.color]&&p.colorToAsin[c.color].asin;c="altImageHover"===d&&P&&P.altImageIdx===b&&P.asin===n&&"swatchClick"===P.event?!0:"swatchHover"===d?P&&P.asin===n&&P.event===d:P&&P.altImageIdx===b&&P.asin===n&&P.event===d;if(!c){var f="#",e=a.find(".imgTagWrapper img").get(0);e&&(f=e.src);a=new Image;a.onload=function(){if(e){e.src=f;var a=e.width,c=e.height,h=e.naturalWidth,
k=e.naturalHeight;try{var R=(Math.abs(a/h*k-c)/c).toFixed(2);.01<R&&(t.ue&&((("landing"!==d||H||U)&&"swatchClick"!==d||t.ue.count("imageBlock-PC-hi_res_image_distortion",1),"landing"===d||"swatchClick"===d)?t.ue.count("imageBlock-PC-hi_res_landing_image_distortion",1):"swatchHover"!==d||U?"altImageHover"!==d||H||(t.ue.count("imageBlock-PC-hi_res_alt_image_distortion",1),H=!0):(t.ue.count("imageBlock-PC-hi_res_swatch_hover_image_distortion",1),U=!0)),t.ueLogError&&(a={logLevel:"WARN",attribution:"imageBlock-PC-hi_res_image_distortion"},
t.ueLogError("swatchHover"===d?{message:"[ImageBlock Hi-Res: Size distortion for ASIN: "+n+" Event:"+d+" Diff:"+R.toString()+"]"}:{message:"[ImageBlock Hi-Res: Size distortion for ASIN: "+n+" at altImageIdx "+b+" Event:"+d+" Diff:"+R.toString()+"]"},a)))}catch(g){t.ueLogError&&(a={logLevel:"WARN",attribution:"imageBlock-PC-hi_res_log_distortion_catch_exception"},t.ueLogError(g,a))}}};"#"!==f&&(a.src=f);P.altImageIdx=b;P.asin=n;P.event=d}}function B(d,b){var n="a-dynamic-image";if(!p.acEnabled){var f;
a.each(d.main,function(a,d){c.isDefined(f)||(f=parseFloat(d[1]/d[0])<=parseFloat(p.holderRatio)?" a-stretch-vertical":" a-stretch-horizontal")});n+=f}var e=c.getMaxDimensionsOfMainImage(d.main,O,p),h=e[0],k=e[1],e=a("\x3cdiv\x3e\x3c/div\x3e"),h={"max-height":h,"max-width":k};e.addClass(n).css(h).attr({"data-old-hires":d.hiRes,"data-a-manual-replacement":"true",onload:b}).data("a-dynamic-image",d.main);return e}function D(a,d,c){var b="desktop-dp-atf-ib-shoppablescenes-tags-"+a;"function"==typeof uet&&
uet("bb",b,{wb:1});c.attr("data-a-image-name","shoppable-scene:"+a);c=v.find(".mirai-scene-image-block-template").clone().removeClass("mirai-scene-image-block-template aok-hidden").addClass("mirai-shoppable-scene");c.addClass("celwidget").attr("cel_widget_id",b);c.children("span").css("display","inline-block");u.dispatch("initialize-shoppable-scene",{index:a,shoppableScene:d.shoppableScene,imageSource:d.hiRes||d.large||d.lowRes,$tagPlaceholder:c.find(".mirai-scene-tag-placeholder"),$viewProductsButton:c.find(".mirai-scene-view-products-button")});
"MutationObserver"in t&&(new MutationObserver(function(c,b){c.forEach(function(c){"childList"===c.type&&c.target.classList.contains("mirai-scene-image-block-tag-container")&&1===c.addedNodes.length&&"IMG"===c.addedNodes[0].tagName&&""!==c.addedNodes[0].src&&(c=c.addedNodes[0],"function"!==typeof c.onload&&(c.onload=function(){f.trigger("shoppable-scene-image-loaded",{index:a,shoppableScene:d.shoppableScene})}),b.disconnect())})})).observe(c.find(".mirai-scene-image-block-tag-container")[0],{subtree:!0,
childList:!0,attributes:!1});"function"==typeof uet&&uet("cf",b,{wb:1});return c}function J(a,d,b){b=B(a,b);a=c.isShoppableScenesEnabled()&&a.shoppableScene?D(d,a,b):v.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate");a.addClass("image item itemNo"+d+" maintain-height").attr({"data-csa-c-type":"uxElement","data-csa-c-element-type":"navigational","data-csa-c-action":"image-block-main-image-hover","data-csa-c-posy":d+1});a.find(".placeHolder").replaceWith(b);v.find(".list").append(a);
f.loadImageManually(b);f.trigger("dp:image-block:imageBlockImageLoad",d);return a}function Q(a){var d=O.css("height");null!==d&&a.find(".imgTagWrapper").css("height",d);a.addClass("selected");p.imgTagWrapperClasses&&a.find(".imgTagWrapper").addClass(p.imgTagWrapperClasses)}function S(a){if(a.isUserGenerated){var d=h.getPreviousItem(),n=a.variant;c.isDefined(n)&&d.thumbnailIndex!==a.thumbnailIndex&&(b.isEnabled&&m.logAltImgRequestServed(b),l.postCountMetric("ImageThumbnailSelectedVariant:"+n),0===
n.indexOf("IG")&&(l.postCountMetric("IGImageSelectedVariant:"+n),l.postCountMetric("IGImageSelectedEvent:"+a.interaction)))}}function N(d,b,n,e){if((2===p.unrolledImageBlockTreatment||3===p.unrolledImageBlockTreatment)&&!e&&"unavailable"!==d.type){if(d=p.colorImages&&p.colorImages[n],a(".unrolledImg").each(function(d){a(this).remove()}),c.isDefined(d)&&(a.each(d,function(d,c){if(d<p.maxAlts){var b=a(".unrolledImg");b[d]?a(".unrolledImg #unrolledImgNo"+d+" img").replaceWith('\x3cimg alt\x3d"" src\x3d"'+
c.large+'" data-a-hires\x3d"'+c.hiRes+'" data-a-manual-replacement\x3d"true"\x3e'):d>=b.length&&a('\x3cli data-csa-c-action\x3d"image-block-main-image-hover" data-csa-c-element-type\x3d"navigational" data-csa-c-posy\x3d"'+(d+1)+'" data-csa-c-type\x3d"uxElement" class\x3d"image item itemNo'+d+' unrolledImg imgMedia"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-declarative" data-action\x3d"main-image-click" data-csa-c-type\x3d"widget" data-csa-c-func-deps\x3d"aui-da-main-image-click" data-main-image-click\x3d"{}" data-ux-click\x3d""\x3e \x3cdiv id\x3d"imgTagWrapperId" class\x3d"imgTagWrapper"\x3e \x3cdiv id\x3d"unrolledImgNo'+
d+'"\x3e \x3cdiv class\x3d"a-image-container a-dynamic-image-container greyBackground" style\x3d"width:100%; height:600px;"\x3e \x3cimg alt\x3d"" src\x3d"'+c.large+'" data-a-hires\x3d"'+c.hiRes+'" data-a-manual-replacement\x3d"true"\x3e \x3c/div\x3e \x3c/div\x3e\x3c/div\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(a(".unrolledScrollBox .list-unrolled"))}}),f.loadHiResImage(document.querySelectorAll(".unrolledImg.imgMedia img")),n=c.isDefined(b)))l.postCountMetric("mainImageUpdateOnTwisterVariationClick"),
b()}else if("image"===d.type||"unavailable"===d.type||"lazy-loaded"===d.type){(n=c.isDefined(b))&&l.postCountMetric("mainImageUpdateOnTwisterVariationClick");e=c.getImageHash(d.color,d.index,p);if(-1===e)return b={data:{index:0,thumbnailIndex:0,variant:"",type:"unavailable"}},c.lazyLoadingRequired(d,h,p)||(u.dispatch("updateModel",b),c.showUnavailable(d.color)),-1;var k=v.find(".item.itemNo"+d.thumbnailIndex);c.isjQueryObjDefined(k)||(k=J(e,d.thumbnailIndex,b),n?(U=H=!1,y(k,d,"swatchClick")):y(k,
d,"altImageHover"));Q(k);u.dispatch("loadMagnifier");M(d);q(k,e);S(d);f.trigger("dp:image-block:update",e)}}function L(a){var d=Math.max(F(a.color,h.getCurrentItem().variant),0),d=c.getImageHash(a.color,d,p);if(-1===d)return c.lazyLoadingRequired(a,h,p)||c.showUnavailable(a.color),-1;var b=v.find(".swatchHoverExp"),n=B(d);b.find(".imgTagWrapper").html(n);f.loadImageManually(n);l.postCountMetric("mainImageUpdateOnTwisterVariationHover");Q(b);y(b,a,"swatchHover");f.trigger("dp:image-block:update",d)}
function G(d,b){c.lazyLoadingRequired(d,h,p)||(a("#imageBlock").css("opacity","1"),v.css("opacity","1"),c.spinner(v,!1),v.find("li").removeClass("selected"),a("#image-canvas-caption #canvasCaption").empty(),c.hideUnavailable(),b&&v.find(".list .item").remove())}function k(){var d=v.find(".item .imgTagWrapper"),b=c.getContainerHeight(O,p.holderRatio,p.holderMaxHeight);0<b&&(O.height(b),d.height(b));v.find("img.a-dynamic-image").each(function(){var d=a(this);d.data("a-manual-replacement")&&f.loadDynamicImage(this);
var b=d.data("a-dynamic-image"),b=c.getMaxDimensionsOfMainImage(b,O,p);d.css({"max-height":b[0]+"px","max-width":b[1]+"px"})})}function C(a){M(h.getCurrentItem(),"mouseenter"===a.type)}var A,p,h,u,I,K,z,v,O,P={},d,n=null,H=!1,U=!1;f.on("triggerImageAjax",function(a){var d=h.getCurrentItem().color;p.colorImages[d]||(p.colorImages[d]=a);a={type:"updatedData",data:h.getCurrentItem()};u.dispatch("updateView",a);(d=p.colorToAsin[d])&&d.asin&&x.register(c.rankedImagesReadyEvent(d.asin))});return function(b,
f,e,g){A=this;p=b;h=f;u=g;p.colorImages[p.landingAsinColor]=p.colorImages[p.defaultColor];A.render=function(b,f,e,k,g,m,H,l){v=2!==p.unrolledImageBlockTreatment&&3!==p.unrolledImageBlockTreatment?e:a(".unrolledScrollBox");z=k;O=g;d=r(f,b,m);m?0===f&&y(v.find(".item.itemNo0"),h.getCurrentItem(),"landing"):(f=h.getCurrentItem(),c.lazyLoadingRequired(f,h,p)&&u.dispatch("updateModel",{data:{type:"lazy-loaded"}}));G(h.getCurrentItem(),!m);2===p.unrolledImageBlockTreatment||3===p.unrolledImageBlockTreatment?
"swatchClick"===l&&p&&p.colorImages?(n=p.colorImages[b],N(h.getCurrentItem(),H,b,m)):"updatedData"===l&&p&&p.colorImages&&p.colorImages[b]!==n&&(n=p.colorImages[b],N(h.getCurrentItem(),H,b,m)):N(h.getCurrentItem(),H,b,m);return d};c.isImageBlockGridViewHoverDelayEnabled()?A.update=function(a){var b=a.data;h.setCurrentEvent(a);"ingress"!==b.type&&"swatchHover"!==a.type&&(h.setToPreviousItem(),"mouseenter"===a.type?(K&&clearTimeout(K),K=setTimeout(function(){h.setToCurrentItem(b);G(a.data,!1)},c.getHoveringDelayTimer())):
"mouseleave"===a.type?K&&clearTimeout(K):"click"===a.type&&(h.setToCurrentItem(b),G(a.data,!1)));"swatchHover"===a.type?("ingress"!==b.type&&G(a.data,!1),b.color===h.getCurrentItem().color?N(h.getCurrentItem(),null,b.color,!0):a.captured||-1===L(b)||(a.captured=!0)):"image"===b.type&&(b.interaction=a.type,b.isUserGenerated=!0,"mouseenter"===a.type?(l.postCountMetric("dpcc_imageThumbHovered_"+(b.thumbnailIndex+1)+"_"+d),I&&clearTimeout(I),I=setTimeout(function(){N(b,null,b.color,!0);p.usePeekHover||
c.selectGivenThumbnail(a.$declarativeParent,z)},c.getHoveringDelayTimer())):"mouseleave"===a.type?I&&clearTimeout(I):"click"===a.type&&(N(b,null,b.color,!0),c.selectGivenThumbnail(a.$declarativeParent,z),l.postCountMetric("dpcc_imageThumbClicked_total"),l.postCountMetric("dpcc_imageThumbClicked_"+(b.thumbnailIndex+1)+"_"+d)))}:A.update=function(a){var b=a.data;h.setCurrentEvent(a);"ingress"!==b.type&&G(a.data,!1);"swatchHover"===a.type?b.color===h.getCurrentItem().color?N(h.getCurrentItem(),null,
b.color,!0):a.captured||-1===L(b)||(a.captured=!0):"image"===b.type&&(b.interaction=a.type,b.isUserGenerated=!0,"mouseenter"===a.type&&l.postCountMetric("dpcc_imageThumbHovered_"+(b.thumbnailIndex+1)+"_"+d),N(b,null,b.color,!0),p.usePeekHover&&"click"!==a.type||(c.selectGivenThumbnail(a.$declarativeParent,z),"click"===a.type&&(l.postCountMetric("dpcc_imageThumbClicked_total"),l.postCountMetric("dpcc_imageThumbClicked_"+(b.thumbnailIndex+1)+"_"+d))))};p.overrideAltImageClickAction&&c.addTag("clickEnabledOnAltImages");
u.register("imageHover",C);u.register("resize",k)}});"use strict";x.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockAdditionalAltImageView",function(f,a,c,e,l,b,m){function g(b,f,e,h,g){if(!c.isjQueryObjDefined(b.find(".a-button-selected"))){var d=C.getCurrentItem();if(!h||"chromeless-video"!==d.type||!k.autoplayVideo){h=0;"image"===d.type&&(h=Math.max(c.getIndexForVariant(d.color,d.variant,k),0));var n=0;c.isDefined(k.heroImage[d.color])&&
(n=k.heroImage[d.color].length);g=h-(f>=k.maxAlts?k.maxAlts-g-n:0);f=0<=g?f+g:h+n;f>=e&&(h=0,f=n);e=c.getImageHash(d.color,h,k);-1!==e&&(A.dispatch("updateModel",{data:{index:h,thumbnailIndex:f,variant:e.variant,type:"image",shoppableScene:e.shoppableScene}}),e=b.find(".item").get(f),c.selectGivenThumbnail(a(e),b))}}}function r(a){if(!k.useChildVideos)return c.lazyLoadingRequired(C.getCurrentItem(),C,k)?void 0:k.videos;if(k.colorToVideo[a])return k.colorToVideo[a];var b=k.colorToAsin[a];if(b&&b.asin){var f=
{};f.params={asin:b.asin,productGroupID:k.productGroupID,useAiryVideoPlayer:!0,useChromelessVideoPlayer:k.useChromelessVideoPlayer,isUDP:k.isUDP};k.isDPXFeatureEnabled||(f.success=function(a){videosOnTwisterRefresh(a)},e.load(VIDEO_AJAX_ENDPOINT,f));return k.colorToVideo&&k.colorToVideo[a]}}function q(f,e,h){if((2===k.unrolledImageBlockTreatment||3===k.unrolledImageBlockTreatment)&&h)return f;var l=r(e),G=c.isDefined(l)&&0<l.length&&k.alwaysIncludeVideo?1:0;e=k.colorImages&&k.colorImages[e];var l=
f,d=0;c.isDefined(e)&&(a.each(e,function(b,e){if(d>=k.maxAlts-G&&f<k.maxAlts+k.additionalNumberOfImageAlts){if(2===k.unrolledImageBlockTreatment||3===k.unrolledImageBlockTreatment){var h=a(".thumbItemUnrolled");h[f]?h[f].querySelector("img").src=e.thumb:a('\x3cli class\x3d"thumbItemUnrolled thumbTypeimage thumbIndex'+b+'"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-button a-button-thumbnail a-button-toggle" id\x3d"a-autoid-'+(f+1)+'"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"a-autoid-'+
(f+1)+'-announce"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"a-autoid-'+(f+1)+'-announce"\x3e \x3cimg alt\x3d"" src\x3d"'+e.thumb+'"\x3e \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(a(".regularAltImageViewLayout"))}else c.createThumbnail({type:"image",index:b,thumbnailIndex:f,variant:e.variant,shoppableScene:e.shoppableScene},e.thumb,p,"imageThumbnail");f++}d++}),b.isEnabled&&m.logAltImgRequestPlacedOnThumbnails(a,b,C),g(p,l,f,h,G));return f}function M(a,
b){k.useIV&&c.isDefined(b.hiRes)&&a.css("cursor","pointer")}function F(b,f){if("image"===b.type){var e=a("#image-canvas-caption #canvasCaption"),h,g=k.staticStrings,d=k.colorImages,n=b.color,p=b.index;c.isShoppableScenesEnabled()&&b.shoppableScene?h=g.clickSceneTagsToShopProducts:f&&k.useIV?h=g.clickToExpand:d[n]&&d[n][p].hiRes&&k.useHoverZoom?(h=k.useHoverZoomIpad?g.touchToZoom:k.useClickZoom?g.clickToZoom:g.rollOverToZoom,k.hoverZoomIndicator&&(h="\x3cimg src\x3d'"+k.staticImages.hoverZoomIcon+
"'/\x3e\x26nbsp;"+h)):k.useIV&&(h=g.clickToExpand);e.html(h)}}function y(b,f){var e="a-dynamic-image";if(!k.acEnabled){var h;a.each(b.main,function(a,d){c.isDefined(h)||(h=parseFloat(d[1]/d[0])<=parseFloat(k.holderRatio)?" a-stretch-vertical":" a-stretch-horizontal")});e+=h}var g=c.getMaxDimensionsOfMainImage(b.main,u,k),d=g[0],n=g[1],g=a("\x3cdiv\x3e\x3c/div\x3e"),d={"max-height":d,"max-width":n};g.addClass(e).css(d).attr({"data-old-hires":b.hiRes,"data-a-manual-replacement":"true",onload:f}).data("a-dynamic-image",
b.main);return g}function B(a,b,c){var e="desktop-dp-atf-ib-shoppablescenes-tags-"+a;"function"==typeof uet&&uet("bb",e,{wb:1});c.attr("data-a-image-name","shoppable-scene:"+a);c=h.find(".mirai-scene-image-block-template").clone().removeClass("mirai-scene-image-block-template aok-hidden").addClass("mirai-shoppable-scene");c.addClass("celwidget").attr("cel_widget_id",e);c.children("span").css("display","inline-block");A.dispatch("initialize-shoppable-scene",{index:a,shoppableScene:b.shoppableScene,
imageSource:b.hiRes||b.large||b.lowRes,$tagPlaceholder:c.find(".mirai-scene-tag-placeholder"),$viewProductsButton:c.find(".mirai-scene-view-products-button")});"MutationObserver"in t&&(new MutationObserver(function(c,d){c.forEach(function(c){"childList"===c.type&&c.target.classList.contains("mirai-scene-image-block-tag-container")&&1===c.addedNodes.length&&"IMG"===c.addedNodes[0].tagName&&""!==c.addedNodes[0].src&&(c=c.addedNodes[0],"function"!==typeof c.onload&&(c.onload=function(){f.trigger("shoppable-scene-image-loaded",
{index:a,shoppableScene:b.shoppableScene})}),d.disconnect())})})).observe(c.find(".mirai-scene-image-block-tag-container")[0],{subtree:!0,childList:!0,attributes:!1});"function"==typeof uet&&uet("cf",e,{wb:1});return c}function D(a,b,e){e=y(a,e);a=c.isShoppableScenesEnabled()&&a.shoppableScene?B(b,a,e):h.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate");a.addClass("image item itemNo"+b+" maintain-height").attr({"data-csa-c-type":"uxElement","data-csa-c-element-type":"navigational",
"data-csa-c-action":"image-block-main-image-hover","data-csa-c-posy":b+1});a.find(".placeHolder").replaceWith(e);h.find(".list").append(a);f.loadImageManually(e);return a}function J(a){var c=u.css("height");null!==c&&a.find(".imgTagWrapper").css("height",c);a.addClass("selected");k.imgTagWrapperClasses&&a.find(".imgTagWrapper").addClass(k.imgTagWrapperClasses)}function Q(b,e,g,p){if((2===k.unrolledImageBlockTreatment||3===k.unrolledImageBlockTreatment)&&!p&&"unavailable"!==b.type){b=k.colorImages&&
k.colorImages[g];e=a(".unrolledImg");g=r(g);var m=c.isDefined(g)&&0<g.length&&k.alwaysIncludeVideo?1:0;e.length>k.maxAlts&&e.each(function(d){d>=k.maxAlts&&a(this).remove()});c.isDefined(b)&&a.each(b,function(d,b){d<k.maxAlts-m+k.additionalNumberOfImageAlts&&d>=k.maxAlts-m&&a('\x3cli data-csa-c-action\x3d"image-block-main-image-hover" data-csa-c-element-type\x3d"navigational" data-csa-c-posy\x3d"'+(d+m+1)+'" data-csa-c-type\x3d"uxElement" class\x3d"image item itemNo'+(d+m)+' unrolledImg imgMedia"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-declarative" data-action\x3d"main-image-click" data-csa-c-type\x3d"widget" data-csa-c-func-deps\x3d"aui-da-main-image-click" data-main-image-click\x3d"{}" data-ux-click\x3d""\x3e \x3cdiv id\x3d"imgTagWrapperId" class\x3d"imgTagWrapper"\x3e \x3cdiv id\x3d"unrolledImgNo'+
(d+m)+'"\x3e \x3cdiv class\x3d"a-image-container a-dynamic-image-container greyBackground" style\x3d"width:100%; height:600px;"\x3e \x3cimg alt\x3d"" src\x3d"'+b.large+'" data-a-hires\x3d"'+b.hiRes+'"\x3e \x3c/div\x3e \x3c/div\x3e\x3c/div\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(a(".unrolledScrollBox .list-unrolled"))})}else if("image"===b.type||"unavailable"===b.type||"lazy-loaded"===b.type){g=c.getImageHash(b.color,b.index,k);if(-1===g)return e={data:{index:0,thumbnailIndex:0,variant:"",
type:"unavailable"}},c.lazyLoadingRequired(b,C,k)||(A.dispatch("updateModel",e),c.showUnavailable(b.color)),-1;p=h.find(".item.itemNo"+b.thumbnailIndex);c.isjQueryObjDefined(p)||(p=D(g,b.thumbnailIndex,e));J(p);A.dispatch("loadMagnifier");F(b);M(p,g);f.trigger("dp:image-block:update",g)}}function S(a){var b=C.getCurrentItem().color;k.colorImages[b]||(k.colorImages[b]=a);a={type:"updatedData",data:C.getCurrentItem()};A.dispatch("updateView",a);(b=k.colorToAsin[b])&&b.asin&&x.register(c.rankedImagesReadyEvent(b.asin))}
function N(){var b=h.find(".item .imgTagWrapper"),e=c.getContainerHeight(u,k.holderRatio,k.holderMaxHeight);0<e&&(u.height(e),b.height(e));h.find("img.a-dynamic-image").each(function(){var b=a(this);b.data("a-manual-replacement")&&f.loadDynamicImage(this);var e=b.data("a-dynamic-image"),e=c.getMaxDimensionsOfMainImage(e,u,k);b.css({"max-height":e[0]+"px","max-width":e[1]+"px"})})}function L(a){F(C.getCurrentItem(),"mouseenter"===a.type)}var G,k,C,A,p,h,u,I;return function(b,e,g,m){G=this;k=b;C=e;
A=m;f.on("triggerImageAjax",S);k.colorImages[k.landingAsinColor]=k.colorImages[k.defaultColor];G.render=function(b,d,e,f,g,m,l){h=e;p=f;u=g;I=q(d,b,m);m||(d=C.getCurrentItem(),c.lazyLoadingRequired(d,C,k)&&A.dispatch("updateModel",{data:{type:"lazy-loaded"}}));d=C.getCurrentItem();e=!m;c.lazyLoadingRequired(d,C,k)||(a("#imageBlock").css("opacity","1"),h.css("opacity","1"),c.spinner(h,!1),h.find("li").removeClass("selected"),a("#image-canvas-caption #canvasCaption").empty(),c.hideUnavailable(),e&&
h.find(".list .item").remove());Q(C.getCurrentItem(),l,b,m);return I};G.update=function(a){};k.overrideAltImageClickAction&&c.addTag("clickEnabledOnAltImages");A.register("imageHover",L);A.register("resize",N)}});"use strict";x.when("A","jQuery","imageBlockUtils","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockMagnifierView",function(f,a,c,e,l,b){function m(a){Q?a.css("cursor","url('"+F.staticImages.zoomIn+"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor",
"-moz-zoom-in"),a.css("cursor","zoom-in"))}function g(a){var b=a.match(/\._((\w|,|\.)+)_\.(gif|jpg|png)$/i);a={};if(c.isDefined(b))for(var b=b[1].split("_"),e=0;e<b.length;e++){var f=b[e].match(/^([A-Z]+)(\d+(\.\d+)?)$/);c.isDefined(f)&&(a[f[1]]=parseInt(f[2],10))}return a}function r(q,r){function L(){var a;r.useClickZoom?(a=r.offsetInClickZoom,a=[Math.min(1,Math.max(0,D[0]-(d[0]+a))/(d[2]-2*a)),Math.min(1,Math.max(0,D[1]-(d[1]+a))/(d[3]-2*a))]):a=v&&v.updatePosition();if(a&&z&&z.detailSize){var b=
[z.detailSize[0]-z.rect.width,z.detailSize[1]-z.rect.height];f.capabilities.rtl?z.detailImage.get(0).style.right=-(a[0]*b[0])+"px":z.detailImage.get(0).style.left=-(a[0]*b[0])+"px";z.detailImage.get(0).style.top=-(a[1]*b[1])+"px"}}function G(a){return a.offsetParent().hasClass("a-dynamic-image-container")}function k(b){var d=T?b.originalEvent.touches[0]||b.originalEvent.changedTouches[0]:"";D=T?[d.pageX,d.pageY]:[b.pageX,b.pageY];if(f.capabilities.rtl){var c=a(t).width();D=T?[c-d.pageX,d.pageY]:[c-
b.pageX,b.pageY]}}function C(a){T&&a.preventDefault();k(a);r.useClickZoom?a=[d[0],d[1],d[0]+d[2],d[1]+d[3]]:(a=v?v.offset:q.offsetParent().offset(),a=F.acEnabled?[a.left,a.top,M.width()+a.left,M.height()+a.top]:[y[0]+a.left,y[1]+a.top,y[0]+y[2]+a.left,y[1]+y[3]+a.top]);D[0]<a[0]||D[1]<a[1]||D[0]>=a[2]||D[1]>=a[3]||F.acEnabled&&!G(q)?(r.fadeMagnifier?X||(X=!0,aa=setTimeout(function(){A(!0)},500)):r.useClickZoom||A(),E&&(E=!1,clearTimeout(ba))):(E||(E=!0,ba=setTimeout(function(){e.postCountMetric("dppc_hoverZoomOpened");
l.isEnabled&&b.logHoverZoomRequestServed(l)},1E3)),r.fadeMagnifier&&X&&(X=!1,clearTimeout(aa)),L())}function A(b){b&&u.suppressMagnifier(!0);if(H&&(z&&z.hide(),v&&(v.destroy(),v=null),H=!1,T?(q.unbind("touchmove.magnifier touchstart.magnifier touchend.magnifier"),a(document).trigger("disengaged.magnifier")):a(document).unbind("mousemove.magnifier").trigger("disengaged.magnifier"),h(),b))q.one("click.magnifier touchstart.magnifier",function(a){p(a,!0)})}function p(b,c){c&&u.suppressMagnifier(!1);if(!H&&
!U&&(0===W&&(e.postCountMetric("dppc_hoverTime",new Date-(t.ue&&t.ue.t0||0)),W=1),J[R]||(e.postCountMetric("dppc_hoverMain"),J[R]=1),y=[q.position().left,q.position().top,q.width(),q.height()],R&&(k(b),z?z.refit().show():z=new ha,r.useClickZoom||(v=v||new x),d=z.getWindowSize(),L()),H=!0,T?(q.unbind("touchstart.magnifier touchmove.magnifier").bind("touchmove.magnifier",C).bind("touchend.magnifier",A),a(document).trigger("engaged.magnifier")):(F.acEnabled?M.unbind("mousemove.magnifier"):q.unbind("mousemove.magnifier"),
a(document).trigger("engaged.magnifier").bind("mousemove.magnifier",C)),c)){var f=a("#zoomWindow");if(0<f.length)f.one("click.magnifier touchend.magnifier",function(a){A(!0)})}}function h(){r.useHoverZoom&&(T?q.bind("touchstart.magnifier touchmove.magnifier",p):F.acEnabled?G(q)&&M.bind("mousemove.magnifier",p):q.bind("mousemove.magnifier",p))}var u=this,M=q.offsetParent(),B={detailImageUrl:q.attr("data-old-hires"),location:"over",locationElement:q,prelaod:"ready",zIndex:50,offsetInClickZoom:50};r=
a.extend(B,r);r.adjustment=[10,0,-10,0];var z=null,v=null,D=null,y=null,d=null,n={"null":1,"":1,undefined:1},H=!1,U=!1,R=r.detailImageUrl,T=r.useHoverZoomIpad||0,W=0,J={},x=function(){function b(a){var d=Math.round(Math.min(q.width(),z.rect.width/a));a=Math.round(Math.min(q.height(),z.rect.height/a));h.css({width:d,height:a});c=[d,a]}var d=this,c=[0,0],e=(z.detailSize&&z.detailSize[0]||5E8)/y[2],f=(z.detailSize&&z.detailSize[1]||5E8)/y[3],e=f>e?f:e;a("#magnifierLens").remove();var h=a("\x3cdiv id\x3d'magnifierLens' /\x3e").css({position:"absolute"});
r.generalImageUrls.zoomLensBackground&&h.css({backgroundImage:"url("+r.generalImageUrls.zoomLensBackground+")"});F.showMagnifierOnHover?m(h):h.css("cursor","pointer");d.updatePosition=function(){var a=[y[2]-c[0],y[3]-c[1]],b=0>=a[0]?.5:Math.max(0,Math.min(1,(D[0]-c[0]/2-y[0]-d.offset.left)/a[0])),e=0>=a[1]?.5:Math.max(0,Math.min(1,(D[1]-c[1]/2-y[1]-d.offset.top)/a[1])),f=y[0]+Math.round(b*a[0]),a=y[1]+Math.round(e*a[1]);h.get(0).style.left=f+"px";h.get(0).style.top=a+"px";return[b,e]};d.destroy=function(){h.remove()};
d.offset=q.offsetParent().offset();b(e);d.updatePosition();h.appendTo(q.parent());z.detailImage[0].complete||z.detailImage.load(function(){var a=z.detailImage.width()/y[2];b(a);d.updatePosition()})};x.preload=function(){u.preload(r.generalImageUrls.lensBackgroundUrl)};var ha=function(){function b(){var d={};if("over"===r.location){var d=r.useClickZoom,h={},g=a("#leftCol"),k=a("#centerCol"),p=a("#rightCol"),m=a("#hover-zoom-end"),l=a("#actionPanelContainer"),w=c.isjQueryObjDefined(g)?g.outerHeight():
k.outerHeight();h.top=c.isjQueryObjDefined(g)?g.offset().top:k.offset().top;h.bottom=w+h.top;h.right=c.isjQueryObjDefined(p)?p.offset().left:l.offset().left;h.left=d?0:g.offset().left+g.outerWidth();c.isjQueryObjDefined(m)&&m.offset().top>h.bottom&&(h.bottom=m.offset().top);d=h}else"right"===r.location&&(d=q.offset(),d={left:d.left+q.outerWidth(),top:d.top,right:d.left+q.outerWidth()+400,bottom:d.top+400});r.minHeightElement&&(d.bottom=Math.max(d.bottom,d.top+a(r.minHeightElement).outerHeight()));
d.bottom=Math.min(d.bottom,a(t).scrollTop()+a(t).height());d.left+=f[0];d.top+=f[1];d.right+=f[2];d.bottom+=f[3];d.width=d.right-d.left;d.height=d.bottom-d.top;r.enhancedHoverOverlay&&c.isDefined(t.pageXOffset)&&(h=a(t).width(),d.width=h-d.left+t.pageXOffset-18,d.height-=14);n.css({left:d.left,top:d.top,width:d.width,height:d.height});e.rect=d;return e}function d(a){var b=new Image;e.detailSize=[0,0];b.onload=function(){e.detailSize=[b.width,b.height];L()};b.src=a.attr("src");if(0<b.width&&0<b.height)e.detailSize=
[b.width,b.height];else if(r.detailImageSize)e.detailSize=r.detailImageSize;else{a=g(b.src);var c=y[2]/y[3];a.SS||a.AA?(a=a.SS||a.AA,e.detailSize=[a,a]):a.SX?e.detailSize=[a.SX,Math.round(a.SX/c)]:a.SY?e.detailSize=[Math.round(a.SY*c),a.SY]:a.SL&&(e.detailSize=1<=c?[a.SL,Math.round(a.SL/c)]:[Math.round(a.SL*c),a.SL])}}var e=this,f=r.adjustment;a("#zoomWindow").remove();var h={overflow:"hidden",position:"absolute",backgroundColor:"white",zIndex:r.zIndex};r.enhancedHoverOverlay&&(h.boxShadow="0 6px 8px 2px rgba(0,0,0,.25)",
h.border="1px solid #949494",h.borderColor="rgb(148,148,148)");var n=a("\x3cdiv id\x3d'zoomWindow' /\x3e").css(h);r.fadeMagnifier&&n.fadeIn(200);r.useClickZoom&&(Q?n.css("cursor",'url("'+r.zoomOutIcon+'"), auto'):(n.css("cursor","-webkit-zoom-out"),n.css("cursor","-moz-zoom-out"),n.css("cursor","zoom-out")));e.updateImage=function(b){b=a("\x3cimg id\x3d'detailImg' src\x3d'"+b+"'/\x3e").css("position","absolute");e.detailImage&&e.detailImage.remove();n.append(b);a(document).trigger("updated.magnifier");
e.detailImage=b;d(e.detailImage)};e.refit=function(){b();d(e.detailImage);return e};r.fadeMagnifier?(e.show=function(){n.fadeIn(200);return e},e.hide=function(){n.fadeOut(200);return e}):(e.show=function(){n.show();return e},e.hide=function(){n.hide();return e});e.destroy=function(){n.remove();return e};e.getWindowSize=function(){return[e.rect.left,e.rect.top,e.rect.width,e.rect.height]};e.updateImage(R);b();n.appendTo(document.body)},X=!1,aa,E=!1,ba;u.preload=function(d){d=a.makeArray(d);for(var b=
d.length,c=0;c<b;c++)d[c]instanceof Array?u.preload(d[c]):"string"===typeof d[c]&&d[c]&&!n[d[c]]&&(n[d[c]]=new Image,n[d[c]].src=d[c])};u.changeImage=function(d,b){H&&A();R=b;q.attr("src",d);u.preload(d);y=[q.position().left,q.position().top,q.width(),q.height()];b&&("immediately"===r.preload?u.preload(b,!0):a(t).ready(function(){u.preload(b)}),z?z.updateImage(b):q.attr("data-old-hires",b))};u.destroy=function(){F.acEnabled?M.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier"):
q.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier");a(document).unbind("mousemove.magnifier");v&&v.destroy();v=null;z&&z.destroy();z=null};u.detailImage=function(){return z.detailImage};u.suppressMagnifier=function(a){U=a};u.isEngaged=function(){return H};u.engageMagnifier=p;u.disengageMagnifier=A;q[0].complete?h():q.one("load",h);u.preload(q.attr("src"));t.performance&&performance.now&&t.ue&&ue.count&&ue.count("MagnifierImageDownload",performance.now());if(r.preload){var ea=
r.detailImageUrl,B=function(){u.preload(ea,!0);r.useClickZoom||x.preload()},ca=r.preload;ca.constructor!==Array&&(ca=[ca]);for(var w=0;w<ca.length;w++)if("immediately"===ca[w])B();else if(a(t)[ca[w]])a(t)[ca[w]](B);else a(t).bind(ca[w],B)}return u}function q(){if(F.useHoverZoom){var e={adjustment:[0,0,1,1],generalImageUrls:F.staticImages,location:"over",minHeightElement:"#imageBlock",preload:"ready",zIndex:199,useHoverZoomIpad:F.useHoverZoomIpad,useHoverZoom:F.useHoverZoom,useClickZoom:F.useClickZoom,
fadeMagnifier:F.fadeMagnifier,zoomOutIcon:F.staticImages.zoomOutCur,enhancedHoverOverlay:F.enhancedHoverOverlay||F.atfEnhancedHoverOverlay};D&&(D.destroy(),D=ka);var f=J.find(".image.item.selected:not(.mirai-shoppable-scene) img[data-old-hires]").not("[data-old-hires\x3d'']");c.isjQueryObjDefined(f)?F.useClickZoom?(f.one("click.loadmagnifier touchstart.loadmagnifier",function(a){D=new r(f,e);D.engageMagnifier(a,!0)}),Q?f.css("cursor",'url("'+F.staticImages.zoomInCur+'"), auto'):(f.css("cursor","-webkit-zoom-in"),
f.css("cursor","-moz-zoom-in"),f.css("cursor","zoom-in"))):D=new r(f,e):l.isEnabled&&b.logHoverZoomApplicability(a,l)}}var M,F,y,B,D,J,Q=navigator.userAgent.match(/msie|trident/i);return function(a,b,c,e){M=this;F=a;y=b;l.refToModel=y;B=e;M.render=function(a,b,c,e,f,g){J=c;D&&(D.destroy(),D=ka)};M.update=function(a){};B.register("loadMagnifier",q);B.register("resize",q)}});"use strict";x.when("A","jQuery","imageBlockUtils","postMetric").register("ImageBlockTwisterView",function(f,a,c,e){function l(a,
b,f){a=(a=f?f:c.getColorFromState(b.getState().hovered_variations,g))&&""!==a?a:g.defaultColor;q.dispatch("updateView",{type:"swatchHover",data:{color:a}});e.postCountMetric("swatchHover")}function b(a,b,f,m){a=(a=m?m:c.getColorFromState(b.getState().selected_variations,g))&&""!==a?a:g.defaultColor;a===r.getCurrentItem().color?"function"===typeof f&&f():(q.dispatch("updateSelection",{type:"swatchClick",data:{color:a},onload:function(){var a={hasComponents:!0,components:[{name:"mainImage"}]};"function"===
typeof t.markFeatureRender&&t.markFeatureRender("imageblock",a);f()}}),e.postCountMetric("swatchClick"))}var m,g,r,q;return function(a,c,e,t){m=this;g=a;r=c;q=t;f.on("image-block-twister-swatch-hover",l);f.on("image-block-twister-swatch-click",b);m.render=function(a,b,c,e,f){};m.update=function(a){}}});"use strict";x.when("A","jQuery","Airy","imageBlockUtils","ImageBlockLoader","postMetric","vse_ns_videoPlayer").register("ImageBlockVideoView",function(f,a,c,e,l,b,m){function g(d,b,c,f){!h.autoplayVideo||
ba||h.useChromelessVideoPlayer?!e.isjQueryObjDefined(d.find(".a-button-selected"))&&(c=u.getCurrentItem(),!f||h.prioritizeVideos||"chromeless-video"===c.type&&h.autoplayVideo)&&(f=e.getVideoHash(c.color,0,h),-1===f||c.thumbnailIndex>=h.maxAlts-1||(b+=0,I.dispatch("updateModel",{data:{index:0,thumbnailIndex:b,variant:f.variant,type:h.useChromelessVideoPlayer?"chromeless-video":"chromeful-video"}}),b=d.find(".item").get(b),e.selectGivenThumbnail(a(b),d))):(e.selectGivenThumbnail(d.find("img:last"),
d),e.fadeToThumbnail(d.find("img").length-1,O,d))}function r(a){var d=u.getCurrentItem().color;if(h.useChildVideos&&!h.colorToVideo[d]){var b=function(){if(a){h.colorToVideo[d]=a;var b={type:"updatedData",data:u.getCurrentItem()};I.dispatch("updateView",b)}};h.lazyLoadExperienceDisabled?b():x.when(e.rankedImagesReadyEvent(h.colorToAsin[d].asin)).execute(function(){b()})}}function q(a){a&&(h.notShowVideoCount=a,a={type:"updatedData",data:u.getCurrentItem()},I.dispatch("updateView",a))}function M(a){if(!h.useChildVideos)return e.lazyLoadingRequired(u.getCurrentItem(),
u,h)?void 0:h.videos;if(h.colorToVideo[a])return h.colorToVideo[a];var d=h.colorToAsin[a];if(d&&d.asin){var b={};b.params={asin:d.asin,productGroupID:h.productGroupID,useAiryVideoPlayer:!0,useChromelessVideoPlayer:h.useChromelessVideoPlayer,isUDP:h.isUDP};h.isDPXFeatureEnabled||(b.success=function(a){r(a)},l.load("/gp/product/features/apparel-main-image/videos.html",b));return h.colorToVideo&&h.colorToVideo[a]}}function F(a){d&&null===a&&2!==h.unrolledImageBlockTreatment&&3!==h.unrolledImageBlockTreatment&&
(d.hide(),z.parent().css("z-index",-1),v.hide(),z.siblings(".ive-creator-profile").addClass("aok-hidden"))}function y(){I.dispatch("selectThumbnail",e.useTabbedImmersiveView(h)?1:0)}function B(f,h,n,g){return c.embed({isShowFirstFrameWhenReadyEnabled:!0,parentElement:f[0],streamingUrls:h.url,swfUrl:n.swfUrl,foresterMetadataParams:n.foresterMetadataParams,backgroundColor:"transparent",flashParams:{wmode:"transparent"},experiments:{supportChromelessPlayback:!0},bindings:{canplay:function(){var a=e.isjQueryObjDefined(f.find("video"))?
"HTML5":"FLASH";b.postCountMetric("dppc_chromelessVideo:"+a)},playing:function(){f.parent().css("z-index",8)},videounsupported:function(){y();b.postCountMetric("dppc_chromelessVideo:VIDEO_UNSUPPORTED")},error:function(){y();b.postCountMetric("dppc_chromelessVideo:ERROR")},ended:function(){d.seek(0)}},cuePoints:[{values:h.durationSeconds-1,type:"position",callback:function(d,b,c){d=c.durationSeconds-c.playheadTimeSeconds;f.parent().css("background-color","white").find(".airy-renderer-container").fadeTo(1E3*
d,.1,function(){f.parent().css({"background-color":"transparent","z-index":-1});y();a(this).show().css("opacity",1)})}}]})}function D(a){a&&(h.enableS2WithoutS1=a,a={type:"updatedData",data:u.getCurrentItem()},I.dispatch("updateView",a))}function J(c,g){if("chromeful-video"===c.type||"chromeless-video"===c.type||"unrolled-video-add"===g){var k=e.getVideoHash(c.color,c.index,h);if(-1===k)return-1;if("chromeful-video"===c.type)a:{var m=c.thumbnailIndex+1,p=O.width()/O.height(),l=parseInt(k.videoWidth,
10),q=parseInt(k.videoHeight,10);e.updateAspectRatio(p,l,q,z);if(d&&"unrolled-video-add"!==g)d.show(),e.loadMediaIntoAiry(d,k,n,h.tabletWeb);else if(h.tabletWeb)d=R;else if(d=e.createAiryInstanceForChromefulNotUseTabbedImmersiveView(z,k,n,null,h.autoplayVideo,O,v,K,m,h.useTabbedImmersiveView,W,T,fa,g),"unrolled-video-add"===g){d.show();e.loadMediaIntoAiry(d,k,n,h.tabletWeb);break a}b:if(2!==h.unrolledImageBlockTreatment&&3!==h.unrolledImageBlockTreatment)if(e.useTabbedImmersiveView(h)){if(1<e.getVideosCount(u.getCurrentItem().color,
h)){if(e.isDefined(P)){v.show();break b}P=a('\x3ca class\x3d"more-videos"\x3e\x3c/a\x3e').attr("href","#").text(h.staticStrings.watchMoreVideos);v.find("#videoCaption").append(P);f.declarative.create(P,"videoIngressClick",H)}e.playVideoInImmersiveView(h,u.getCurrentItem().color)&&(f.declarative.create(z,"videoIngressClick",H),z.attr&&z.attr("data-ux-click",""),z.children().css("z-index","-1"),z.css("display","inline-block"))}else v.find("#videoCaption").text(h.staticStrings.playVideo),v.show();m=
d;h.autoplayVideo&&m&&!ba&&(e.toggleVideoCaption(v),m.setVolume(0),m.show(),m.play(),ba=!0);try{var Z=a("#video-outer-container").find(".ive-creator-profile");if(!(k&&h.enableS2WithoutS1&&k.creatorProfile&&"IB_G2"===k.groupType&&Z))Z.addClass("aok-hidden");else if(1===Z.length){Z.removeClass("aok-hidden");var r=Z.find(".a-profile-content .a-profile-name");0<r.length&&r.html(k.title);var G=Z.find(".a-profile-content .a-profile-descriptor");0<G.length&&G.html(k.creatorProfile.publicName);var U=Z.find(".a-profile-avatar img");
0<U.length&&U.attr("src",k.creatorProfile.url);Z.attr("href",k.creatorProfile.profileLink+"?ref\x3dive_mb_profile");e.isImageBlockGridViewDisplayEnabled()&&Z.css("padding-left","0px")}}catch(C){b.postCountMetric("update_creator_profile_data_error")}Z=z;k=k.groupType;try{var A=Z.parent();if("IB_G2"===k&&0!==q&&0!==l)if(l/=q,p>l){var L=Z.siblings(".ive-creator-profile"),F=Z.siblings("#video-canvas-caption");if(1===L.length){var t=L.height(),D=1===F.length?F.height():0;if(F=D?D+t:t)A.css({"max-height":"calc(100% - "+
F+"px)"}),L.css("width",l/p*100+"%"),L.addClass("profileWrapper"),A.addClass("videoContainerWrapperCenter"),Z.addClass("videoCenterWrapper")}}else A.css("max-height",""),Z.css("width","")}catch(Q){b.postCountMetric("update_max_height_error")}}else if(d&&"unrolled-video-add"!==g)d.show(),e.loadMediaIntoAiry(d,k,n,h.tabletWeb),d.play(),v.show();else if(d=B(z,k,n))"unrolled-video-add"===g&&(d.show(),e.loadMediaIntoAiry(d,k,n,h.tabletWeb)),d.play()}}function Q(d,c,n){if((2===h.unrolledImageBlockTreatment||
3===h.unrolledImageBlockTreatment)&&n)return d;var k=M(c);c=d;var m=a(".unrolledImg"),p=e.isDefined(k)&&0<k.length&&h.alwaysIncludeVideo?1:0;e.isDefined(k)&&0<k.length&&!h.alwaysIncludeVideo&&d===h.maxAlts&&b.postCountMetric("IBVideoDrop");m.length>h.maxAlts&&m.each(function(d){d>=h.maxAlts&&a(this).remove()});p&&d===h.maxAlts&&(2===h.unrolledImageBlockTreatment||3==h.unrolledImageBlockTreatment?(a(".thumbItemUnrolled").last().remove(),a(".unrolledImg").last().remove()):K.find(".item:last").remove(),
d--);e.isDefined(k)&&(a.each(k,function(c,f){if(d<h.maxAlts){if(2===h.unrolledImageBlockTreatment||3===h.unrolledImageBlockTreatment){var n=h.useChromelessVideoPlayer?"chromeless-video":"chromeful-video";a('\x3cli class\x3d"thumbItemUnrolled thumbType'+n+" thumbIndex"+c+'"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-button a-button-thumbnail a-button-toggle" id\x3d"a-autoid-'+d+'"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"a-autoid-'+
d+'-announce"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"a-autoid-'+d+'-announce"\x3e \x3cimg alt\x3d"" src\x3d"'+f.thumb+'"\x3e \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(a("ul.regularAltImageViewLayout"));a('\x3cli data-csa-c-action\x3d"image-block-main-image-hover" data-csa-c-element-type\x3d"navigational" data-csa-c-posy\x3d"'+d+'" data-csa-c-type\x3d"uxElement" class\x3d"image item itemNo'+d+' unrolledImg videoMedia"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-declarative" data-action\x3d"main-image-click" data-csa-c-type\x3d"widget" data-csa-c-func-deps\x3d"aui-da-main-image-click" data-main-image-click\x3d"{}" data-ux-click\x3d"" \x3e \x3cdiv id\x3d"imgTagWrapperId" class\x3d"imgTagWrapper"\x3e\x3cdiv id\x3d"unrolledImgNo'+
d+'" class\x3d"videoIndex'+c+'"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/span\x3e\x3c/span\x3e\x3c/li\x3e').appendTo(a(".unrolledScrollBox .list-unrolled"));h.dp60InLastPositionUnrolledImageBlock||2!==h.dp60VideoPosition||S(a(".regularAltImageViewLayout"),h.dp60VideoPosition)}else{var n=h.useChromelessVideoPlayer?"chromeless-video":"chromeful-video",g={type:n,index:c,thumbnailIndex:d,variant:f.variant};H={type:"video-ingress",index:c,thumbnailIndex:d,variant:f.variant};e.useTabbedImmersiveView(h)&&("chromeful-video"===
n&&(ea+=" videoBlockIngress  videoBlockDarkIngress",f.thumb=f.thumb.replace("_PKmb-play-button-overlay-thumb","")),h.altsOnLeft||(ea+=" a-align-top"));e.isImageBlockGridViewDisplayEnabled()&&(ea+=" videoImageBlockGridView");e.createThumbnail(g,f.thumb,K,ea);2===h.dp60VideoPosition&&S(K,h.dp60VideoPosition);if(e.useTabbedImmersiveView(h)){N(K.find(".videoBlockIngress img"),h.videoIngressATFSlateThumbURL);var g=1<k.length?"multiple-videos":"one-video",m=!0===h.notShowVideoCount?h.staticStrings.multipleVideos:
1<k.length?k.length+" "+h.staticStrings.multipleVideos:h.staticStrings.singleVideo;m&&K.find(".videoBlockIngress").append(K.find("#videoCount_template").clone().text(m).attr("id","videoCount")).addClass(g)}g=b.buildNexusMetric("ib.thumbnailImpression",d+1,f.mediaObjectId,f.groupType,W,T,fa,Y);b.emitNexusMetric(g);g=b.buildNexusMetric("ib.thumbnailRender",d+1,f.mediaObjectId,f.groupType,W,T,fa,Y);b.emitNexusMetric(g);E||(E=!0,b.postCountMetric("chromeless-video"===n?"dppc_chromelessVideoAvailable":
"dppc_chromefulVideoAvailable"))}d++}if(e.useTabbedImmersiveView(h))return!1}),g(K,c,d,n),h.imageBlockRenderingStartTime&&b.postTimeMetric("vse_desktop_ib_video_ingress_enable_duration",f.now()-h.imageBlockRenderingStartTime));return d}function S(d,b){if(0!==b)if(2===h.unrolledImageBlockTreatment||3===h.unrolledImageBlockTreatment){var c=h.useChromelessVideoPlayer?"chromeless-video":"chromeful-video",e=d.children(".thumbTypeimage"),c=d.children(".thumbType"+c);e&&c&&e[b-1]&&a(e[b-1]).before(c[0]);
c=a(".unrolledScrollBox .list-unrolled");e=c.children(".unrolledImg.imgMedia");c=c.children(".unrolledImg.videoMedia");e&&c&&e[b-1]&&a(e[b-1]).before(c[0]);a(".unrolledScrollBox .list-unrolled").children(".unrolledImg").each(function(d){for(var b=null,c=0;c<this.classList.length;c++)this.classList[c].includes("itemNo")&&(b=c);null!==b&&a(this).removeClass(this.classList[b]).addClass("itemNo"+d);this.querySelectorAll("div")[1].id="unrolledImgNo"+d})}else e=d.children(".imageThumbnail"),c=d.children(".videoBlockIngress"),
e&&c&&e[b-1]&&a(e[b-1]).before(c[0])}function N(a,d){var b=a.attr("src");if(b&&d){a.attr("src",d);var c=new Image;c.onload=function(d){a.attr("src",b)};c.src=b}}function L(a){d&&d.pause();a.data=H;a.clickTimeStamp=a.$event.timeStamp;var c="a"===a.targetTag?"dpcc_videoIngressLink":"dpcc_videoIngressSlate";I.dispatch("imageClick",a);b.postTimeMetric("dpcc_vse_videoingressclick",a.$event.timeStamp);a=b.buildNexusMetric("ib.thumbnailClick",a.data.thumbnailIndex+1,h.videos[0].mediaObjectId,h.videos[0].groupType,
W,T,fa,Y);b.emitNexusMetric(a);b.postCountMetric(c)}function G(a){R=a.player;R.hide=function(){R.pause();f.$("#main-video-container").find(".vse-player-container").hide()};R.show=function(){f.$("#main-video-container").find(".vse-player-container").show();R.play()};R.getMediaSourceInfo=function(){return e.getMediaSourceInfo()}}function k(d,b,c,n,k,g){F(g);z=null!==g?a("#unrolledImgNo"+g.thumbnailIndex):n.find("#main-video-container");v=null!==g?"":z.parent().find("#video-canvas-caption");O=null!==
g?a(".unrolledScrollBox"):a("#main-image-container");null===g&&e.isImageBlockGridViewDisplayEnabled()&&(z.addClass("videoCenter"),n.find("#video-outer-container").addClass("videoWrapperCenter"));W=t.location.href;d=u.getCurrentItem().color;!0===k?T=h.mediaAsin:(T=h.colorToAsin[d]&&h.colorToAsin[d].asin,T=e.isDefined(T)?T:h.mediaAsin);h.useChromelessVideoPlayer||z.addClass("chromeful-container");null!==g?J(g,"unrolled-video-add"):J(u.getCurrentItem(),"");e.useTabbedImmersiveView(h)&&f.declarative("videoIngressClick",
["click"],L);d=u.getCurrentItem().color;k=e.getVideoHash(d,0,h);-1!==k&&h.tabletWeb&&(k=e.getNilgiriServiceAjaxRequest(h,d,k),m.get(f,"#main-video-container",k,function(){f.$("#main-video-container").find(".vse-player-container").hide()},function(){f.$("#imageBlock #altImages ul").find("li.videoThumbnail").hide()}))}function C(a,d){function b(a){a=Math.floor((K.width()-1)/h);a=c?a-1:a;d.slice(a).hide();d.slice(0,a).show();d.removeClass("overlayRestOfImages");a<d.length&&d.eq(a-1).addClass("overlayRestOfImages")}
var c=0!=K.find(".item.videoThumbnail").length,e=d.eq(0).width(),f=d.eq(1).position().left-d.eq(0).position().left-e,h=e+f;b();a.register("resize",b)}function A(a){var d=K.find(".item.imageThumbnail");if(!(1>=d.length)){var b=d.eq(0).find("img").get(0);b!==ka&&b.decode().then(function(){C(a,d)})}}var p,h,u,I,K,z,v,O,P,d,n,H,U,R,T,W,fa,Y,ha,X,aa,E=!1,ba=!1,ea="videoThumbnail";return function(d,c,g,m){p=this;h=d;u=c;I=m;n=h.airyConfig;fa=h.contentWeblab&&h.contentWeblab+":"+h.contentWeblabTreatment;
h.colorToVideo={};h.colorToVideo[h.landingAsinColor]=h.colorToVideo[h.defaultColor]=h.videos;h.tabletWeb?(ha="tablet",Y="applicationType.ImageBlock.vse_ib_tablet_web"):f.capabilities.tablet?(ha="tablet",f.capabilities.isAmazonApp&&(Y="applicationType.ImageBlock.vse_ib_tablet_app")):(ha="desktop",Y="desktop_web.ImageBlock.vse_ib_iv");p.render=function(d,b,c,e,f,n){var g=[];if(2===h.unrolledImageBlockTreatment||3===h.unrolledImageBlockTreatment){K=a("ul.regularAltImageViewLayout");U=Q(b,d,n);g=[];b=
a(".thumbItemUnrolled").filter(function(){return this.classList.contains("thumbTypechromeful-video")||this.classList.contains("thumbTypechromeless-video")});for(var m=0;m<b.length;m++){var p=b[m].classList.contains("thumbTypechromeful-video")?"chromeful-video":"chromeless-video",l=Number(b[m].classList[2].slice(10)),H=a(".thumbItemUnrolled").index(b[m]);g.push({color:d,thumbnailIndex:H,type:p,varient:"MAIN",index:l})}for(m=0;m<g.length;m++)k(d,c,e,f,n,g[m])}else K=e,U=Q(b,d,n),k(d,c,e,f,n,null);h.collapsibleThumbnails&&
A(I);return U};e.isImageBlockGridViewHoverDelayEnabled()?p.update=function(a){var d=a.data;"ingress"===d.type||"swatchHover"===a.type||e.lazyLoadingRequired(d,u,h)||(u.setToPreviousItem(),"mouseenter"===a.type?(aa&&clearTimeout(aa),aa=setTimeout(function(){u.setToCurrentItem(d);F(null)},e.getHoveringDelayTimer())):"mouseleave"===a.type?aa&&clearTimeout(aa):"click"===a.type&&(u.setToCurrentItem(d),F(null)));if("swatchHover"===a.type)"ingress"===d.type||e.lazyLoadingRequired(d,u,h)||F(null),d.color===
u.getCurrentItem().color?J(u.getCurrentItem(),""):a.captured||e.lazyLoadingRequired(d,u,h)&&!e.lazyLoadOnHoverEnabled(h)&&J(u.getCurrentItem(),"");else if("chromeful-video"===d.type||"chromeless-video"===d.type){var c=e.getVideoHash(d.color,d.index,h);"mouseenter"===a.type?(b.postCountMetric("dpcc_videoThumbHovered_"+(d.thumbnailIndex+1)+"_"+U),"chromeless-video"===d.type&&(c=b.buildNexusMetric("ib.thumbnailHover",d.thumbnailIndex+1,c.mediaObjectId,c.groupType,W,T,fa,Y),b.emitNexusMetric(c)),X&&clearTimeout(X),
X=setTimeout(function(){J(d,"");!h.usePeekHover&&f.$(a.$currentTarget).closest("li").hasClass("videoThumbnail")&&e.selectGivenThumbnail(a.$declarativeParent,K)},e.getHoveringDelayTimer())):"mouseleave"===a.type?X&&clearTimeout(X):"click"===a.type&&(J(d,""),f.$(a.$currentTarget).closest("li").hasClass("videoThumbnail")&&(e.selectGivenThumbnail(a.$declarativeParent,K),c=b.buildNexusMetric("ib.thumbnailClick",d.thumbnailIndex+1,c.mediaObjectId,c.groupType,W,T,fa,Y),(!e.useTabbedImmersiveView(h)&&"chromeless-video"===
d.type||"tablet"==ha)&&b.emitNexusMetric(c),e.useTabbedImmersiveView(h)&&(b.emitNexusMetric(c),b.postCountMetric("dpcc_videoThumbClicked_"+(d.thumbnailIndex+1)+"_"+U),H.action="videoIngressClick",H.clickTimeStamp=a.$event.timeStamp,H.$event=a.$event,H.$currentTarget=a.$currentTarget,I.dispatch("videoIngressClick",H),b.postTimeMetric("dpcc_vse_videoingressclick",a.$event.timeStamp))))}}:p.update=function(a){var d=a.data;"ingress"===d.type||e.lazyLoadingRequired(d,u,h)||F(null);if("swatchHover"===a.type)d.color===
u.getCurrentItem().color?J(u.getCurrentItem(),""):a.captured||e.lazyLoadingRequired(d,u,h)&&!e.lazyLoadOnHoverEnabled(h)&&J(u.getCurrentItem(),"");else if("chromeful-video"===d.type||"chromeless-video"===d.type){var c=e.getVideoHash(d.color,d.index,h);if("mouseenter"===a.type&&(b.postCountMetric("dpcc_videoThumbHovered_"+(d.thumbnailIndex+1)+"_"+U),"chromeless-video"===d.type)){var n=b.buildNexusMetric("ib.thumbnailHover",d.thumbnailIndex+1,c.mediaObjectId,c.groupType,W,T,fa,Y);b.emitNexusMetric(n)}J(d,
"");h.usePeekHover&&"click"!==a.type||!f.$(a.$currentTarget).closest("li").hasClass("videoThumbnail")||(e.selectGivenThumbnail(a.$declarativeParent,K),"click"===a.type&&(c=b.buildNexusMetric("ib.thumbnailClick",d.thumbnailIndex+1,c.mediaObjectId,c.groupType,W,T,fa,Y),(!e.useTabbedImmersiveView(h)&&"chromeless-video"===d.type||"tablet"==ha)&&b.emitNexusMetric(c),e.useTabbedImmersiveView(h)&&(b.emitNexusMetric(c),b.postCountMetric("dpcc_videoThumbClicked_"+(d.thumbnailIndex+1)+"_"+U),H.action="videoIngressClick",
H.clickTimeStamp=a.$event.timeStamp,H.$event=a.$event,H.$currentTarget=a.$currentTarget,I.dispatch("videoIngressClick",H),b.postTimeMetric("dpcc_vse_videoingressclick",a.$event.timeStamp))))}};h.isDPXFeatureEnabled&&(f.on("triggerVideoAjax",r),f.on("notShowVideoCountAjax",q),f.on("enableS2WithoutS1Ajax",D));f.on("vsePlayer-imageblock_tablet",G)}});"use strict";x.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric","imageBlockImmersiveViewUtils").register("ImageBlockImmersiveView",
function(f,a,c,e,l,b,m,g){function r(a){return a.hiRes||a.large||a.main[a.main.length-1]}function q(){w.find("#ivTitle").click(function(){ca.hide()})}function M(){V=Pa?{type:"360-spin"}:ba.getCurrentItem()}function F(){var a=w.find("#ivStage"),d=ca.$container.find(".a-popover-wrapper"),b=d.find(".a-popover-inner"),d=d.height()-g.getDimension(b,"padding-top")-g.getDimension(b,"padding-bottom");w.css("height",d);var b=w.find("#ivTitle").outerHeight(!0),c=w.find("#ivVariationSelection").outerHeight(!0),
e=w.find("#ivMediaSelection").outerHeight(!0),f=w.find("#ivThumbs"),n=g.getDimension(f,"margin-top")+g.getDimension(f,"margin-bottom");f.css("height",d-b-c-e-n);w.find("#ivLargeImage").css("height",d);a.css("width",w.width()-g.getDimension(w,"padding-left")-g.getDimension(w,"padding-right")-w.find("#ivThumbColumn").width()-g.getDimension(a,"margin-left")-g.getDimension(a,"margin-right"))}function y(){w.find("#ivMediaSelect").change(function(){var d=a(this).val();"all"===d?(w.find("#ivVideoList").hide(),
w.find("#ivThumbs").show(),w.find(".ivThumbVideo").show(),"chromeful-video"===V.type&&w.find("#ivVideo_"+V.index).click()):"images"===d?(w.find("#ivVideoList").hide(),w.find("#ivThumbs").show(),w.find(".ivThumbVideo").hide(),"chromeful-video"===V.type&&(0===ia&&0===ga?w.find("#iv360").click():0===ia?w.find("#ivHeroImage_0").click():w.find("#ivImage_0").click())):"videos"===d&&(w.find("#ivVideoList").show(),w.find("#ivThumbs").hide(),"chromeful-video"!==V.type?w.find("#ivVideoList_0").click():w.find("#ivVideoList_"+
V.index).click())})}function B(){var a=w.find("#ivStage").find("#ivLargeImage"),d=a.width(),b=a.height(),c=a.find(".fullscreen");c.removeAttr("style");var e=c.width(),f=c.height();0<c.length&&(c[0].naturalWidth&&(e=c[0].naturalWidth),c[0].naturalHeight&&(f=c[0].naturalHeight));a.css("cursor","auto");var e=0===e?1:e,f=0===f?1:f,n=Math.min(d/e,b/f),h=f*n,g=e*n;1>n?(Qa?a.css("cursor","url('"+E.staticImages.zoomIn+"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor",
"zoom-in")),za=!0):za=!1;e=Math.min(g,e);f=Math.min(h-20,f);c.css({"margin-top":(b-f)/2,"margin-left":(d-e)/2,height:f,width:e});a.css("visibility","visible");Aa=!1}function D(a){var d=w.find("#ivLargeImage");d.css("visibility","hidden");d.empty();g.animateStageIn(d);d.append(a);B()}function J(){ja&&ja.pause();w.find("#ivLarge360").css("display","none");w.find("#ivLargeVideo").css("display","none");w.find("#ivLargeImage").css("display","none");C()}function Q(d){J();w.find("#ivLargeImage").css("display",
"block");var b;"hero-image"===d?c.isDefined(ma)&&(b=r(ma[V.index])):c.isDefined(na)&&(b=r(na[V.index]));if(c.isDefined(b)){w.find(".fullscreen").remove();var e=a("\x3cimg\x3e").attr("src",b).addClass("fullscreen"),f=w.find("#ivLargeImage");g.animateStageOut(f,function(){e.load(function(){D(e)});if(e[0].complete)D(e);else{f.empty();var d=(f.height()-104)/2,b=(f.width()-80)/2;a("\x3cimg\x3e").attr("src",E.staticImages.spinner).css({position:"relative",top:d+"px",left:b+"px"}).appendTo(f)}})}}function S(){var a=
parseInt(V.index,10)+1;a>=la.length||w.find("#ivVideo_"+a).click()}function N(){var a;c.isDefined(la)&&(a=la[V.index]);if(c.isDefined(a)){J();var d=w.find("#ivLargeVideo").css("display","block");ja?(ja.isDetached()&&ja.attach(d[0]),c.loadMediaIntoAiry(ja,a,wa,E.tabletWeb),ja.show()):(ja=c.createAiryInstanceForChromeful(d,a,wa,"ImmersiveView"),wa.enableContinuousPlay&&ja.bind("ended",S));ja.play({isAsync:!0})}}function L(){M();var a;a="hero-image"===V.type?w.find("#ivHeroImage_"+V.index):"image"===
V.type?w.find("#ivImage_"+V.index):"chromeful-video"===V.type||"chromeless-video"===V.type?w.find("#ivVideo_"+V.index):"360-spin"===V.type?w.find("#iv360"):c.isDefined(ma)?w.find("#ivHeroImage_"+V.index):w.find("#ivImage_"+V.index);c.isjQueryObjDefined(a)||(a=w.find("#ivImage_0"));G(a)}function G(a){w.find(".ivThumb").removeClass("selected");a.addClass("selected");a.hasClass("ivThumbVideo")?(V.type="chromeful-video",V.index=a.attr("id").split("_")[1],N()):a.hasClass("ivHeroImage")?(V.type="hero-image",
V.index=a.attr("id").split("_")[1],Q(V.type)):a.hasClass("iv360Image")?(V.type="360-spin",V.index=0,k()):(V.type="image",V.index=a.attr("id").split("_")[1],Q(V.type))}function k(){J();w.find("#ivLarge360").css("display","block");I();var a=w.find("#ivLarge360");a.css({opacity:0});setTimeout(function(){a.css({opacity:.4});g.animateStageIn(a)},200);p();l.postCountMetric("dppc_click360");va=Date.now()}function C(){0<va&&(A("dppc_duration360",Date.now()-va),va=0)}function A(a,d){t.ue&&t.ue.count(a,d)}
function p(){if(0<qa){var a=w.find(".iv360Hint");a.removeClass("iv360HintFaded");a.animate({opacity:1},200)}}function h(d,b){if(qa<d.length){var c=a("\x3cimg /\x3e").css({display:"block",width:6*pa+"px",height:sa+"px"});c.hide();b.append(c);c.get(0).onload=function(){b.closest(document.documentElement).length&&(qa++,1===qa&&(p(),0<va&&A("dppc_loadTime360",Date.now()-va)),0<Ga&&A("dppc_perSpriteloadTime360",Date.now()-Ga),w.find("#iv360Spinner").hide(),c.show(),xa=5*da.imageLocations[Math.floor(ya/
da.imageLocations[0].length)][ya%da.imageLocations[0].length],h(d,b))};c.attr("src",d[qa].replace(/(\._SP)\d+(,)\d+/,"$1"+ua+"$2"+ta));Ga=Date.now()}}function u(a){if(c.isDefined(da.spriteWidthSizes)&&0<da.spriteWidthSizes.length){var d=da.spriteWidthSizes,b=d.length,e=d[0],f=d[b-1];if(a<=e)return e;if(a>f)return f;for(e=0;e<b;e++)if(a>d[e]&&a<=d[e+1])return d[e+1]}else return a}function I(){var d=w.find("#ivLarge360");d.children("#image-360-sprites").length||(d.append("\x3cdiv id\x3d'image-360-sprites'\x3e\x3c/div\x3e"),
d.css({"margin-left":0,"margin-top":0,width:d.parent().width(),height:d.parent().height(),overflow:"hidden",position:"relative","-ms-user-select":"none","-webkit-user-select":"none","-mos-user-select":"none"}),a("\x3cimg\x3e").attr("src",E.staticImages.spinnerNoLabel).attr("id","iv360Spinner").css({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"block"}).appendTo(d),Ha=!0,K())}function K(){if(c.isDefined(da.spriteURLs)&&c.isDefined(w)&&Ha&&!Ia){var b=w.find("#ivLarge360"),
e=a("\x3cdiv\x3e").addClass("iv360Hint").css({position:"absolute",width:"100%",bottom:0,opacity:0,display:"block"});c.isDefined(da.staticImages.hint360)&&a("\x3cimg\x3e").css({"margin-left":"auto","margin-right":"auto",display:"block"}).attr("src",da.staticImages.hint360).appendTo(e);a("\x3cdiv\x3e").css({"text-align":"center"}).text(E.staticStrings.dragToSpin).appendTo(e);e.appendTo(b);var e=da.imageWidth,f=da.imageHeight,g=b.parent().width(),k=b.parent().height(),m=0,p=0;e/f>g/k?(ua=u(g),ta=Math.round(f/
e*ua),pa=Math.ceil(g),sa=Math.ceil(ta/ua*g),p=(k-sa)/2):(ta=u(k),ua=Math.round(e/f*ta),sa=Math.ceil(k),pa=Math.ceil(ua/ta*k),m=(g-pa)/2);b.css({"margin-left":m,"margin-top":p,width:pa+"px",height:sa+"px",overflow:"hidden",position:"relative"});b.children("#image-360-sprites").css("width",6*pa+"px");h(da.spriteURLs,w.find("#image-360-sprites"),0);e=w.find("#ivLarge360");e.bind("mousedown",P);e.bind("touchstart",z);e.bind("touchmove",v);e.bind("touchend",O);a(document).bind("mousemove",d);a(document).bind("mouseup",
n);c.isDefined(E.staticImages.grab)&&b.css("cursor","url('"+E.staticImages.grab+"'), auto");Ia=!0}}function z(a){Ba=!0;Ja=a.originalEvent.targetTouches[0].clientX}function v(a){Ba&&(H(a.originalEvent.targetTouches[0].clientX-Ja),Ja=a.originalEvent.targetTouches[0].clientX)}function O(a){Ba&&(Ba=!1)}function P(a){Ca=!0;Ka=a.originalEvent.clientX;c.isDefined(E.staticImages.grabbing)&&(a=w.find("#ivLarge360"),a.css("cursor","url('"+E.staticImages.grabbing+"'), auto"),a.parents(".a-declarative").last().css("cursor",
"url('"+E.staticImages.grabbing+"'), auto"));return!1}function d(a){Ca&&(H(a.originalEvent.clientX-Ka),Ka=a.originalEvent.clientX)}function n(a){Ca&&(Ca=!1,c.isDefined(E.staticImages.grab)&&(a=w.find("#ivLarge360"),a.css("cursor","url('"+E.staticImages.grab+"'), auto"),a.parents(".a-declarative").last().css("cursor","auto")))}function H(a){for(a=xa-=a/pa*180;0>a;)a+=360;for(;360<a;)a-=360;xa=a;var d;a=360;for(var b=0;b<qa;b++)for(var e=0;e<da.imageLocations[b].length;e++){var f=Math.abs(xa-5*da.imageLocations[b][e]);
f<a&&(a=f,d=b*da.imageLocations[0].length+e)}d!==ya&&(a=Math.floor(d/da.imageLocations[0].length),a!==Math.floor(ya/da.imageLocations[0].length)&&(c.isDefined(La)||(La=document.createElement("canvas").getContext("2d")),b=w.find("#image-360-sprites").children(),La.drawImage(b[a],0,0)),a=w.find(".iv360Hint").not(".iv360HintFaded"),c.isDefined(a)&&(a.addClass("iv360HintFaded"),a.animate({opacity:0},750)));ya=d;a=d%da.imageLocations[0].length*-1*pa;d=-1*Math.floor(d/da.imageLocations[0].length)*sa;b=
w.find("#ivLarge360").children("#image-360-sprites");b.css("-webkit-transform","translate3d("+a+"px, "+d+"px, 0)");b.css("transform","translate3d("+a+"px, "+d+"px, 0)")}function U(){w.delegate(".ivThumb","click",function(){var d=a(this);G(d)});w.delegate(".ivThumbVideoListOuter","click",function(){w.find(".ivThumbVideoListOuter").removeClass("selected");var d=a(this);d.addClass("selected");V.type="chromeful-video";V.index=d.attr("id").split("_")[1];N()})}function R(){ja&&!ja.isDetached()&&(wa.volume=
ja.getVolume(),ja.detach(),!document.all||t.atob||document.addEventListener||(ja=null));w.find("#ivLargeImage").empty();C()}function T(a,d){return 0<d?d/2:Math.min(0,Math.max(d,a))}function W(d){var b=ra.left-(d.pageX-Da[0])*Ea;f.capabilities.rtl&&(b=ra.left-(a(t).width()-d.pageX-Da[0])*Ea);d=ra.top-(d.pageY-Da[1])*Ea;b=T(b,Fa.left);d=T(d,Fa.top);w.find(".fullscreen").css({left:b,top:d})}function fa(){w.delegate("#ivLargeImage","click",function(a){if(Aa)B();else if(za){w.find(".fullscreen").removeAttr("style");
if(za){var d=w.find("#ivLargeImage"),b=d.find(".fullscreen");Qa?d.css("cursor","url('"+E.staticImages.zoomOut+"'), auto"):(d.css("cursor","-webkit-zoom-out"),d.css("cursor","-moz-zoom-out"),d.css("cursor","zoom-out"));Aa=!0;var c=w.find("#ivLargeImage");Fa.left=c.width()-b.width();Fa.top=c.height()-b.height();var c=d.height()/2,e=d.width()/2;Da=[d.offset().left+e,d.offset().top+c];ra.top=c-b.height()/2;ra.left=e-b.width()/2;b.css({position:"relative",left:ra.left,top:ra.top});Ea=Math.max(b.height()/
d.height(),b.width()/d.width())}W(a)}});w.delegate("#ivLargeImage","mousemove",function(a){Aa&&W(a)})}function Y(d){if(c.isImmersiveViewEnabled(E,ba.getCurrentItem().color))if(Ma){var e=d.$event.originalEvent;e.acknowledge&&e.acknowledge(d.$currentTarget[0]);Pa=c.isDefined(d)&&"button-360-click"===d.action;b.isEnabled&&m.logImmersiveViewRequestServed(b);l.postCountMetric("dppc_immersiveViewOpened");if(c.isDefined(ca))ca.show();else{d=a("#auiImmersiveViewDiv");var e=a(t).height()-150,n=a(t).width()-
75;ca=Ma.create(d,{name:"immersiveView",activate:"onclick",width:n,height:e,popoverLabel:"ImmersiveView",hideHeader:!0});d.click()}if(Na){w=a("#ivMain");d=ba.getCurrentItem().color;na=E.colorImages[d];ma=E.heroImage[d];la=E.useChildVideos?E.colorToVideo[d]:E.videos;Oa=X()&&E.spin360ColorEnabled[d];da=X()?E.spin360ColorData[d]:ka;M();oa=ga=Z=ia=0;c.isDefined(ma)&&(ga=ma.length);c.isDefined(na)&&(ia=na.length);c.isDefined(la)&&(Z=la.length);Oa&&(oa=1);g.populateTitle(w.find("#ivTitle"),45,E);g.populateVariationSelection(w.find("#ivVariationSelection"));
d=w.find("#ivMediaSelect");0===ia+oa||0===Z?(d.parent().hide(),w.find("#ivThumbs").addClass("noMediaSelection")):(d.empty(),a("\x3coption/\x3e").attr("value","all").prop("selected",!0).text(E.staticStrings.allMedia+" ("+(ga+ia+oa+Z)+")").appendTo(d),a("\x3coption/\x3e").attr("value","images").text(E.staticStrings.images+" ("+(ga+ia+oa)+")").appendTo(d),a("\x3coption/\x3e").attr("value","videos").text(E.staticStrings.videos+" ("+Z+")").appendTo(d),d.parent().show(),d.val("all"));d=w.find("#ivThumbs");
d.find(".ivRow").not(".placeholder").remove();for(var e=ga+ia+Z+oa,h=n=0;n<e;)for(var k=d.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(d),p=0;3>p&&n<e;p++,n++,h++)if(h<ga){var H=ma[n].thumb,q=d.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivHeroImage").attr("id","ivHeroImage_"+n).appendTo(k);q.find(".ivThumbImage").css("background",'url("'+g.getResizedThumbnailURL(H)+'") center no-repeat')}else if(h>=ga&&h<ia+ga)H=na[n-ga].thumb,q=d.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr("id",
"ivImage_"+(n-ga)).appendTo(k),q.find(".ivThumbImage").css("background",'url("'+g.getResizedThumbnailURL(H)+'") center no-repeat');else if(h>=ga+ia&&h<ia+ga+oa)q=d.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("iv360Image").attr("id","iv360").appendTo(k),q.find(".ivThumbImage").css("background",'url("'+(c.isDefined(E.staticImages.icon360)?g.getResizedThumbnailURL(E.staticImages.icon360,!0):"")+'") center no-repeat');else if(H=la[n-ia-ga-oa],q=d.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivThumbVideo").attr("id",
"ivVideo_"+(n-ia-ga-oa)).appendTo(k),q.find(".ivThumbImage").css("background",'url("'+H.thumbUrl+'") center no-repeat'),c.isDefined(H)){var r={position:"triggerTop"},G=w.find("#ivThumbs").find(".ivThumbVideoPopover.placeholder").clone().removeClass("placeholder");G.find(".ivVideoPopoverTitle").text(H.title);G.find(".ivVideoPopoverDuration").text(H.durationTimestamp);r.inlineContent=G[0];f.declarative.create(q,"a-tooltip",r)}d=w.find("#ivVideoList");d.find(".ivThumbVideoListOuter").not(".placeholder").remove();
e=d.find(".placeholder");for(n=0;n<Z;n++)h=la[n],k=e.clone().removeClass("placeholder").appendTo(d),k.attr("id","ivVideoList_"+n),k.find(".ivThumbImage").css("background",'url("'+h.thumbUrl+'") center no-repeat'),k.find(".ivThumbTitle").text(h.title),k.find(".ivThumbDuration").text(h.durationTimestamp);w.find("#ivLarge360").empty();qa=0;Ia=Ha=!1;wa=E.airyConfig;Na=!1;Ra()}}else t.performance&&performance.now&&t.ue&&ue.count&&ue.count("DPIBClickFailedInteractionCount",(ue.count("DPIBClickFailedInteractionCount")||
0)+1);else l.postCountMetric("immersiveViewNotExistsClickCount")}function ha(a){var d=E.colorToAsin[a],b={},f=500;if(d&&d.asin){b.params={asin:d.asin};var n="360"+d.asin,h=Date.now();b.success=function(d){A("dppc_asyncRequestTime360",Date.now()-h);d&&c.isDefined(d.spin360.spin360Model)?(c.ajaxState(n,"success"),E.spin360ColorData[a]=d.spin360.spin360Model,a===ba.getCurrentItem().color&&(da=E.spin360ColorData[a],K())):b.error()};b.error=function(){l.postCountMetric("dppc_asyncFailed360");A("dppc_asyncRequestTime360",
Date.now()-h);f*=2;16E3>=f?setTimeout(function(){h=Date.now();e.load("/gp/product/features/apparel-main-image/360.html",b)},f):c.ajaxState(n,"fail")};c.ajaxState(n)&&"fail"!==c.ajaxState(n)||(e.load("/gp/product/features/apparel-main-image/360.html",b),c.ajaxState(n,"sent"))}}function X(){return c.isDefined(E.spin360ConfigEnabled)&&E.spin360ConfigEnabled}var aa,E,ba,ea,ca,w,ma,na,la,ga,ia,Z,oa,V,ja,wa,da,Oa,pa,sa,ta,ua,Ka,Ja,Pa=!1,Ha=!1,Ia=!1,xa=0,ya=0,va=0,Ga=0,Ca=!1,Ba=!1,qa=0,La,Qa=navigator.userAgent.match(/msie|trident/i),
Na=!0,Aa=!1,za=!1,Fa={},ra={},Ea,Da,Ma;x.when("a-modal").execute(function(a){Ma=a});var Ra=f.once(function(){y();U();fa();f.on("a:popover:afterUpdatePosition:immersiveView",F);f.on("a:popover:afterShow:immersiveView",L);f.on("a:popover:afterHide:immersiveView",R);q()});return function(d,e,n,h){aa=this;E=d;ba=e;b.refToModel=ba;ea=h;X()&&(E.spin360ColorData[E.landingAsinColor]=E.spin360ColorData[E.defaultColor],E.spin360ColorEnabled[E.landingAsinColor]=E.spin360ColorEnabled[E.defaultColor]);c.isDefined(E.staticImages.icon360)&&
a("#imageBlock #altImages ul").find(".360IngressTemplate").find("img").attr("src",g.addStyleCodeToURL(E.staticImages.icon360,"_FMpng_RI_"));aa.render=function(a,d,b,e,n,h){Na=!0;X()&&E.spin360ColorEnabled[a]&&!c.isDefined(E.spin360ColorData[a])&&(E.spin360ColorData[a]={},ha(a));c.isImmersiveViewEnabled(E,ba.getCurrentItem().color)&&X()&&E.spin360ColorEnabled[a]&&(d===E.maxAlts&&(a=e.find(".item.imageThumbnail"),b=e.find(".item.videoThumbnail"),c.isDefined(b)&&1<b.length?b.last().remove():a.last().remove(),
d--),a=e.find(".360IngressTemplate").clone().removeClass("360IngressTemplate").removeClass("aok-hidden").addClass("item"),f.declarative.create(a,"button-360-click"),e.append(a),d++,l.postCountMetric("dppc_display360"));return d};aa.update=function(a){};c.isImmersiveViewEnabled(E,ba.getCurrentItem().color)||c.addTag("immersiveViewNotAvailable");ea.register("imageClick",Y);ea.register("button360Click",Y)}});"use strict";x.when("A","jQuery","imageBlockUtils","postMetric","logFailedInteractionMetric",
"postEarlyMetric","imageBlockImmersiveViewUtils").register("ImageBlockTabbedImmersiveView",function(f,a,c,e,l,b,m){function g(){var b=y.getImmersiveViewModalInstance().$container.find(".a-popover-wrapper"),c=b.find(".a-popover-inner"),b=b.height()-m.getDimension(c,"padding-top")-m.getDimension(c,"padding-bottom");a("#iv-tab-view-container").css("height",b);J=a("#iv-tab-view-container ul.iv-tab-views li").filter(function(){return"none"!==a(this).css("display")}).length;1<J?(a("#iv-tab-view-container ul.iv-tab-views li").parent().show(),
c=a("#iv-tab-view-container ul.iv-tab-views li").parent().height(),b-=c):a("#iv-tab-view-container ul.iv-tab-views li").parent().hide();a("#iv-tab-view-container .iv-tab-content").css("height",b);f.trigger("dp:image-block:immersive-view:resize")}function r(){f.trigger("dp:image-block:immersive-view:reset")}function q(g){if(c.isImmersiveViewEnabled(F,y.getCurrentItem().color))if(S){var k=g.$event.originalEvent;k.acknowledge&&k.acknowledge(g.$currentTarget[0]);l.isEnabled&&b.logImmersiveViewRequestServed(l);
e.postCountMetric("dppc_immersiveViewOpened");c.isDefined(g)&&("button-360-click"===g.action?a("#iv360TabHeading").click():"videoIngressClick"===g.action?(Q=g.clickTimeStamp,a("#ivVideosTabHeading").click()):"showroomIngressClick"===g.action?(Q=g.clickTimeStamp,a("#ivShowroomTabHeading").click()):a("#ivImagesTabHeading").click());k=y.getImmersiveViewModalInstance();if(c.isDefined(k))k.show();else{g=a("#auiImmersiveViewDiv");var k=Math.min(Math.max(a(t).height()-150,540),1080),m=Math.min(Math.max(a(t).width()-
75,990),1980),k=S.create(g,{name:"immersiveView",activate:"onclick",width:m,height:k,popoverLabel:"ImmersiveView",hideHeader:!0});y.setImmersiveViewModalInstance(k);g.click()}D&&(D=!1,N(),f.trigger("dp:image-block:immersive-view:init"))}else t.performance&&performance.now&&t.ue&&ue.count&&ue.count("DPIBClickFailedInteractionCount",(ue.count("DPIBClickFailedInteractionCount")||0)+1);else e.postCountMetric("immersiveViewNotExistsClickCount")}var M,F,y,B,D=!0,J=0,Q,S;x.when("a-modal").execute(function(a){S=
a});var N=f.once(function(){f.on("a:popover:afterUpdatePosition:immersiveView",g);f.on("a:popover:afterShow:immersiveView",g);f.on("a:popover:afterHide:immersiveView",r)}),L=f.once(function(){var b=a("#iv-tab-view-container ul.iv-tab-views li");b.bind("click",function(c){var g=b.filter(".iv-active");g.attr("id")!==a(this).attr("id")&&f.trigger("dp:ivTabs:"+g.find("a").attr("data-iv-tab-view")+":deselect",c);b.removeClass("iv-active");a(this).addClass("iv-active");a("#iv-tab-view-container .iv-tab-content").hide();
g=a(this).find("a").attr("data-iv-tab-view");a("#"+g).show();"ivVideosTab"===g&&(c.clickTimeStamp=Q||c.timeStamp);f.trigger("dp:ivTabs:"+g+":select",c);e.postCountMetric("dppc_"+g);return!1})});return function(a,b,f,g){M=this;F=a;y=b;l.refToModel=y;B=g;M.render=function(a,b,c,f,g,k){e.postCountMetric("dpcc_altThumbs_"+b);D=!0};M.update=function(a){};M.getTitle=function(){};M.getVariationSelectionInfo=function(){};L();c.isImmersiveViewEnabled(F,y.getCurrentItem().color)||c.addTag("immersiveViewNotAvailable");
B.register("imageClick",q);B.register("button360Click",q);F.collapsibleThumbnails&&B.register("thumbActionClick",function(a){a.$declarativeParent.hasClass("overlayRestOfImages")&&q(a)});c.useTabbedImmersiveView(F)&&(B.register("videoIngressClick",q),B.register("showroomIngressClick",q))}});"use strict";x.when("A").register("ImageBlockLoader",function(f){return{load:function(a,c){c=c||{};c.timeout=c.timeout||4E3;f.ajax(a,c)}}});"use strict";x.when("A","jQuery","Airy","postMetric","ImageBlockATF","ImageBlockBTF",
"logFailedInteractionMetric","postEarlyMetric","ShoppableSceneWeblabProvider").register("imageBlockUtils",function(f,a,c,e,l,b,m,g,r){function q(a){return null!==a&&"undefined"!==typeof a}function M(d){var b=0;a.each(d,function(a,d){var c=parseInt(d[1],10);c>b&&(b=c)});return b}function F(d){var b=0;a.each(d,function(a,d){var c=parseInt(d[0],10);c>b&&(b=c)});return b}function y(a,b,c){b=b.width();if(c.naturalMainImageSize)return b;a=M(a);0<a&&(b=Math.min(b,a));return b}function B(a,b,c){b=b.height();
if(c.naturalMainImageSize)return b;a=F(a);0<a&&(b=Math.min(b,a));return b}function D(d){var b;a.each(d,function(a,d){q(b)||(b=d[1]/d[0])});return b||1}function J(d,b,f,g,k,m,p,l,q,r,G,L,A,v,C){var F=a.extend({},f.foresterMetadataParams);null!==g&&(F.method+="."+g);var w=[];b.disabledViewIds&&(w=b.disabledViewIds);C=C&&C.videoBackgroundChromefulMainView?C.videoBackgroundChromefulMainView:"black";"unrolled-video-add"===v&&(C="transparent");return c.embed({parentElement:d[0],streamingUrls:b.url,contentId:b.mediaObjectId,
contentMinAge:Number(b.minimumAge||"")||0,contentTitle:b.title,swfUrl:f.swfUrl,foresterMetadataParams:F,backgroundColor:C,flashParams:{wmode:"transparent"},slateImages:{preloadSlate:b.slateUrl,postMediaSlate:b.slateUrl},videoAds:f.videoAds,bindings:{play:function(){if("ImmersiveView"===g)h||(h=!0,e.postCountMetric("dppc_chromefulVideoPlayedIV"));else if(u||(u=!0,e.postCountMetric("dppc_chromefulVideoPlayedPV")),!r){var a=e.buildNexusMetric("ib.thumbnailClick",q,b.mediaObjectId,b.groupType,G,L,A);
e.emitNexusMetric(a)}}},cuePoints:[{values:b.durationSeconds-1,type:"position",callback:function(a,d,b){k&&(Q(0,m,l),x(p))}}],disabledViewIds:w})}function Q(a,b,c){b.fadeTo(500,0,function(){N(a,c);b.fadeTo(500,1)})}function x(a){a&&a.toggle()}function N(d,b){var c=b.find("img");q(c[d])&&a(c[d]).click()}function L(a,b){z[a]=b?b:z[a];return z[a]}function G(d,b,c){c=c||K;c=c.colorImages;if(1>c.length||!q(c[d])||!q(b))return-1;var e=-1;a.each(c[d],function(a,d){d.variant===b&&(e=a)});return e}function k(d,
b,c){c=c||K;c=c.colorImages;return!(q(c)&&q(c[d])&&q(c[d][b])&&q(c[d][b].main))||1>a.map(c[d][b].main,function(a,d){return d}).length?-1:c[d][b]}function C(a,b,c,e){e.parent().css("z-index",2);0!==c&&0!==b&&(b/=c,a>b?e.css("width",b/a*100+"%"):e.css("height",a/b*100+"%"))}function A(d,b){var c;if(c=d.useIV)c=d.colorImages&&d.colorImages[b]&&0<d.colorImages[b].length?!0:!1;m.isEnabled&&(m.IVApplicaple=c,g.logImmersiveViewApplicability(a,m));return c}function p(){return 0<a(".gridImageBlockViewLayoutIn2x4").length||
0<a(".gridImageBlockViewLayoutIn2x5").length||0<a(".gridImageBlockViewLayoutIn1x7").length}var h,u,I,K=a.extend(!0,{},l,b),z={},v=0,O=0,P=/gridAltImageViewLayoutIn(\d+)x(\d+)/g;return{isDefined:q,isDefinedAndEmpty:function(a){return q(a)&&"object"===typeof a&&0===Object.keys(a).length},isUndefinedOrEmpty:function(a){return q(a)?"object"===typeof a&&0===Object.keys(a).length:!0},isDefinedAndNotEmpty:function(a){return q(a)?"object"===typeof a&&0<Object.keys(a).length:!1},isjQueryObjDefined:function(a){return 0!==
a.length},getAspectRatio:D,getMaxHeightOfMainImage:B,getMaxWidthOfMainImage:y,getMaxDimensionsOfMainImage:function(a,b,c){if(c.acEnabled)return[b.height(),b.width()];var e=B(a,b,c);b=y(a,b,c);a=D(a);c=b/a;b=Math.min(b,e*a);e=Math.min(e,c);return[e,b]},getContainerHeight:function(a,b,c){var e=a.get(0);a=0;if(q(e)){a=e.offsetWidth/b;a=Math.min(a,c);var f;b=K.mainImageHeightPartitions;c=K.mainImageMaxSizes;if(q(c)&&q(b)){for(var g=0,h=t.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,
e=0;e<b.length;e++)h>b[e]&&(g=e+1);c.length>=g&&(f=c[g])}q(f)&&(a=Math.min(f[1],a))}return a},getColorFromState:function(d,b){if(d){b=b||K;var c="";a.each(b.visualDimensions,function(a,b){d[b]&&(c+=" "+d[b])});return c&&c.substring(1)}},createThumbnail:function(a,b,c,e){var g=c.find(".template").clone().removeClass("template").addClass("item"),h=document.createElement("img");h.src=b;g.find(".placeHolder").replaceWith(h);(b=a.heroVideoVariant)&&"hero-image"===a.type&&a.variant===b&&g.addClass("heroImageThumbnail");
q(e)&&g.addClass(e);p()&&g&&(e=document.createElement("div"),e.className="imageBlockThumbnailImageGrayOverlay",h.parentNode.insertBefore(e,h));f.declarative.create(g,"thumb-action",a);g.attr&&(g.attr("data-ux-click",""),a.type&&a.type.match(/video/)?(g.attr("data-csa-c-type","uxElement"),g.attr("data-csa-c-element-type","navigational"),g.attr("data-csa-c-action","image-block-alt-image-clickToImmersiveVideos")):(g.attr("data-csa-c-type","uxElement"),g.attr("data-csa-c-element-type","navigational"),
g.attr("data-csa-c-action","image-block-alt-image-hover")),g.attr("data-csa-c-posy",a.thumbnailIndex+1));c.append(g);return g},updateImageThumbnailOverlay:function(a,b,c){a.find(".textMoreImages").append(c.length-b.thumbnailIndex+"+")},selectGivenThumbnail:function(a,b){var c=a.find(".a-button");b.find(".a-button").removeClass("a-button-selected").removeClass("a-button-focus");c.addClass("a-button-selected").addClass("a-button-focus")},createAiryInstanceForChromeful:function(a,b,c,e,f,g,h,k){J(a,
b,c,e,f,g,h,k,0,1,"","","")},createAiryInstanceForChromefulNotUseTabbedImmersiveView:J,loadMediaIntoAiry:function(a,b,c,e){a&&a.getMediaSourceInfo()!==b.url&&(e?a.loadMedia?(I={mediaSourceInfo:[b.url],contentId:b.mediaObjectId,refTag:"vse_ib_tablet_web"},a.loadMedia(I)):a.play({videoUrl:b.url,mimeType:"video/mp4",contentId:b.mediaObjectId,refTag:"vse_ib_tablet_web"}):a.loadMedia?a.loadMedia({mediaSourceInfo:b.url,contentId:b.mediaObjectId,contentMinAge:Number(b.minimumAge||"")||0,contentTitle:b.title,
slateImages:{preloadSlate:b.slateUrl,postMediaSlate:b.slateUrl}}):a.play({videoUrl:b.url,mimeType:"video/mp4",contentId:b.mediaObjectId}))},showUnavailable:function(b){b&&(a("#imageBlock .unvailableVariation").html(b),a("#imageBlock .variationUnavailable").show())},hideUnavailable:function(){a("#imageBlock .variationUnavailable").hide()},fadeToThumbnail:Q,toggleVideoCaption:x,selectThumbnail:N,spinner:function(b,c){var e=a("#imageBlock .a-spinner").parent();0===e.length&&(e=a("\x3cdiv\x3e\x3c/div\x3e").append(a("\x3cspan\x3e\x3c/span\x3e").addClass("a-spinner").addClass("a-spinner-medium")),
b.append(e),e.css({position:"absolute",left:"50%",top:"50%",transform:"translate3d(-50%, -50%, 0)","-webkit-transform":"translate3d(-50%, -50%, 0)","z-index":"3",width:"48px",height:"48px",border:"8px solid #FFFFFF","-webkit-border-radius":"20px","-moz-border-radius":"20px","border-radius":"100%"}));c?e.show():e.hide();return e},rankedImagesReadyEvent:function(a){return"ranked-images-ready-for-"+a},ajaxState:L,getIndexForVariant:G,getImageHash:k,lazyLoadingRequired:function(a,b,c){b=Math.max(G(a.color,
b.getCurrentItem().variant,c),0);b=-1!==k(a.color,b,c);a=c.colorToAsin[a.color]&&c.colorToAsin[a.color].asin;a=!a||"success"!==L(a);return!c.lazyLoadExperienceDisabled&&!b&&a},lazyLoadOnHoverEnabled:function(a){return!a.lazyLoadExperienceOnHoverDisabled},updateAspectRatio:C,repositionVideoBanner:function(a,b,c,e){setTimeout(function(){var c=a.width()/a.height();C(c,16,9,b)},e||0)},getVideosCount:function(a,b){return b.useChildVideos&&b.colorToVideo[a]?b.colorToVideo[a].length:b.videos?b.videos.length:
0},getVideoHash:function(a,b,c){if(c.useChildVideos){if(!q(c.colorToVideo))return-1;a=c.colorToVideo[a]}else a=c.videos;return q(a)&&q(a[b])&&q(a[b].url)?a[b]:-1},isImmersiveViewEnabled:A,playVideoInImmersiveView:function(a,b){return A(a,b)&&a.useTabbedImmersiveView},useTabbedImmersiveView:function(a){return a.useTabbedImmersiveView},getMediaSourceInfo:function(){return q(I)?I.mediaSourceInfo[0]:""},getNilgiriServiceAjaxRequest:function(a,b,c){return{requester:"DetailPageTablet",marketplaceID:c.marketPlaceID,
clientPrefix:"ImageBlock_tablet",locale:c.languageCode,page:"DetailPageTablet",placement:"ImageBlock",video:{videoURL:c.url,imageURL:c.slateUrl}}},addTag:function(a){t.ue&&t.ue.tag&&t.ue.tag(a)},isShoppableScenesEnabled:function(){return r.isEnabled&&0<a(".mirai-scene-image-block-template").length},isImageBlockGridViewDisplayEnabled:p,isImageBlockGridViewHoverDelayEnabled:function(){return 0<a(".gridImageBlockViewLayoutIn2x4").length||0<a(".gridImageBlockViewLayoutIn2x5").length},getHoveringDelayTimer:function(){return v},
updateThumbnailHoverDelay:function(a){if(q(a)){v=0;var b=a.closest("li"),b=b.parent().children("li").filter(":not(.aok-hidden, .template, .pos-360)").index(b);if(-1!==b){var c;c=O;a=a.closest("ul").attr("class");a===ka?c=!1:(a=P.exec(a),null===a||3!==a.length?c=!1:(a=a[2],c=Math.floor(c/a)>Math.floor(b/a)));c&&(v=100);O=b}}}}});"use strict";x.when("A","jQuery","imageBlockUtils","ImageBlockHeroUtils").register("ImageBlockHeroImageView",function(f,a,c,e){function l(b,f,g,l){if(!c.isjQueryObjDefined(b.find(".a-button-selected"))){var q=
D.getCurrentItem();if(!l||"chromeless-video"!==q.type||!B.autoplayVideo){l=0;if("hero-image"===q.type){l=m(q.color,q.variant);if(-1===l)return;l=-1!==l?l:0}var p=f+l;p>=g&&(l=0,p=f);f=e.getHeroImageHash(B,q.color,l);-1!==f&&(x.dispatch("updateModel",{data:{index:l,thumbnailIndex:p,variant:f.variant,type:"hero-image"}}),f=b.find(".item").get(p),c.selectGivenThumbnail(a(f),b))}}}function b(b,e,f){if("hero-video"===D.getCurrentItem().type)return b;e=B.heroImage&&B.heroImage[e];var g=b;c.isDefined(e)&&
(a.each(e,function(a,e){b<B.maxAlts&&(c.createThumbnail({type:"hero-image",index:a,thumbnailIndex:b,variant:e.variant},e.thumb,Q,"imageThumbnail"),b++)}),l(Q,g,b,f));return b}function m(b,e){var f=B.heroImage;if(1>f.length||!c.isDefined(f[b])||!c.isDefined(e))return-1;var g=-1;a.each(f[b],function(a,b){b.variant===e&&(g=a)});return g}function g(){if(S.length&&B.repositionHeroImage){var a=e.getHeroDimParams(B,D.getCurrentItem()),b;c.isDefined(a)&&(b=c.isDefined(a.xPos)?a.xPos+"px "+a.yPos+"px ":"center "+
a.yPos+"px ",S.css({"background-position":b,"background-size":a.width+"px "+a.height+"px ","max-width":a.width+"px ","min-height":a.height+"px ",filter:"","-ms-filter":""}))}}function r(a,b,f,g){if(S.length&&a&&b){if("function"===typeof f||g){var m=new Image;m.onload=g?function(){S.css("background-image",'url("'+a+'")')}:f;m.src=a}f=b[1];var m=b[0],p;g||S.css({"background-image":'url("'+a+'")'});B.repositionHeroImage&&(b=e.getHeroDimParams(B,D.getCurrentItem(),b),c.isDefined(b)&&(f=b.width,m=b.height,
p=c.isDefined(b.xPos)?b.xPos+"px "+b.yPos+"px ":"center "+b.yPos+"px "));S.css({"background-position":p,"background-size":f+"px "+m+"px ","max-width":f+"px ","min-height":m+"px ",filter:"","-ms-filter":""})}}function q(b,c,f,g){b=e.getHeroImageHash(B,b,c);if(-1===b)return-1;c=a.map(b.main,function(a,b){return b})[0];r(c,b.main[c],f,g)}function t(a,b,c){if("hero-image"!==a.type)return-1;var f=m(a.color,D.getCurrentItem().variant),f=-1!==f?f:0;if(-1===e.getHeroImageHash(B,a.color,f))return-1;var g=
D.getCurrentItem();a.thumbnailIndex=g.thumbnailIndex;a.type=g.type;a.variant=g.variant;a.index=f;F(a,b,c)}function F(a,b,c){var g=e.getHeroImageHash(B,a.color,a.index),m;m=a&&N&&f.equals(a,N)?!0:!1;N||(N=a);if(!m&&a||b)q(a.color,a.index,b,c),N=a;S.removeClass("hide-background");f.trigger("dp:image-block:update",g)}var y,B,D,x,Q,S,N={};return function(e,f,k,m){y=this;B=e;D=f;x=m;B.heroImage[B.landingAsinColor]=B.heroImage[B.defaultColor];y.render=function(c,e,f,g,k,m,l){Q=g;S=a("#heroImage");c=b(e,
c,m);t(D.getCurrentItem(),l,m);return c};y.update=function(a){var b=a.data;"ingress"!==b.type&&S.addClass("hide-background");"swatchHover"===a.type?a.captured||(b.type=D.getCurrentItem().type,-1!==t(b)&&(a.captured=!0)):"hero-image"===b.type&&(F(b),"click"!==a.type&&B.usePeekHover||c.selectGivenThumbnail(a.$declarativeParent,Q))};x.register("resize",g)}});"use strict";x.when("A","jQuery","imageBlockUtils").register("ImageBlockAltImageIngressView",function(f,a,c){var e,l,b,m;return function(a,r,q,
t){e=this;l=a;b=t;e.render=function(a,b,g,q,r,t,x){m=q;e=this;g=l.maxAlts;q=b;r=l.colorImages[a]?l.colorImages[a].length:0;r+=c.getVideosCount(a,l);a=l.heroImage[a];t=0;a&&(t=a.length);a=r+t;a>g&&(g=a-g,a=m.find(".altIngressTemplate").clone().removeClass("altIngressTemplate").removeClass("aok-hidden").addClass("item"),g+="+",q={type:"ingress",index:0,thumbnailIndex:b,variant:""},a.find("#altIngressText").append(g),f.declarative.create(a,"thumb-action",q),m.append(a),q=b++);return q};e.update=function(a){"ingress"===
a.data.type&&"click"===a.type&&b.dispatch("imageClick",a)}}});"use strict";x.when("imageBlockUtils").register("ImageBlockState",function(f){return function(a,c,e){this.getImageHash=function(c){var b=e.getCurrentItem();c=f.getIndexForVariant(b.color,c||"MAIN",a);return f.getImageHash(b.color,c,a)};this.onImageUpdateForTwister=function(a){c.register("updateSelection",function(b){"swatchClick"===b.type&&"function"===typeof a&&a()})}}});"use strict";x.when("jQuery","imageBlockUtils").register("ImageBlockHeroUtils",
function(f,a){function c(a,c){var e;if(c.repositionHeroImage){e=a[1];var f=a[0];if(768>=(t.innerHeight||document.documentElement.clientHeight||document.body.clientHeight))e*=.7,f*=.7;else{var l=((t.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)-1024)/256,l=Math.max(Math.min(l,1),0);e*=.7+.3*l;f*=.7+.3*l}e=[e,f]}return e}function e(b,c,e){var f;if(e.repositionHeroImage){var l=t.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;e=e.heroFocalPoint;
if(a.isDefined(e)){f=Math.max((l-Math.min(1500,b))/2,0);var x=Math.max((l-b)/2,0);f-=x;l=Math.max(Math.min(l,1500),1024);f=f+(l-420-23)/2-b/c[1]*e}}return f}function l(b,c,e){b=b.heroImage;return!(a.isDefined(b)&&a.isDefined(b[c])&&a.isDefined(b[c][e])&&a.isDefined(b[c][e].main))||1>f.map(b[c][e].main,function(a,b){return b}).length?-1:b[c][e]}return{getHeroImageHash:l,getHeroDimParams:function(b,m,g){if(b.repositionHeroImage){if(!a.isDefined(g)){g=l(b,m.color,m.index);if(-1===g)return;m=f.map(g.main,
function(a,b){return b})[0];g=g.main[m]}m=c(g,b);b=e(m[0],g,b);return{height:m[1],width:m[0],xPos:b,yPos:75}}}}});"use strict";x.when("postMetric").register("ImageBlockImmersiveViewShowroom",function(f){function a(){this.render=function(){};this.update=function(){}}return function(c,e,l,b){var m=!1,g=new a;x.now("showroom-image-block-view").execute("showroom-image-block-view-decider",function(a){a!==ka&&(m=!0,g=new a(c,e,l,b))});c&&!0===c.showroomEnabled&&!1===m&&f.postCountMetric("showroom:atf:imageBlock:hiddenDueToAssetsNotPresentInTime");
return g}});"use strict";x.when("A","jQuery","imageBlockUtils").register("imageBlockImmersiveViewUtils",function(f,a,c){function e(a,e){var g=f.copy(a);if(c.isDefined(a)&&a.length>e){try{for(var l=-1,q=0;q<a.length;q++){var t=a.charAt(q);if(" "===t||"."===t||"?"===t||";"===t||","===t||":"===t)l=q;if(q===e-4){g=a.substring(0,-1===l?q:l);break}}}catch(F){g=a.substring(0,e-3)}g+="..."}return g}function l(a,c){var e=a.lastIndexOf(".");return a="_"===a.charAt(e-1)?a.substring(0,e-1)+c+a.substring(e):a.substring(0,
e)+"."+c+a.substring(e)}return{getDimension:function(a,c){var e=parseInt(a.css(c),10);return isNaN(e)?0:e},attachTabSelectHandler:function(a,c){f.on("dp:ivTabs:"+a+":select",c)},attachTabDeselectHandler:function(a,c){f.on("dp:ivTabs:"+a+":deselect",c)},attachImmersiveViewResizeHandler:function(a){f.on("dp:image-block:immersive-view:resize",a)},detachImmersiveViewResizeHandler:function(a){f.off("dp:image-block:immersive-view:resize",a)},attachImmersiveViewResetHandler:function(a){f.on("a:popover:afterHide:immersiveView",
a)},hideTabHeading:function(b){a("#"+b).hide()},unhideTabHeading:function(b){a("#"+b).show()},addStyleCodeToURL:l,getResizedThumbnailURL:function(a,c){a=a.replace(/\._(AA|SS)\d+_/,"").replace(/\._SX\d+_SY\d+_CR,0,0,\d+,\d+_/,"");a=a.replace(/\._(US)\d+_/,"").replace(/\._SR\d+,\d+_/,"").replace(/\._SP[0-9,C]+_/,"");a=a.replace(/\._CB\d+_SS\d+_/,"");var e="_AA50_";c&&(e+="FMpng_RI_");return l(a,e)},populateVariationSelection:function(b){if(c.isDefined(t.DetailPage)&&c.isDefined(t.DetailPage.StateController)){b.empty();
var e=t.DetailPage.StateController.getState(),f=e.variation_label_order,l;for(l in f)if(f.hasOwnProperty(l)){var q=f[l],x=e.selected_variations[q],q=e.variation_display_labels[q];x&&a("\x3cdiv/\x3e").addClass("ivVariations").text(q+":"+x).appendTo(b)}}},populateTitle:function(a,c,f){a.html(f.title);a.attr("title",a.text());a.html(e(f.title,c))},animateStageIn:function(a){a.animate({opacity:1},200)},animateStageOut:function(a,c){a.animate({opacity:.4},100,c)},logError:function(a,c,e,f){t.ueLogError&&
t.ueLogError(f,{logLevel:a,attribution:c,message:e})}}});"use strict";x.when("A","jQuery","imageBlockUtils","postMetric","imageBlockImmersiveViewUtils").register("ImageBlockImmersiveViewImages",function(f,a,c,e,l){function b(){l.populateTitle(k.find("#ivTitle"),160,L)}function m(){var a=G.getCurrentItem().color;A=L.colorImages[a];C=L.heroImage[a];p=h=0;c.isDefined(C)&&(p=C.length);c.isDefined(A)&&(h=A.length)}function g(a){return a.hiRes||a.large||a.main[a.main.length-1]}function r(){var a=k.find("#ivStage").find("#ivLargeImage"),
b=a.width(),c=a.height(),d=a.find(".fullscreen");d.removeAttr("style");var e=d.width(),f=d.height();0<d.length&&(d[0].naturalWidth&&(e=d[0].naturalWidth),d[0].naturalHeight&&(f=d[0].naturalHeight));a.css("cursor","auto");var e=0===e?1:e,f=0===f?1:f,g=Math.min(b/e,c/f),h=f*g,l=e*g;1>g?(I?a.css("cursor","url('"+L.staticImages.zoomIn+"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor","zoom-in")),v=!0):v=!1;e=Math.min(l,e);f=Math.min(h-20,f);d.css({"margin-top":(c-
f)/2,"margin-left":(b-e)/2,height:f,width:e});a.css("visibility","visible");z=!1}function q(a){var b=k.find("#ivLargeImage");b.css("visibility","hidden");b.empty();l.animateStageIn(b);b.append(a);r()}function t(b){k.find("#ivLargeImage").css("display","none");k.find("#ivLargeImage").css("display","block");var d;"hero-image"===b?c.isDefined(C)&&(d=g(C[u.index])):c.isDefined(A)&&(d=g(A[u.index]));if(c.isDefined(d)){k.find(".fullscreen").remove();var e=a("\x3cimg\x3e").attr("src",d).addClass("fullscreen"),
h=k.find("#ivLargeImage");l.animateStageOut(h,function(){e.load(function(){q(e);f.trigger("dp:image-block:imageBlockImmersiveImageLoad",u.index)});if(e[0].complete)q(e),f.trigger("dp:image-block:imageBlockImmersiveImageLoad",u.index);else{h.empty();var b=(h.height()-104)/2,c=(h.width()-80)/2;a("\x3cimg\x3e").attr("src",L.staticImages.spinner).css({position:"relative",top:b+"px",left:c+"px"}).appendTo(h)}})}}function F(a){k.find(".ivThumb").removeClass("selected");a.addClass("selected");a.hasClass("ivHeroImage")?
u.type="hero-image":u.type="image";u.index=a.attr("id").split("_")[1];t(u.type);e.postCountMetric("dpcc_iv_thumbCLick_"+(parseInt(u.index,10)+1)+"_"+(p+h))}function x(){k.delegate(".ivThumb","click",function(){var b=a(this);F(b)})}function B(a,b){return 0<b?b/2:Math.min(0,Math.max(b,a))}function D(a){var b=P.top-(a.pageY-n[1])*d;a=B(P.left-(a.pageX-n[0])*d,O.left);b=B(b,O.top);k.find(".fullscreen").css({left:a,top:b})}function J(){k.delegate("#ivLargeImage","click",function(a){if(z)r();else if(v){k.find(".fullscreen").removeAttr("style");
if(v){var b=k.find("#ivLargeImage"),c=b.find(".fullscreen");I?b.css("cursor","url('"+L.staticImages.zoomOut+"'), auto"):(b.css("cursor","-webkit-zoom-out"),b.css("cursor","-moz-zoom-out"),b.css("cursor","zoom-out"));z=!0;var f=k.find("#ivLargeImage");O.left=f.width()-c.width();O.top=f.height()-c.height();var f=b.height()/2,h=b.width()/2;n=[b.offset().left+h,b.offset().top+f];P.top=f-c.height()/2;P.left=h-c.width()/2;c.css({position:"relative",left:P.left,top:P.top});d=Math.max(c.height()/b.height(),
c.width()/b.width())}D(a);e.postCountMetric("dpcc_iv_largeImageCLick")}});k.delegate("#ivLargeImage","mousemove",function(a){z&&D(a)})}function Q(){k.find("#ivLargeImage").empty()}function S(d){if(K){k=a("#ivMain");m();u=G.getCurrentItem();b();l.populateVariationSelection(k.find("#ivVariationSelection"));d=k.find("#ivThumbs");d.find(".ivRow").not(".placeholder").remove();for(var e=p+h,f=0,g=0;f<e;)for(var n=d.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(d),q=0;4>q&&f<e;q++,
f++,g++)if(g<p){var r=C[f].thumb,t=d.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivHeroImage").attr({id:"ivHeroImage_"+f,"data-csa-c-type":"item","data-csa-c-component":"imageBlock","data-csa-c-content-id":"image-block-immersive-view-hero-image","data-csa-c-posy":f+1}).appendTo(n);t.find(".ivThumbImage").css("background",'url("'+l.getResizedThumbnailURL(r)+'") center no-repeat')}else g>=p&&g<h+p&&(r=A[f-p].thumb,t=d.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr({id:"ivImage_"+
(f-p),"data-csa-c-type":"item","data-csa-c-component":"imageBlock","data-csa-c-content-id":"image-block-immersive-view-alt-image","data-csa-c-posy":f-p+1}).appendTo(n),t.find(".ivThumbImage").css("background",'url("'+l.getResizedThumbnailURL(r)+'") center no-repeat'));H();K=!1}else b();d=a("#ivImagesTab").height();k.css("height",d);e=k.find("#ivTitle").outerHeight(!0);f=k.find("#ivVariationSelection").outerHeight(!0);g=k.find("#ivThumbs");n=l.getDimension(g,"margin-top")+l.getDimension(g,"margin-bottom");
g.css("height",d-e-f-n);k.find("#ivLargeImage").css("height",d);d=k.find("#ivStage");e=k[0]&&k[0].getBoundingClientRect&&Math.floor(k[0].getBoundingClientRect().width)||k.width();d.css("width",e-l.getDimension(k,"padding-left")-l.getDimension(k,"padding-right")-k.find("#ivThumbColumn").width()-l.getDimension(d,"margin-left")-l.getDimension(d,"margin-right"));u=G.getCurrentItem();d="hero-image"===u.type?k.find("#ivHeroImage_"+u.index):"image"===u.type?k.find("#ivImage_"+u.index):c.isDefined(C)?k.find("#ivHeroImage_"+
u.index):k.find("#ivImage_"+u.index);c.isjQueryObjDefined(d)||(d=k.find("#ivImage_0"));F(d)}var N,L,G,k,C,A,p,h,u,I=navigator.userAgent.match(/msie|trident/i),K=!0,z=!1,v=!1,O={},P={},d,n,K=!0,H=f.once(function(){x();J();l.attachImmersiveViewResizeHandler(S);l.attachTabDeselectHandler("ivImagesTab",Q)});return function(b,c,d,e){N=this;L=b;G=c;N.render=function(b,c,d,e,f,g){K=!0;m();0===p+h?l.hideTabHeading("ivImagesTabHeading"):l.unhideTabHeading("ivImagesTabHeading");1===p+h?a("#ivThumbs").hide():
a("#ivThumbs").show()};N.update=function(a){};l.attachTabSelectHandler("ivImagesTab",S)}});"use strict";x.when("A","jQuery","imageBlockUtils","postMetric","imageBlockImmersiveViewUtils","vse_ns_preLoaderHook","vse_ns_lazyLoaderHook").register("ImageBlockImmersiveViewVideos",function(f,a,c,e,l,b,m){function g(){p.delegate(".ivThumb","click",function(){var b=a(this);p.find(".ivThumb").removeClass("selected");b.addClass("selected");b.hasClass("ivThumbVideo")&&(h.type="chromeful-video",h.index=b.attr("id").split("_")[1])})}
function r(){if(Y){var b=a("#ivVideosTab").height();p.css("height",b);var c=p.find(".vse-lb-container");u=b-l.getDimension(c,"padding-top")-l.getDimension(c,"padding-bottom");c.css({"max-height":b,overflow:"hidden"});if(R){p.css({"max-width":Math.floor(1.77*u)});return}var b=p.find(".vse-player-container"),c=p.find(".vse-video-action-strip"),d=p.find(".vse-lb-video-metadata"),e=Math.floor(u-l.getDimension(d,"height")-l.getDimension(c,"height")),f=Math.floor(1.77*e);b.css({"max-height":e,"max-width":f,
marginLeft:"auto",marginRight:"auto"});d.css({"max-width":f,marginLeft:"auto",marginRight:"auto"});c.css({"max-width":f,marginLeft:"auto",marginRight:"auto"})}T&&(b=p.find(".vse-vertical-scroll"),c=l.getDimension(b,"margin-top")+l.getDimension(b,"margin-bottom"),b.css("max-height",u-c))}function q(){x();I&&I.pause();W=!1;H=!0;O=null;fa=!0;Y=!1}function x(){W=!1;I&&I.pause()}function F(b){O=b.clickTimeStamp?b.clickTimeStamp:f.now();c.isDefined(A)&&(A.eventTimestamp=O);W=!0;U&&(m.get(f,"#ivVideoBlock",
C,ca,w),p=a("#ivVideoBlock"),k.getCurrentItem(),h=k.getCurrentItem(),E(),S());r();U=!1;D()}function y(b){U&&(p=a("#ivVideoBlock"),k.getCurrentItem(),h=k.getCurrentItem(),E());W&&D();r()}function B(a){I=a.player;e.postTimeMetric("vse_ib_desktop_player_initialisation_duration",f.now()-aa);G.imageBlockRenderingStartTime&&e.postTimeMetric("vse_ib_desktop_time_to_player_interactive",f.now()-G.imageBlockRenderingStartTime);Y&&(S(),D())}function D(){if(I&&W&&(p.find(".vse-lb-container").animate({opacity:1},
200),I.play(A),e.postCountMetric("dpcc_vse_videoBlock_video_played"),H)){var a=t.ue;a&&(a=a.count("dpcc_vse_videoingressclick"),a=(new Date).getTime()-a,e.postTimeMetric("dpcc_vse_vitff",a),H=!1)}}function J(){f.trigger("vse:detailpage-imageblock:page:lightBoxClosed")}function Q(a){K=a.popover.$popover;Y=!0;S()}function S(){if(Y&&fa&&W&&I){K.addClass(f.$(K).find(".vse-lb-container").data("cssClass"));var a=A;ha&&(a=X,ha=!1);f.trigger("vse:detailpage-imageblock:page:lightBoxOpened",{lightBoxId:"ivVideoBlock",
assetSpec:a});r();fa=!1}}function N(a){document.getElementsByClassName("videoBlockIngress")[0].click();X=a;ha=!0}var L,G,k,C,A,p,h,u,I,K,z,v,O,P,d,n,H=!0,U=!0,R=!1,T=!1,W=!1,fa=!0,Y=!1,ha=!1,X,aa=0,E=f.once(function(){g();l.attachImmersiveViewResizeHandler(y);l.attachTabDeselectHandler("ivVideosTab",x);l.attachImmersiveViewResetHandler(q)}),ba=function(b,d,f){a("#ivVideoBlockSpinner").addClass("aok-hidden");e.postCountMetric("dpcc_vse_videoBlock_preload_failed_"+d.placement);b=k.getCurrentItem().color;
b=c.getVideoHash(b,0,G);I||(I=c.createAiryInstanceForChromeful(a("#ivVideoBlock"),b,G.airyConfig,"ImmersiveView"));R=!0;a("#ivVideoBlock").css({"max-width":1.77*u,margin:"0 auto"});W&&R&&I.play({isAsync:!0})},ea=function(b,c,d){U||m.get(b,"#ivVideoBlock",C,ca,w);a("#ivVideoBlockSpinner").addClass("aok-hidden")},ca=function(a,b,c){T=!0;r()},w=function(a,b,c){e.postCountMetric("dpcc_vse_videoBlock_lazyload_failed_"+b.pageContext.placement+"_"+b.configuration.type)};return function(a,e,g,h){L=this;G=
a;k=e;L.render=function(a,e,g,h,m,p){a=k.getCurrentItem().color;e=c.getVideoHash(a,0,G);!0===p?z=G.mediaAsin:(z=G.colorToAsin[a]&&G.colorToAsin[a].asin,z=c.isDefined(z)?z:G.mediaAsin);v=null!==G.vseVideoDataSourceTreatment&&"T1"===G.vseVideoDataSourceTreatment?"ASIN":"physicalID";P=G.contentWeblab;d=G.contentWeblabTreatment;n=G.parentAsin||"";U=!0;-1===e?l.hideTabHeading("ivVideosTabHeading"):(l.unhideTabHeading("ivVideosTabHeading"),C={page:"DetailPage",placement:"ImageBlock",device:"Desktop",marketplaceID:e.marketPlaceID,
locale:e.languageCode,product:{contentID:z,contentIDType:"ASIN",parentContentID:n,parentContentIDType:"ASIN"},video:{contentID:e.mediaObjectId,contentIDType:v,videoURL:e.url,imageURL:e.slateUrl},requestId:G.dpRequestId,weblabContext:[{name:P,assignment:d,ignoreForG2S2Key:!0}],metadata:{ProductTitle:G.title}},A={videoUrl:C.video.videoURL,contentId:C.video.contentID,duration:0,vendorCode:"",eventTimestamp:c.isDefined(O)?O:f.now(),imageUrl:C.video.imageURL,productAsin:C.product.contentID,index:0},c.isDefinedAndNotEmpty(I)&&
(I.destroy(),I=null),aa=f.now(),b.get(f,"#ivVideoBlock",C,ea,ba))};L.update=function(a){};l.attachTabSelectHandler("ivVideosTab",F);f.on("vsePlayer-detailpage-imageblock",B);f.on("a:popover:afterShow:immersiveView",Q);f.on("a:popover:beforeHide:immersiveView",J);f.on("detailpage-imageblock-leave-pip",N)}});"use strict";x.when("A","jQuery","imageBlockUtils","ImageBlockLoader","nexusLogger360","postMetric","imageBlockImmersiveViewUtils","hit-spin360-feature-data","hit-spin360-constants").register("ImageBlockImmersiveView360",
function(f,a,c,e,l,b,m,g,r){function q(){var b=a("#iv360Tab").height();d.css("height",b);var c=d.find("#ivTitle360").outerHeight(!0),e=d.find("#ivVariationSelection360").outerHeight(!0),f=d.find("#ivThumbs360"),g=m.getDimension(f,"margin-top")+m.getDimension(f,"margin-bottom");f.css("height",b-c-e-g);b=d.find("#ivStage360");c=d[0]&&d[0].getBoundingClientRect&&Math.floor(d[0].getBoundingClientRect().width)||d.width();b.css("width",c-m.getDimension(d,"padding-left")-m.getDimension(d,"padding-right")-
d.find("#ivThumbColumn360").width()-m.getDimension(b,"margin-left")-m.getDimension(b,"margin-right"))}function t(){D();var a=d.find("#ivLarge360");a.css({opacity:0});setTimeout(function(){a.css({opacity:.4});m.animateStageIn(a)},200);x()}function x(){if(0<w){var a=d.find(".iv360Hint");a.removeClass("iv360HintFaded");a.animate({opacity:1},200)}}function y(c,e){if(w<c.length){var f=a("\x3cimg /\x3e").css({display:"block",width:6*H+"px",height:U+"px"});f.hide();e.append(f);f.get(0).onload=function(){e.closest(document.documentElement).length&&
(w++,1===w&&(x(),0<E&&(l.time("dppc_loadTime360",Date.now()-E,v.mediaAsin),b.postTimeMetric("dppc_loadTime360",Date.now()-E))),0<ba&&(l.time("dppc_perSpriteloadTime360",Date.now()-ba,v.mediaAsin),b.postTimeMetric("dppc_perSpriteloadTime360",Date.now()-ba)),d.find("#iv360Spinner").hide(),f.show(),X=5*n.imageLocations[Math.floor(aa/n.imageLocations[0].length)][aa%n.imageLocations[0].length],y(c,e))};f.attr("src",c[w].replace(/(\._SP)\d+(,)\d+/,"$1"+T+"$2"+R));ba=Date.now()}}function B(a){if(c.isDefined(n.spriteWidthSizes)&&
0<n.spriteWidthSizes.length){var b=n.spriteWidthSizes,d=b.length,e=b[0],f=b[d-1];if(a<=e)return e;if(a>f)return f;for(e=0;e<d;e++)if(a>b[e]&&a<=b[e+1])return b[e+1]}else return a}function D(){var b=d.find("#ivLarge360");b.children("#image-360-sprites").length||(b.append("\x3cdiv id\x3d'image-360-sprites'\x3e\x3c/div\x3e"),b.css({"margin-left":0,"margin-top":0,width:b.parent().width(),height:b.parent().height(),overflow:"hidden",position:"relative","-ms-user-select":"none","-webkit-user-select":"none",
"-mos-user-select":"none"}),a("\x3cimg\x3e").attr("src",v.staticImages.spinnerNoLabel).attr("id","iv360Spinner").css({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"block"}).appendTo(b),Y=!0,J())}function J(){if(c.isDefined(n.spriteURLs)&&c.isDefined(d)&&Y&&!ha){var b=d.find("#ivLarge360"),e=a("\x3cdiv\x3e").addClass("iv360Hint").css({position:"absolute",width:"100%",bottom:0,opacity:0,display:"block"});c.isDefined(n.staticImages.hint360)&&a("\x3cimg\x3e").css({"margin-left":"auto",
"margin-right":"auto",display:"block"}).attr("src",n.staticImages.hint360).appendTo(e);a("\x3cdiv\x3e").css({"text-align":"center"}).text(v.staticStrings.dragToSpin).appendTo(e);e.appendTo(b);var e=n.imageWidth,f=n.imageHeight,g=b.parent().width(),h=b.parent().height(),l=0,m=0;e/f>g/h?(T=B(g),R=Math.round(f/e*T),H=Math.ceil(g),U=Math.ceil(R/T*g),m=(h-U)/2):(R=B(h),T=Math.round(e/f*R),U=Math.ceil(h),H=Math.ceil(T/R*h),l=(g-H)/2);b.css({"margin-left":l,"margin-top":m,width:H+"px",height:U+"px",overflow:"hidden",
position:"relative"});b.children("#image-360-sprites").css("width",6*H+"px");y(n.spriteURLs,d.find("#image-360-sprites"),0);e=d.find("#ivLarge360");e.bind("mousedown",L);e.bind("touchstart",Q);e.bind("touchmove",S);e.bind("touchend",N);a(document).bind("mousemove",G);a(document).bind("mouseup",k);c.isDefined(v.staticImages.grab)&&b.css("cursor","url('"+v.staticImages.grab+"'), auto");ha=!0}}function Q(a){ca=!0;fa=a.originalEvent.targetTouches[0].clientX}function S(a){ca&&(C(a.originalEvent.targetTouches[0].clientX-
fa),fa=a.originalEvent.targetTouches[0].clientX)}function N(a){ca&&(ca=!1)}function L(a){ea=!0;W=a.originalEvent.clientX;c.isDefined(v.staticImages.grabbing)&&(a=d.find("#ivLarge360"),a.css("cursor","url('"+v.staticImages.grabbing+"'), auto"),a.parents(".a-declarative").last().css("cursor","url('"+v.staticImages.grabbing+"'), auto"));return!1}function G(a){ea&&(C(a.originalEvent.clientX-W),W=a.originalEvent.clientX)}function k(a){ea&&(ea=!1,c.isDefined(v.staticImages.grab)&&(a=d.find("#ivLarge360"),
a.css("cursor","url('"+v.staticImages.grab+"'), auto"),a.parents(".a-declarative").last().css("cursor","auto")))}function C(a){X-=a/H*180;na&&(l.count("dppc_360dragToSpin",v.mediaAsin),b.postCountMetric("dppc_360dragToSpin"));na=!1;for(a=X;0>a;)a+=360;for(;360<a;)a-=360;X=a;var e;a=360;for(var f=0;f<w;f++)for(var g=0;g<n.imageLocations[f].length;g++){var h=Math.abs(X-5*n.imageLocations[f][g]);h<a&&(a=h,e=f*n.imageLocations[0].length+g)}e!==aa&&(a=Math.floor(e/n.imageLocations[0].length),a!==Math.floor(aa/
n.imageLocations[0].length)&&(c.isDefined(ma)||(ma=document.createElement("canvas").getContext("2d")),f=d.find("#image-360-sprites").children(),ma.drawImage(f[a],0,0)),a=d.find(".iv360Hint").not(".iv360HintFaded"),c.isDefined(a)&&(a.addClass("iv360HintFaded"),a.animate({opacity:0},750)));aa=e;a=e%n.imageLocations[0].length*-1*H;e=-1*Math.floor(e/n.imageLocations[0].length)*U;f=d.find("#ivLarge360").children("#image-360-sprites");f.css("-webkit-transform","translate3d("+a+"px, "+e+"px, 0)");f.css("transform",
"translate3d("+a+"px, "+e+"px, 0)")}function A(){if(ga){d=a("#ivMain360");var c=O.getCurrentItem().color;h()&&u(c);n=h()?v.spin360ColorData[c]:ka;m.populateTitle(d.find("#ivTitle360"),160,v);m.populateVariationSelection(d.find("#ivVariationSelection360"));d.find("#ivLarge360").empty();w=0;ha=Y=!1;aa=X=0;ia();ga=!1}0!==a("#iv360Tab").height()&&(m.detachImmersiveViewResizeHandler(A),q(),t(),E=Date.now(),la=na=!0,l.count("dppc_click360",v.mediaAsin),b.postCountMetric("dppc_click360"))}function p(a,d,
f){a=v.colorToAsin[f];var h={},k=500;if(!a||!a.asin)if(f===v.defaultColor)a={asin:v.winningAsin};else return;h.params={asin:a.asin};var m="360"+a.asin,p=Date.now();h.success=function(a){l.time("dppc_asyncRequestTime360",Date.now()-p,v.mediaAsin);b.postTimeMetric("dppc_asyncRequestTime360",Date.now()-p);a&&c.isDefined(a.spin360)?((a=a.spin360.spin360Model)&&g.setData(a),c.ajaxState(m,"success")):h.error()};h.error=function(){l.count("dppc_asyncFailedTransient360",v.mediaAsin);b.postCountMetric("dppc_asyncFailedTransient360");
l.time("dppc_asyncRequestTime360",Date.now()-p,v.mediaAsin);b.postTimeMetric("dppc_asyncRequestTime360",Date.now()-p);k*=2;16E3>=k?setTimeout(function(){p=Date.now();e.load("/gp/product/features/apparel-main-image/360.html",h)},k):(l.count("dppc_asyncFailed360",v.mediaAsin),b.postCountMetric("dppc_asyncFailed360"),c.ajaxState(m,"fail"))};c.ajaxState(m)&&"fail"!==c.ajaxState(m)||(e.load("/gp/product/features/apparel-main-image/360.html",h),c.ajaxState(m,"sent"))}function h(){return v&&c.isDefined(v.spin360ConfigEnabled)&&
v.spin360ConfigEnabled}function u(a){return c.isDefinedAndNotEmpty(v.spin360ColorData[a])?!0:c.isDefined(v.spin360LazyLoadEnabled)&&v.spin360LazyLoadEnabled}function I(){la&&(l.time("dppc_duration360",Date.now()-E,v.mediaAsin),b.postTimeMetric("dppc_duration360",Date.now()-E),la=!1)}function K(a){a=v.colorToAsin[a.color]&&v.colorToAsin[a.color].asin;a||(a=v.mediaAsin);return a}var z,v,O,P,d,n,H,U,R,T,W,fa,Y=!1,ha=!1,X=0,aa=0,E=0,ba=0,ea=!1,ca=!1,w=0,ma,na=!0,la=!1,ga=!0,ia=f.once(function(){m.attachImmersiveViewResizeHandler(A);
m.attachImmersiveViewResizeHandler(q);m.attachImmersiveViewResetHandler(I);m.attachTabDeselectHandler("iv360Tab",I)});return function(d,e,k,q){z=this;v=d;O=e;P=q;d=v.landingAsinColor;e=v.defaultColor;c.isDefined(v.staticImages.icon360)&&a("#imageBlock #altImages ul").find(".360IngressTemplate").find("img").attr("src",m.addStyleCodeToURL(v.staticImages.icon360,"_FMpng_RI_"));h()&&(v.spin360ColorData||(v.spin360ColorData={}),d===e&&c.isDefinedAndEmpty(v.spin360ColorData[e])&&delete v.spin360ColorData[e]);
f.on(r.TWISTER_DATA_EVENT,function(a){K(O.getCurrentItem())===a&&(n=g.getData(a),J(),a={type:"updatedData",data:O.getCurrentItem()},P.dispatch("updateView",a))});z.render=function(d,e,k,n,q,r){ga=!0;!h()||c.isDefinedAndEmpty(v.spin360ColorData[d])&&!g.getData(K(O.getCurrentItem()))?m.hideTabHeading("iv360TabHeading"):(v.spin360ColorData[d]=g.getData(K(O.getCurrentItem())),c.isDefinedAndNotEmpty(v.spin360ColorData[d])?(a("#ivThumbs360").hide(),m.unhideTabHeading("iv360TabHeading"),c.isImmersiveViewEnabled(v,
O.getCurrentItem().color)&&h()&&u(d)&&(e===v.maxAlts&&(d=n.find(".item.imageThumbnail"),e=n.find(".item.videoThumbnail"),c.isDefined(e)&&1<e.length?e.last().remove():d.last().remove()),d=n.find(".360IngressTemplate").clone().removeClass("360IngressTemplate").removeClass("aok-hidden").addClass("item"),f.declarative.create(d,"button-360-click"),n.append(d),l.count("dppc_display360",v.mediaAsin),b.postCountMetric("dppc_display360"))):c.isDefined(v.spin360LazyLoadEnabled)&&v.spin360LazyLoadEnabled?(v.spin360ColorData[d]=
{},m.hideTabHeading("iv360TabHeading"),p(n,e,d)):m.hideTabHeading("iv360TabHeading"))};z.update=function(a){};m.attachTabSelectHandler("iv360Tab",A)}});x.register("nexusLogger360",function(){return{count:function(f,a){t.ue&&t.ue.event({asin:a,metricName:f,metricValue:1},"hit-360","hit360.clientEvent.3")},time:function(f,a,c){t.ue&&t.ue.event({asin:c,metricName:f,metricValue:a},"hit-360","hit360.clientEvent.3")}}});x.register("hit-spin360-constants",function(){return{TWISTER_DATA_EVENT:"spin360TwisterData"}});
x.when("A","hit-spin360-constants").register("hit-spin360-feature-data",function(f,a){var c={};return{setData:function(e){var l=e.asin;c[l]||(c[l]=e,f.trigger(a.TWISTER_DATA_EVENT,l))},getData:function(a){return c[a]}}});"use strict";x.when("A","jQuery").register("ImageBlockImmersiveViewDimensionIngress",function(f,a){var c;return function(a,f,b,m){c=this;c.render=function(){};c.update=function(){}}});"use strict";x.when("postMetric","imageBlockImmersiveViewUtils").execute("vse-ns-ajax-calls",function(f,
a){x.register("vse_ns_preLoaderHook",function(){function c(e,l){try{var b=e.A,m=e.block,g=e.request,r=e.handleFailure,q=e.handleSuccess,t=b.$;l--;var x=3-l-1,y=b.now();b.ajax("/vap/ew/componentbuilder",{params:g,paramsFormat:"json",crossDomain:!0,method:"post",contentType:"application/json",timeout:g.timeout||5E3,withCredentials:!0,success:function(a){var c=b.now()-y;f.postTimeMetric("vse_preLoaderHook:success:",c);f.postCountMetric("vse_preLoaderHook:success:"+g.page+":"+g.placement+":"+x);t(m).html(a);
q(b,g,a)},error:function(a){f.postCountMetric("vse_preLoaderHook:error:"+g.page+":"+g.placement+":"+x);(0===a.http.status||500<=a.http.status&&599>=a.http.status)&&0<l?c(e,l):(f.postCountMetric("vse_preLoaderHook:error:",1),r(b,g,a))}})}catch(B){a.logError("FATAL","vse_ns_desktop","[vse_ns_preLoaderHook] ",B)}}return{get:function(a,f,b,m,g){c({A:a,block:f,request:b,handleFailure:g,handleSuccess:m},3)}}});x.register("vse_ns_lazyLoaderHook",function(){function c(e,l,b){try{var m=e.A,g=e.context,r=e.handleFailure,
q=e.handleSuccess;l.attr("data-configuration");var t=atob(l.attr("data-configuration")),x=JSON.parse(t),y={pageContext:g,configuration:x},B=m.now();b--;var D=3-b-1;m.ajax("/vap/ew/subcomponent/"+x.type,{params:y,paramsFormat:"json",method:"post",contentType:"application/json",timeout:g.timeout||5E3,withCredentials:!0,success:function(a){var b=m.now()-B;f.postTimeMetric("vse_lazyLoaderHook:success:",b);f.postCountMetric("vse_lazyLoaderHook:success:"+g.page+":"+g.placement+":"+x.type+":"+D);l.html(a);
q(m,y,a)},error:function(a){f.postCountMetric("vse_lazyLoaderHook:error:"+g.page+":"+g.placement+":"+x.type+":"+D);(0===a.http.status||500<=a.http.status&&599>=a.http.status)&&0<b?c(e,l,b):(f.postCountMetric("vse_lazyLoaderHook:error:",1),r(m,y,a))}})}catch(J){a.logError("FATAL","vse_ns_desktop","[vse_ns_lazyLoaderHook] ",J)}}return{get:function(a,f,b,m,g){var r=a.$;r(f+" div[data-configuration]").each(function(){c({A:a,context:b,handleFailure:g,handleSuccess:m},r(this),3)})}}});x.register("vse_ns_videoPlayer",
function(){function c(e,l,b){try{var m=e.A,g=e.block,r=e.request,q=e.handleFailure,t=e.handleSuccess,x=m.$;b--;var y=3-b-1,B=m.now();m.ajax("/vap/ew/subcomponent/vseplayer",{params:r,paramsFormat:"json",crossDomain:!0,method:"post",contentType:"application/json",timeout:r.timeout||5E3,withCredentials:!0,success:function(a){var b=m.now()-B;f.postTimeMetric("vse_lightPlayerLoaderHook:success:",b);f.postCountMetric("vse_lightPlayerLoaderHook:success:"+r.page+":"+r.placement+":"+y);x(g).html(a);t(m,r,
a)},error:function(a){f.postCountMetric("vse_lightPlayerLoaderHook:error:"+r.page+":"+r.placement+":"+y);(0===a.http.status||500<=a.http.status&&599>=a.http.status)&&0<b?c(e,b):(f.postCountMetric("vse_lightPlayerLoaderHook:error:",1),q(m,r,a))}})}catch(D){a.logError("FATAL","vse_ns_lightPlayer","[vse_ns_lightPlayerLoaderHook] ",D)}}return{get:function(a,f,b,m,g){c({A:a,block:f,request:b,handleFailure:g,handleSuccess:m},3)}}})});"use strict";x.when("A","ImageBlockATF","ImageBlockBTF","imageBlockUtils",
"postMetric").execute(function(f,a,c,e,l){var b=[0,50,100,500,1E3,2E3,3E3,3500];(function(){var a=c.colorImages,f=0,r;for(r in a)a[r]&&a[r].length&&(f+=a[r].length);a="image_size_bucket:gt"+b[b.length-1];for(r=1;r<b.length;r++)if(f<=b[r]){a="image_size_bucket:"+b[r-1]+"-"+b[r];break}l.postCountMetric(a);e.addTag(a)})();(function(){var b=a.colorImages;b&&b.initial&&b.initial.length&&(b=b.initial.length,t.ue&&ue.count&&ue.count("altImageCount",b))})();(function(){var a=c.lazyLoadExperienceDisabled;
e.isDefined(c.lazyLoadExperienceDisabled)&&!a&&(l.postCountMetric("lazyLoadingExperienceOnTwisterUpdateEnabled"),e.addTag("lazyLoadingExperienceOnTwisterUpdateEnabled"))})()});x.when("A","get-resource-time","postMetric","afterLoad").execute(function(f,a,c){var e=f.state("desktop-landing-image-data");e&&(e=f.values(e),a=a.getResourceTimeByName("img",e),f.each(a,function(a){a&&(a.responseEnd!=ka&&c.postCountMetric("ibDesktopLandingImageDownloadTime",t.parseInt(a.responseEnd)),a.transferSize!=ka&&(0===
a.transferSize?c.postCountMetric("ibDesktopLandingImageCached",1):(c.postCountMetric("ibDesktopLandingImageSizeInBytes",t.parseInt(a.transferSize)),c.postCountMetric("ibDesktopLandingImageNotCached",1))))}))});x.when("A","jQuery","imageBlockUtils","postMetric").register("ImageBlockShoppableSceneView",function(f,a,c,e){function l(b,c){var e=a("\x3cimg src\x3d'"+(c?B.staticImages.shoppableSceneDotHighlighted:B.staticImages.shoppableSceneDot)+"' alt\x3d''\x3e");e.css({display:c?"none":"inline-block"});
e.addClass("mirai-scene-tag").addClass(c?"active-tag":"inactive-tag");return e}function b(b){var c=a("\x3cspan\x3e");f.each(b.tags,function(b){var e=a("\x3cdiv\x3e").css({position:"absolute",left:100*b.left+"%",top:100*b.top+"%",height:"auto",width:"auto"});e.append(l(b,!1));e.append(l(b,!0));e.bind("mouseenter",function(){m(a(this).find(".mirai-scene-tag[style*\x3d'display: inline-block']"))});f.declarative.create(e,"scenes-show-details-tags-ib",{tagId:b.link});c.append(e)});return c.children()}
function m(a){a.addClass("mirai-scene-dot-pulsate");f.delay(function(){a.removeClass("mirai-scene-dot-pulsate")},4E3)}function g(a,b){a.css({display:"none"});b.css({display:"inline-block"})}function r(a,b,c){a.eq(c).css({display:"inline-block"});b.eq(c).css({display:"none"})}function q(a){x.when("mirai-multi-scene-view").execute("mirai-scene-protected-image-selection",function(){f.trigger("mirai:scene-details-change",{physicalId:a})})}function t(){var b=a("\x3cspan class\x3d'mirai-scene-view-products-button-content'\x3e"),
c=a("\x3cimg class\x3d'item-tag'\x3e").attr("src",B.staticImages.shoppableSceneViewProductsButton).addClass("item-tag"),e=a("\x3cspan class\x3d'mirai-scene-view-products-button-text'\x3e");e.html(B.staticStrings.shoppableSceneViewProductsButton);return b.append(c).append(e)[0].outerHTML}function F(a){function c(){a.$tagPlaceholder.replaceWith(q);var b=q.find(".mirai-scene-tag.active-tag"),f=q.find(".mirai-scene-tag.inactive-tag");r(b,f,0);m(q.find(".mirai-scene-tag[style*\x3d'display: inline-block']"));
J=!0;a.$viewProductsButton.removeClass("aok-hidden");"function"==typeof uex&&uex("ld","desktop-dp-atf-ib-shoppablescenes-tags-"+a.index,{wb:1});A=!0;e.postCountMetric("miraiShoppableScenes_imageLoadedCount")}if(a.shoppableScene){var l=a.$viewProductsButton.find(".a-button-text");if(0===l.children().length){l.append(t());f.declarative.create(a.$viewProductsButton,"scenes-show-details-view-products-ib",{tagId:a.shoppableScene.tags[0].link});var q=b(a.shoppableScene),y=q.find(".mirai-scene-tag.active-tag"),
k=q.find(".mirai-scene-tag.inactive-tag"),C=a.shoppableScene.physicalId,A=!1;f.on("mirai:index:change",function(a){a.scenePhysicalId===C&&(a=a.selectedIndices[0],g(y,k),r(y,k,a),m(q.find(".mirai-scene-tag[style*\x3d'display: inline-block']").eq(a)),J=!0)});f.on("mirai:scene-details-change",function(a){a.physicalId!==C||J||(g(y,k),r(y,k,0),m(q.find(".mirai-scene-tag[style*\x3d'display: inline-block']")),J=!0)});f.on("mirai:no-products-active",function(a){a.scenePhysicalId===C&&g(y,k)});f.on("mirai:set-first-product-active",
function(a){a.scenePhysicalId===C&&(g(y,k),r(y,k,0))});f.on("a:image:load:shoppable-scene:"+a.index,function(){A||(c(),e.postCountMetric("miraiShoppableScenes_imageLoadedViaAuiListenerCount"))});f.on("shoppable-scene-image-loaded",function(b){b.index!=a.index||A||(c(),e.postCountMetric("miraiShoppableScenes_imageLoadedViaMiraiListenerCount"))});x.when("mirai-multi-scene-view").execute("mirai-scene-protected-side-sheet-initialization",function(){f.trigger("mirai:scene-side-sheet-init",{icons:B.staticImages,
strings:B.staticStrings});f.trigger("mirai:scene-details-init",{scene:a.shoppableScene,imageSource:a.imageSource})})}}}var y,B,D,J=!1;return function(a,b,e,f){y=this;B=a;D=f;c.isShoppableScenesEnabled()?(D.register("initialize-shoppable-scene",F),y.render=function(a,b,c,e,f,g,l){},y.update=function(a){"mouseenter"===a.type&&(a.data.shoppableScene?q(a.data.shoppableScene.physicalId):J=!1)}):(a=function(){},y.render=a,y.update=a)}});x.now().register("ShoppableSceneWeblabProvider",function(){return{isEnabled:!0}})});
/* ******** */
(function(k){var d=window.AmazonUIPageJS||window.P,p=d._namespace||d.attributeErrors,b=p?p("DetailPageShowroomImageBlockAssets",""):d;b.guardFatal?b.guardFatal(k)(b,window):b.execute(function(){k(b,window)})})(function(k,d,p){k.when("A","imageBlockUtils","showroom-lite-atf-feature-data","showroom-image-block-detail-page-rendering","showroom-image-block-constants","showroom-image-block-metrics").register("showroom-image-block-view",function(b,f,m,g,e,a){function c(h){h.interaction===p.MOUSE_ENTER&&
h.type===e.SHOWROOM_THUMBNAIL_TYPE&&g.isShowroomMainImageHidden()&&a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_THUMBNAIL_HOVER)}function d(b,e){var d=new Date;b.interaction=e.type;b.isUserGenerated=!0;if(f.isImageBlockGridViewHoverDelayEnabled()){if("mouseenter"===e.type&&m.isDataValidForAsin(u(b))&&(c(b),q&&clearTimeout(q),q=setTimeout(function(){var a=m.getDataForAsin(u(b)).imageData;g.updateMainImage(h,a,r);g.showShowroomMainImage(h);n.usePeekHover||f.selectGivenThumbnail(e.$declarativeParent,
x)},f.getHoveringDelayTimer())),"mouseleave"===e.type&&q&&clearTimeout(q),"click"===e.type){if(m.isDataValidForAsin(u(b))){var l=m.getDataForAsin(u(b)).imageData;g.updateMainImage(h,l,r);g.showShowroomMainImage(h)}f.selectGivenThumbnail(e.$declarativeParent,x);f.useTabbedImmersiveView(n)&&g.handleShowroomThumbnailClick(e)}}else m.isDataValidForAsin(u(b))&&(c(b),l=m.getDataForAsin(u(b)).imageData,g.updateMainImage(h,l,r),g.showShowroomMainImage(h)),n.usePeekHover&&"click"!==e.type||(f.selectGivenThumbnail(e.$declarativeParent,
x),"click"===e.type&&f.useTabbedImmersiveView(n)&&g.handleShowroomThumbnailClick(e));a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE_HANDLE_THUMBNAIL_EVENT,new Date-d)}function u(a){a=n.colorToAsin[a.color].asin;a||(a=n.mediaAsin);return a}var k=void 0,n=void 0,l=void 0,r=void 0,x=void 0,h=void 0,y=void 0,q=void 0,v=void 0,p={SWATCH_HOVER:"swatchHover",MOUSE_ENTER:"mouseenter"};return function(c,q,t,z){t=new Date;k=this;n=c;l=q;r=z;b.on(e.TWISTER_DATA_EVENT,function(a){u(l.getCurrentItem())===
a&&(a={type:"updatedData",data:l.getCurrentItem()},r.dispatch("updateView",a))});k.render=function(e,f,c,d,k,q){e=new Date;x=d;h=k.find("#main-showroom-container");h.parent().find("#showroom-canvas-caption");b.$("#main-image-container");try{var w=u(l.getCurrentItem());if(m.isDataValidForAsin(w)){var p=new Date,t=m.getDataForAsin(w);g.refresh(r,t.asin,t.defaultStageId);a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_GET_DATA_FOR_ASIN,new Date-p);if(!q){var B=new Date;g.updateMainImage(h,
t.imageData,r);a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UPDATE_MAIN_IMAGE,new Date-B)}var v=new Date;f=g.createThumbnail(n,d,f,t.imageData);a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_CREATE_THUMBNAIL,new Date-v);var z=new Date;b.$("#ivShowroomTabHeading").removeClass("aok-hidden");a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UNHIDE_TAB_HEADING,new Date-z);if(w!==y){var A=new Date;a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_FEATURE_RENDERED);var C=
a.createShowroomAtfEvent(t.defaultStageId,w,a.EVENT_NAMES.IMAGEBLOCK_LOAD,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(C);y=w;a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_LOG_EVENT,new Date-A)}}else b.$("#ivShowroomTabHeading").addClass("aok-hidden")}catch(E){b.$("#ivShowroomTabHeading").addClass("aok-hidden")}a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER,new Date-e);return f};k.update=function(b){var r=new Date;try{var c=b.data;l.setCurrentEvent(b);c.type===e.SHOWROOM_THUMBNAIL_TYPE?
d(c,b):c.type!==e.SHOWROOM_MAIN_IMAGE_TYPE&&(b.type===p.SWATCH_HOVER?c.color===l.getCurrentItem().color&&l.getCurrentItem().type===e.SHOWROOM_THUMBNAIL_TYPE?g.showShowroomMainImage(h):g.hideShowroomMainImage(h):f.isImageBlockGridViewHoverDelayEnabled()?(l.setToPreviousItem(),"mouseenter"===b.type&&(v&&clearTimeout(v),v=setTimeout(function(){l.setToCurrentItem(c);g.hideShowroomMainImage(h)},f.getHoveringDelayTimer())),"mouseleave"===b.type&&v&&clearTimeout(v),"click"===b.type&&(l.setToCurrentItem(c),
g.hideShowroomMainImage(h))):g.hideShowroomMainImage(h))}catch(D){}a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE,new Date-r)};(c=document.getElementById("ivShowroomTabHeading"))&&c.addEventListener("click",function(b){a.addOne(a.COUNTER_NAMES.TAB_SELECT);b=m.getDataForAsin(y).defaultStageId;b=a.createShowroomAtfEvent(b,y,a.EVENT_NAMES.IMMERSIVE_VIEW_TAB_CLICK,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(b)});a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_INVOKE,new Date-t)}});
"use strict";k.register("showroom-image-block-constants",function(){return{SHOWROOM_THUMBNAIL_TYPE:"showroom-image",SHOWROOM_MAIN_IMAGE_TYPE:"showroom-main-image",TWISTER_DATA_EVENT:"showroomTwisterData",STRING_IDS:{MAIN_IMAGE_OVERLAY_TEXT:"showroom_dp_imageblock_atf_main_image_overlay_text",MAIN_IMAGE_OVERLAY_BUTTON_TEXT:"showroom_dp_imageblock_atf_main_image_overlay_text_T2",MAIN_IMAGE_OVERLAY_ICON_URL:"showroom_dp_imageblock_atf_main_image_overlay_icon_url"}}});"use strict";k.when("A","jQuery",
"imageBlockUtils","showroom-lite-atf-feature-data","showroom-image-block-constants","showroom-image-block-metrics").register("showroom-image-block-detail-page-rendering",function(b,f,m,g,e,a){function c(b){a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_MAIN_IMAGE_SELECT);var c=a.createShowroomAtfEvent(n,k,a.EVENT_NAMES.IMAGEBLOCK_MAIN_IMAGE_CLICK,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(c);d(b)}function d(a){a.action="showroomIngressClick";a.data=l;p.dispatch("showroomIngressClick",a)}var k,p,
n,l;return{createThumbnail:function(a,b,c,f){c===a.maxAlts&&(b.find(".item.imageThumbnail").last().remove(),c--);l={type:"showroomIngress",index:0,thumbnailIndex:c,variant:f.variant};m.createThumbnail({type:e.SHOWROOM_THUMBNAIL_TYPE,index:0,thumbnailIndex:c,variant:f.variant},f.thumb,b,"showroom-imageblock-thumbnail");c++;return c},updateMainImage:function(a,d){var h=a.find("#showroom-main-image");h.length?h.attr("src",d.hiRes):(h=f(('\x3cdiv id\x3d"showroom-main-image-container"\x3e                    \x3cimg src\x3d"'+
d.hiRes+'" id\x3d"showroom-main-image"/\x3e                \x3c/div\x3e').trim()),h.appendTo(a),b.declarative.create(a,"showroom-image-action",l),b.declarative("showroom-image-action",["click"],c),h.addClass("image-gradient-hue"),d=g.getStringValue(e.STRING_IDS.MAIN_IMAGE_OVERLAY_TEXT),h=g.getStringValue(e.STRING_IDS.MAIN_IMAGE_OVERLAY_BUTTON_TEXT),f(('\x3cdiv id\x3d"showroom-main-image-overlay-container"\x3e                    \x3cdiv style\x3d"padding-bottom: 7px;width: 40%;"\x3e                        \x3cspan id\x3d"showroom-main-image-overlay-subtext"\x3e'+
d+'\x3c/span\x3e                    \x3c/div\x3e                    \x3cspan class\x3d"a-button a-button-base"\x3e                        \x3cspan class\x3d"a-button-inner"\x3e                            \x3cinput class\x3d"a-button-input"\x3e                            \x3cspan class\x3d"a-button-text" id\x3d"showroom-main-image-overlay-button"\x3e                                \x3cimg id\x3d"showroom-main-image-overlay-icon" src\x3d"https://m.media-amazon.com/images/G/01/showroom/icon-lightbulb._CB628497379_.png"/\x3e'+
h+"\n                            \x3c/span\x3e                        \x3c/span\x3e                    \x3c/span\x3e                \x3c/div\x3e").trim()).appendTo(a))},hideShowroomMainImage:function(a){a.parent().css("z-index",-1);a.parent().addClass("aok-hidden")},showShowroomMainImage:function(a){a.parent().css("z-index",2);a.parent().removeClass("aok-hidden")},isShowroomMainImageHidden:function(){return f("#showroom-outer-container").hasClass("aok-hidden")},handleShowroomIngressClick:d,handleShowroomThumbnailClick:function(b){a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_THUMBNAIL_SELECT);
var c=a.createShowroomAtfEvent(n,k,a.EVENT_NAMES.IMAGEBLOCK_THUMBNAIL_CLICK,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(c);d(b)},handleShowroomMainImageClick:c,refresh:function(a,b,c){p=a;k=b;n=c}}});"use strict";k.when("A").register("showroom-image-block-metrics",function(b){return{EVENT_NAMES:{IMAGEBLOCK_LOAD:"srm_atf_imageBlock_load",IMAGEBLOCK_THUMBNAIL_CLICK:"srm_atf_thumbnail_click",IMAGEBLOCK_MAIN_IMAGE_CLICK:"srm_atf_main_image_click",IMMERSIVE_VIEW_TAB_CLICK:"srm_atf_iv_tab_click"},COUNTER_NAMES:{SHOWROOM_IMAGEBLOCK_FEATURE_RENDERED:"showroom:atf:imageBlock:feature:render",
SHOWROOM_IMAGEBLOCK_THUMBNAIL_HOVER:"showroom:atf:imageBlock:thumbnail:hover",SHOWROOM_IMAGEBLOCK_THUMBNAIL_SELECT:"showroom:atf:imageBlock:thumbnail:select",SHOWROOM_IMAGEBLOCK_MAIN_IMAGE_SELECT:"showroom:atf:imageBlock:mainImage:select",SHOWROOM_IMAGEBLOCK_FAILED_TO_INITIALIZED_WEBLAB_TRIGGER:"showroom:atf:imageBlock:failedToInitializeWeblabTrigger",TAB_SELECT:"showroom:atf:tab:select"},STATUS_TYPES:{SUCCESS:"success",ERROR:"error"},TIMER_NAMES:{SHOWROOM_IMAGEBLOCK_LATENCY_INVOKE:"showroom:atf:imageBlock:latency:invoke",
SHOWROOM_IMAGEBLOCK_LATENCY_LOAD:"showroom:atf:imageBlock:latency:load",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER:"showroom:atf:imageBlock:latency:render",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_GET_DATA_FOR_ASIN:"showroom:atf:imageBlock:latency:render:getDataForAsin",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UPDATE_MAIN_IMAGE:"showroom:atf:imageBlock:latency:render:updateMainImage",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_CREATE_THUMBNAIL:"showroom:atf:imageBlock:latency:render:createThumbnail",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UTIL_CREATE_THUMBNAIL:"showroom:atf:imageBlock:latency:render:utilCreateThumbnail",
SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UNHIDE_TAB_HEADING:"showroom:atf:imageBlock:latency:render:unhideTabHeading",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_LOG_EVENT:"showroom:atf:imageBlock:latency:render:logEvent",SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE:"showroom:atf:imageBlock:latency:update",SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE_HANDLE_THUMBNAIL_EVENT:"showroom:atf:imageBlock:latency:update:handleThumbnailEvent"},addOne:function(b){try{if(d.ue&&b){var f=(d.ue.count(b)||0)+1;d.ue.count(b,f)}}catch(g){}},logValue:function(b,
m){try{d.ue&&b&&"number"===typeof m&&d.ue.count(b,m)}catch(g){}},createShowroomAtfEvent:function(f,d,g,e){var a={};a.showroomId=f;a.asin=d;a.eventType=g;a.status=e;a.device=b.capabilities?b.capabilities.isAmazonApp?"AmazonApp":b.capabilities.mobile?"mobile":b.capabilities.tablet?"tablet":"desktop":"";a.userAgent=navigator?navigator.userAgent:"";a.producerId="showroom_atf";a.schemaId="com.amazon.showroom.ingress.clientEvent.3";return a},logShowroomAtfEvent:function(b){try{d.ue&&d.ue.event&&b&&d.ue.event(b,
"showroom_atf","com.amazon.showroom.ingress.clientEvent.3")}catch(m){}}}});"use strict";k.when("A","showroom-image-block-constants").register("showroom-lite-atf-feature-data",function(b,d){function f(){return e[a]}function g(a){return a in e}var e={},a;return{setData:function(c){c&&c.asin&&c.imageDomain&&c.defaultCollageUrl&&c.defaultStageId&&Array.isArray(c.itemMainImagePhysicalIds)&&(a=c.asin,g(c.asin)||(e[c.asin]=c,b.trigger(d.TWISTER_DATA_EVENT,c.asin)))},getDataForCurrentAsin:f,getDataForAsin:function(a){return e[a]},
getStringValue:function(a){return f().displayStrings?f().displayStrings[a]:""},isDataValidForAsin:g}})});
/* ******** */
