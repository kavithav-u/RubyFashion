(function(u){var t=window.AmazonUIPageJS||window.P,ia=t._namespace||t.attributeErrors,f=ia?ia("DetailPageImageBlockAssets",""):t;f.guardFatal?f.guardFatal(u)(f,window):f.execute(function(){u(f,window)})})(function(u,t,ia){u.when("A","postMetric","ready").execute("feature-bullets-tailoring-metrics",function(f,a){try{var d=f.$,g=d("#featurebullets_feature_div"),m=d("#productOverview_feature_div");if(g&&0<g.length&&(a.postCountMetric("FeatureBulletsRendered.GV"),m&&0<m.length)){a.postCountMetric("FeatureBulletsRenderedWithPO.GV");
var c=d("#featurebullets_feature_div .a-expander-container");c&&0<c.length&&"feature-bullets-expander"===c.data("aExpanderName")&&(a.postCountMetric("FeatureBulletsRenderedCollapsed.GV"),f.on("a:expander:feature-bullets-expander:toggle:expand",function(d){a.postCountMetric("FeatureBulletsInteraction.Expanded")}),f.on("a:expander:feature-bullets-expander:toggle:collapse",function(d){a.postCountMetric("FeatureBulletsInteraction.Collapsed")}))}}catch(p){u.log("Feature bullets metric logging failed with error: ( "+
p+" )","ERROR","FeatureBulletsTailoringMetrics")}});"use strict";u.register("postMetric",function(){return{postCountMetric:function(f){if("undefined"!==typeof f){var a=t.ue;if(a){var d=a.count(f)||0;a.count(f,d+1)}}},postTimeMetric:function(f,a){if("undefined"!==typeof f&&"undefined"!==typeof a){var d=t.ue;d&&d.count(f,a)}},emitNexusMetric:function(f){t.ue&&ue.event&&ue.event(f,"VSEImageBlockEvents","vse.VSEImageBlockEvents.3",{ssd:!1})},buildNexusMetric:function(f,a,d,g,m,c,p,h){return{eventSource:"IBCarousel",
placementContext:h,clientId:"VSE",userAgentData:navigator.userAgent,titleSessionId:"0",eventName:f,intPayload:a,videoAsin:d,videoAsinList:"",groupType:g,pageUrl:m,pageAsin:c,weblabIds:p}}}});"use strict";u.register("logFailedInteractionMetric",function(){return{isEnabled:!1}});u.register("postEarlyMetric",function(){return null});"use strict";u.when("jQuery","ImageBlockController","ImageBlockATF","ImageBlockBTF").register("ImageBlock",function(f,a,d,g){f=f.extend(!0,{},d,g);var m=new a(f);u.register("ImageBlockAPI",
function(){return m.api});return m});"use strict";u.when("A","jQuery").execute(function(f,a){f.on("a:image:load:landingImage",function(){t.performance&&performance.now&&t.ue&&ue.count&&ue.count("DPLandingImageHighResDownloadTime",performance.now())});f.loadDynamicImage(a("#landingImage"))});"use strict";u.when("ImageBlockATF","atf").register("ImageBlockAiryLoader",function(f){function a(a){a&&(u.load.js(a),t.performance&&performance.now&&t.ue&&ue.count&&ue.count("DPAiryDownloadStartTime",t.parseInt(performance.now())))}
function d(a){a&&u.load.css(a)}var g=f.airyConfig;g===ia?u.when("ImageBlockBTF").execute(function(f){g=f.airyConfig;a(g.jsUrl);d(g.cssUrl)}):(a(g.jsUrl),d(g.cssUrl))});"use strict";u.when("jQuery","ImageBlockModel","ImageBlockView","imageBlockUtils","ImageBlockState").register("ImageBlockController",function(f,a,d,g,m){var c={};return function(p){var h=this;h.dispatch=function(a,d){var h=c[a];g.isDefined(h)&&f.each(h,function(a,c){c.call(t,d)})};h.register=function(a,d){g.isDefined(c[a])||(c[a]=[]);
"function"===typeof d&&c[a].push(d)};h.model=new a(p,h);h.view=new d(p,h,h.model);h.api=new m(p,h,h.model);h.init=function(){h.model.init();h.view.init()};h.init()}});"use strict";u.when("A","imageBlockUtils").register("ImageBlockModel",function(f,a){function d(d,c,f,g,h,p){a.isDefined(d)&&(n.type=d);a.isDefined(c)&&(n.index=c);a.isDefined(f)&&(n.thumbnailIndex=f);a.isDefined(g)&&(n.variant=g);a.isDefined(h)&&(n.color=h);n.shoppableScene=p||null}function g(a){d("image",0,0,"MAIN",a||h.landingAsinColor||
h.defaultColor,null)}function m(a){a=a.data;J=f.copy(n);d(a.type,a.index,a.thumbnailIndex,a.variant,a.color,a.shoppableScene)}function c(a){m(a);a=f.copy(a);a.data=f.copy(n);q.dispatch("updateView",a)}function p(){J=f.copy(n);g(n.color)}var h,q,n={},J={},G,t;return function(a,v){q=v;h=a;q.register("updateSelection",c);q.register("updateModel",m);q.register("resetModel",p);this.init=function(){g()};this.getCurrentItem=function(){return f.copy(n)};this.getPreviousItem=function(){return f.copy(J)};this.setCurrentEvent=
function(a){G=a};this.getCurrentEvent=function(){return G};this.setImmersiveViewModalInstance=function(a){t=a};this.getImmersiveViewModalInstance=function(){return t};this.updateTitle=function(a){h.title=a};this.setToPreviousItem=function(){d(J.type,J.index,J.thumbnailIndex,J.variant,J.color,J.shoppableScene)};this.setToCurrentItem=function(a){d(a.type,a.index,a.thumbnailIndex,a.variant,a.color,a.shoppableScene)}}});"use strict";u.when("ImageBlockBTF","postMetric").register("ImageBlockInitViews",
function(f,a){function d(a,d,g,h,q){function n(a){"click"===a.type&&h.postCountMetric("thumbClick");"click"===a.type&&b.overrideAltImageClickAction?k.dispatch("thumbActionClick",a):k.dispatch("updateSelection",a)}function J(a){b.useClickZoom||k.dispatch("imageClick",a)}function G(a){b.useClickZoom||k.dispatch("imageHover",a)}function E(a){k.dispatch("button360Click",a)}function C(d){!g.isDefined(d)||"swatchClick"!==d.type&&"updatedData"!==d.type?(A.update(d),"swatchHover"!==d.type&&z.getPreviousItem().thumbnailIndex!==
d.data.thumbnailIndex&&h.postCountMetric(d.data.type+"ThumbnailSelected"),a.trigger("image-block-thumbnail-selected",d.data)):(A.render(d.data.color,!1,d.onload,d.type),d={hasComponents:!0,components:[{name:"mainimage"},{name:"thumbnail"}]},"function"===typeof t.markFeatureRender&&t.markFeatureRender("imageblock",d))}function v(a){k.dispatch("resize",a)}function D(a){g.selectThumbnail(a,y)}function Q(){if("function"===typeof t.markFeatureInteractive){var a=[],d=[];b.interactiveCallJSPEnabled?(a=["scroll"],
d=["click"]):(a=["hover"],d=["click","hover"]);t.markFeatureInteractive("imageblock",{hasComponents:!0,components:[{name:"mainimage",events:a,alwaysInteractive:!0},{name:"thumbnail",events:d,alwaysInteractive:!0}]})}}function W(){"function"===typeof t.markFeatureInteractive&&t.markFeatureInteractive("imageblock",{hasComponents:!0,components:[{name:"mainimage",events:["click"],alwaysInteractive:!0}]})}function O(){if(!b.interactiveCallJSPEnabled||f.useIV)Q(),1===f.useIV?u.when("a-modal").execute(function(){W()}):
W();b.disableHoverOnAltImages||a.declarative("thumb-action",["mouseenter","mouseleave"],n);a.declarative("thumb-action",["click"],n);a.declarative("main-image-click",["click"],J);a.declarative("main-image-click",["mouseenter","mouseleave"],G);a.declarative("button-360-click",["click"],E);a.on("resize",v)}function P(a){var d=a.data,b;d&&"ingress"!==d.type&&"click"===a.type&&(b=a);return b}function F(a){var d=z.getCurrentItem(),b={type:"click"};b.$declarativeParent=a;b.data=d;return b}function l(a){g.isImageBlockGridViewHoverDelayEnabled()&&
"mouseenter"===a.type&&g.updateThumbnailHoverDelay(a.$target)}var A,b,k,z,y;return function(a,f,g){A=this;b=a;k=f;z=g;y=d("#imageBlock #altImages ul");var h=d("#imageBlock .canvas"),p=d("#main-image-container"),m;A.subViews=[];for(f=0;f<q.length;f++)A.subViews.push(new q[f](a,g,A,k));A.render=function(a,r,f,k){var R=0;y.find(".item").remove();a=a||z.getCurrentItem().color;d.each(A.subViews,function(d,c){R=(2===b.unrolledImageBlockTreatment||3===b.unrolledImageBlockTreatment?c.render(a,R,h,y,p,r,f,
k):c.render(a,R,h,y,p,r,f))||R});var g=y.find(".a-button-selected").closest(".a-declarative");m=F(g)};A.init=function(){y=d("#imageBlock #altImages ul");var a=y.find(".a-button-selected").closest(".a-declarative"),r=a.data("action"),a=a.data(r)||{};a.color=b.landingAsinColor||b.defaultColor;k.dispatch("updateModel",{data:a});A.render(a.color,!0);b.isDebug&&t.console&&console.log(b);k.register("updateView",C);k.register("selectThumbnail",D);O()};A.update=function(a){l(a);d.each(A.subViews,function(d,
b){b.update(a)});b.usePeekHover&&("mouseleave"===a.type?k.dispatch("updateSelection",m):"click"===a.type&&(m=P(a)||m))}}}var g=["A","jQuery","imageBlockUtils","postMetric"].concat(f.views);u.when.apply(u,g).register("ImageBlockView",function(){for(var a=arguments[0],c=arguments[1],f=arguments[2],g=arguments[3],q=[],n=4,t=arguments.length;n<t;n++)q.push(arguments[n]);return d(a,c,f,g,q)})});"use strict";u.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric",
"postEarlyMetric").register("ImageBlockAltImageView",function(f,a,d,g,m,c,p){function h(e,b,r,c){if(!d.isjQueryObjDefined(e.find(".a-button-selected"))){var f=z.getCurrentItem();if(!c||"chromeless-video"!==f.type||!k.autoplayVideo)if(c=0,"image"===f.type&&(c=Math.max(G(f.color,f.variant),0)),!(f.thumbnailIndex>=k.maxAlts&&0!=c)){var g=b+c;g>=r&&(c=0,g=b);b=d.getImageHash(f.color,c,k);-1!==b&&(y.dispatch("updateModel",{data:{index:c,thumbnailIndex:g,variant:b.variant,type:"image",shoppableScene:b.shoppableScene}}),
b=e.find(".item").get(g),d.selectGivenThumbnail(a(b),e))}}}function q(e,b,r){if((2===k.unrolledImageBlockTreatment||3===k.unrolledImageBlockTreatment)&&r)return e;var f=k.colorImages&&k.colorImages[b];b=e;2!==k.unrolledImageBlockTreatment&&3!==k.unrolledImageBlockTreatment||a(".thumbItemUnrolled").each(function(d){(!a(this)[0].classList.contains("thumbTypeimage")||d>=f.length||d>=k.maxAlts)&&a(this).remove()});d.isDefined(f)&&(a.each(f,function(b,c){if(e<k.maxAlts)if(2===k.unrolledImageBlockTreatment||
3===k.unrolledImageBlockTreatment){e++;var r=a(".thumbItemUnrolled");r[b]?r[b].querySelector("img").src=c.thumb:a('\x3cli class\x3d"thumbItemUnrolled thumbTypeimage thumbIndex'+b+'"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-button a-button-thumbnail a-button-toggle" id\x3d"a-autoid-'+e+'"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"a-autoid-'+e+'-announce"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"a-autoid-'+
e+'-announce"\x3e \x3cimg alt\x3d"" src\x3d"'+c.thumb+'"\x3e \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(a(".regularAltImageViewLayout"))}else d.createThumbnail({type:"image",index:b,thumbnailIndex:e,variant:c.variant,shoppableScene:c.shoppableScene},c.thumb,S,"imageThumbnail"),e++}),c.isEnabled&&p.logAltImgRequestPlacedOnThumbnails(a,c,z),h(S,b,e,r));return e}function n(a,e){k.useIV&&d.isDefined(e.hiRes)&&a.css("cursor","pointer")}function J(e,b){if("image"===e.type){var c=
a("#image-canvas-caption #canvasCaption"),r,f=k.staticStrings,g=k.colorImages,l=e.color,h=e.index;d.isShoppableScenesEnabled()&&e.shoppableScene?r=f.clickSceneTagsToShopProducts:b&&k.useIV?r=f.clickToExpand:g[l]&&g[l][h].hiRes&&k.useHoverZoom?(r=k.useHoverZoomIpad?f.touchToZoom:k.useClickZoom?f.clickToZoom:f.rollOverToZoom,k.hoverZoomIndicator&&(r="\x3cimg src\x3d'"+k.staticImages.hoverZoomIcon+"'/\x3e\x26nbsp;"+r)):k.useIV&&(r=f.clickToExpand);c.html(r)}}function G(a,e){return d.getIndexForVariant(a,
e,k)}function E(a,d,e){var b=d.thumbnailIndex,r=k.colorToAsin[d.color]&&k.colorToAsin[d.color].asin;d="altImageHover"===e&&K&&K.altImageIdx===b&&K.asin===r&&"swatchClick"===K.event?!0:"swatchHover"===e?K&&K.asin===r&&K.event===e:K&&K.altImageIdx===b&&K.asin===r&&K.event===e;if(!d){var c="#",f=a.find(".imgTagWrapper img").get(0);f&&(c=f.src);a=new Image;a.onload=function(){if(f){f.src=c;var a=f.width,d=f.height,g=f.naturalWidth,k=f.naturalHeight;try{var l=(Math.abs(a/g*k-d)/d).toFixed(2);.01<l&&(t.ue&&
((("landing"!==e||N||L)&&"swatchClick"!==e||t.ue.count("imageBlock-PC-hi_res_image_distortion",1),"landing"===e||"swatchClick"===e)?t.ue.count("imageBlock-PC-hi_res_landing_image_distortion",1):"swatchHover"!==e||L?"altImageHover"!==e||N||(t.ue.count("imageBlock-PC-hi_res_alt_image_distortion",1),N=!0):(t.ue.count("imageBlock-PC-hi_res_swatch_hover_image_distortion",1),L=!0)),t.ueLogError&&(a={logLevel:"WARN",attribution:"imageBlock-PC-hi_res_image_distortion"},t.ueLogError("swatchHover"===e?{message:"[ImageBlock Hi-Res: Size distortion for ASIN: "+
r+" Event:"+e+" Diff:"+l.toString()+"]"}:{message:"[ImageBlock Hi-Res: Size distortion for ASIN: "+r+" at altImageIdx "+b+" Event:"+e+" Diff:"+l.toString()+"]"},a)))}catch(R){t.ueLogError&&(a={logLevel:"WARN",attribution:"imageBlock-PC-hi_res_log_distortion_catch_exception"},t.ueLogError(R,a))}}};"#"!==c&&(a.src=c);K.altImageIdx=b;K.asin=r;K.event=e}}function C(e,b){var r="a-dynamic-image";if(!k.acEnabled){var c;a.each(e.main,function(a,e){d.isDefined(c)||(c=parseFloat(e[1]/e[0])<=parseFloat(k.holderRatio)?
" a-stretch-vertical":" a-stretch-horizontal")});r+=c}var f=d.getMaxDimensionsOfMainImage(e.main,I,k),g=f[0],l=f[1],f=a("\x3cdiv\x3e\x3c/div\x3e"),g={"max-height":g,"max-width":l};f.addClass(r).css(g).attr({"data-old-hires":e.hiRes,"data-a-manual-replacement":"true",onload:b}).data("a-dynamic-image",e.main);return f}function v(a,e,d){var b="desktop-dp-atf-ib-shoppablescenes-tags-"+a;"function"==typeof uet&&uet("bb",b,{wb:1});d.attr("data-a-image-name","shoppable-scene:"+a);d=x.find(".mirai-scene-image-block-template").clone().removeClass("mirai-scene-image-block-template aok-hidden").addClass("mirai-shoppable-scene");
d.addClass("celwidget").attr("cel_widget_id",b);d.children("span").css("display","inline-block");y.dispatch("initialize-shoppable-scene",{index:a,shoppableScene:e.shoppableScene,imageSource:e.hiRes||e.large||e.lowRes,$tagPlaceholder:d.find(".mirai-scene-tag-placeholder"),$viewProductsButton:d.find(".mirai-scene-view-products-button")});"MutationObserver"in t&&(new MutationObserver(function(d,b){d.forEach(function(d){"childList"===d.type&&d.target.classList.contains("mirai-scene-image-block-tag-container")&&
1===d.addedNodes.length&&"IMG"===d.addedNodes[0].tagName&&""!==d.addedNodes[0].src&&(d=d.addedNodes[0],"function"!==typeof d.onload&&(d.onload=function(){f.trigger("shoppable-scene-image-loaded",{index:a,shoppableScene:e.shoppableScene})}),b.disconnect())})})).observe(d.find(".mirai-scene-image-block-tag-container")[0],{subtree:!0,childList:!0,attributes:!1});"function"==typeof uet&&uet("cf",b,{wb:1});return d}function D(a,e,b){b=C(a,b);a=d.isShoppableScenesEnabled()&&a.shoppableScene?v(e,a,b):x.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate");
a.addClass("image item itemNo"+e+" maintain-height").attr({"data-csa-c-type":"uxElement","data-csa-c-element-type":"navigational","data-csa-c-action":"image-block-main-image-hover","data-csa-c-posy":e+1});a.find(".placeHolder").replaceWith(b);x.find(".list").append(a);f.loadImageManually(b);return a}function Q(a){var d=I.css("height");null!==d&&a.find(".imgTagWrapper").css("height",d);a.addClass("selected");k.imgTagWrapperClasses&&a.find(".imgTagWrapper").addClass(k.imgTagWrapperClasses)}function W(a){if(a.isUserGenerated){var e=
z.getPreviousItem(),b=a.variant;d.isDefined(b)&&e.thumbnailIndex!==a.thumbnailIndex&&(c.isEnabled&&p.logAltImgRequestServed(c),m.postCountMetric("ImageThumbnailSelectedVariant:"+b),0===b.indexOf("IG")&&(m.postCountMetric("IGImageSelectedVariant:"+b),m.postCountMetric("IGImageSelectedEvent:"+a.interaction)))}}function O(e,b,r,c){if((2===k.unrolledImageBlockTreatment||3===k.unrolledImageBlockTreatment)&&!c&&"unavailable"!==e.type){if(e=k.colorImages&&k.colorImages[r],a(".unrolledImg").each(function(e){a(this).remove()}),
d.isDefined(e)&&(a.each(e,function(e,d){if(e<k.maxAlts){var b=a(".unrolledImg");b[e]?a(".unrolledImg #unrolledImgNo"+e+" img").replaceWith('\x3cimg alt\x3d"" src\x3d"'+d.large+'" data-a-hires\x3d"'+d.hiRes+'" data-a-manual-replacement\x3d"true"\x3e'):e>=b.length&&a('\x3cli data-csa-c-action\x3d"image-block-main-image-hover" data-csa-c-element-type\x3d"navigational" data-csa-c-posy\x3d"'+(e+1)+'" data-csa-c-type\x3d"uxElement" class\x3d"image item itemNo'+e+' unrolledImg imgMedia"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-declarative" data-action\x3d"main-image-click" data-csa-c-type\x3d"widget" data-csa-c-func-deps\x3d"aui-da-main-image-click" data-main-image-click\x3d"{}" data-ux-click\x3d""\x3e \x3cdiv id\x3d"imgTagWrapperId" class\x3d"imgTagWrapper"\x3e \x3cdiv id\x3d"unrolledImgNo'+
e+'"\x3e \x3cdiv class\x3d"a-image-container a-dynamic-image-container greyBackground" style\x3d"width:100%; height:600px;"\x3e \x3cimg alt\x3d"" src\x3d"'+d.large+'" data-a-hires\x3d"'+d.hiRes+'" data-a-manual-replacement\x3d"true"\x3e \x3c/div\x3e \x3c/div\x3e\x3c/div\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(a(".unrolledScrollBox .list-unrolled"))}}),f.loadHiResImage(document.querySelectorAll(".unrolledImg.imgMedia img")),r=d.isDefined(b)))m.postCountMetric("mainImageUpdateOnTwisterVariationClick"),
b()}else if("image"===e.type||"unavailable"===e.type||"lazy-loaded"===e.type){(r=d.isDefined(b))&&m.postCountMetric("mainImageUpdateOnTwisterVariationClick");c=d.getImageHash(e.color,e.index,k);if(-1===c)return b={data:{index:0,thumbnailIndex:0,variant:"",type:"unavailable"}},d.lazyLoadingRequired(e,z,k)||(y.dispatch("updateModel",b),d.showUnavailable(e.color)),-1;var g=x.find(".item.itemNo"+e.thumbnailIndex);d.isjQueryObjDefined(g)||(g=D(c,e.thumbnailIndex,b),r?(L=N=!1,E(g,e,"swatchClick")):E(g,
e,"altImageHover"));Q(g);y.dispatch("loadMagnifier");J(e);n(g,c);W(e);f.trigger("dp:image-block:update",c)}}function P(a){var e=Math.max(G(a.color,z.getCurrentItem().variant),0),e=d.getImageHash(a.color,e,k);if(-1===e)return d.lazyLoadingRequired(a,z,k)||d.showUnavailable(a.color),-1;var b=x.find(".swatchHoverExp"),r=C(e);b.find(".imgTagWrapper").html(r);f.loadImageManually(r);m.postCountMetric("mainImageUpdateOnTwisterVariationHover");Q(b);E(b,a,"swatchHover");f.trigger("dp:image-block:update",e)}
function F(e,b){d.lazyLoadingRequired(e,z,k)||(a("#imageBlock").css("opacity","1"),x.css("opacity","1"),d.spinner(x,!1),x.find("li").removeClass("selected"),a("#image-canvas-caption #canvasCaption").empty(),d.hideUnavailable(),b&&x.find(".list .item").remove())}function l(){var e=x.find(".item .imgTagWrapper"),b=d.getContainerHeight(I,k.holderRatio,k.holderMaxHeight);0<b&&(I.height(b),e.height(b));x.find("img.a-dynamic-image").each(function(){var e=a(this);e.data("a-manual-replacement")&&f.loadDynamicImage(this);
var b=e.data("a-dynamic-image"),b=d.getMaxDimensionsOfMainImage(b,I,k);e.css({"max-height":b[0]+"px","max-width":b[1]+"px"})})}function A(a){J(z.getCurrentItem(),"mouseenter"===a.type)}var b,k,z,y,H,M,S,x,I,K={},e,r=null,N=!1,L=!1;f.on("triggerImageAjax",function(a){var e=z.getCurrentItem().color;k.colorImages[e]||(k.colorImages[e]=a);a={type:"updatedData",data:z.getCurrentItem()};y.dispatch("updateView",a);(e=k.colorToAsin[e])&&e.asin&&u.register(d.rankedImagesReadyEvent(e.asin))});return function(c,
f,g,h){b=this;k=c;z=f;y=h;k.colorImages[k.landingAsinColor]=k.colorImages[k.defaultColor];b.render=function(b,c,f,g,l,h,p,m){x=2!==k.unrolledImageBlockTreatment&&3!==k.unrolledImageBlockTreatment?f:a(".unrolledScrollBox");S=g;I=l;e=q(c,b,h);h?0===c&&E(x.find(".item.itemNo0"),z.getCurrentItem(),"landing"):(c=z.getCurrentItem(),d.lazyLoadingRequired(c,z,k)&&y.dispatch("updateModel",{data:{type:"lazy-loaded"}}));F(z.getCurrentItem(),!h);2===k.unrolledImageBlockTreatment||3===k.unrolledImageBlockTreatment?
"swatchClick"===m&&k&&k.colorImages?(r=k.colorImages[b],O(z.getCurrentItem(),p,b,h)):"updatedData"===m&&k&&k.colorImages&&k.colorImages[b]!==r&&(r=k.colorImages[b],O(z.getCurrentItem(),p,b,h)):O(z.getCurrentItem(),p,b,h);return e};d.isImageBlockGridViewHoverDelayEnabled()?b.update=function(a){var b=a.data;z.setCurrentEvent(a);"ingress"!==b.type&&"swatchHover"!==a.type&&(z.setToPreviousItem(),"mouseenter"===a.type?(M&&clearTimeout(M),M=setTimeout(function(){z.setToCurrentItem(b);F(a.data,!1)},d.getHoveringDelayTimer())):
"mouseleave"===a.type?M&&clearTimeout(M):"click"===a.type&&(z.setToCurrentItem(b),F(a.data,!1)));"swatchHover"===a.type?("ingress"!==b.type&&F(a.data,!1),b.color===z.getCurrentItem().color?O(z.getCurrentItem(),null,b.color,!0):a.captured||-1===P(b)||(a.captured=!0)):"image"===b.type&&(b.interaction=a.type,b.isUserGenerated=!0,"mouseenter"===a.type?(m.postCountMetric("dpcc_imageThumbHovered_"+(b.thumbnailIndex+1)+"_"+e),H&&clearTimeout(H),H=setTimeout(function(){O(b,null,b.color,!0);k.usePeekHover||
d.selectGivenThumbnail(a.$declarativeParent,S)},d.getHoveringDelayTimer())):"mouseleave"===a.type?H&&clearTimeout(H):"click"===a.type&&(O(b,null,b.color,!0),d.selectGivenThumbnail(a.$declarativeParent,S),m.postCountMetric("dpcc_imageThumbClicked_total"),m.postCountMetric("dpcc_imageThumbClicked_"+(b.thumbnailIndex+1)+"_"+e)))}:b.update=function(a){var b=a.data;z.setCurrentEvent(a);"ingress"!==b.type&&F(a.data,!1);"swatchHover"===a.type?b.color===z.getCurrentItem().color?O(z.getCurrentItem(),null,
b.color,!0):a.captured||-1===P(b)||(a.captured=!0):"image"===b.type&&(b.interaction=a.type,b.isUserGenerated=!0,"mouseenter"===a.type&&m.postCountMetric("dpcc_imageThumbHovered_"+(b.thumbnailIndex+1)+"_"+e),O(b,null,b.color,!0),k.usePeekHover&&"click"!==a.type||(d.selectGivenThumbnail(a.$declarativeParent,S),"click"===a.type&&(m.postCountMetric("dpcc_imageThumbClicked_total"),m.postCountMetric("dpcc_imageThumbClicked_"+(b.thumbnailIndex+1)+"_"+e))))};k.overrideAltImageClickAction&&d.addTag("clickEnabledOnAltImages");
y.register("imageHover",A);y.register("resize",l)}});"use strict";u.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockAdditionalAltImageView",function(f,a,d,g,m,c,p){function h(c,f,g,k,h){if(!d.isjQueryObjDefined(c.find(".a-button-selected"))){var e=A.getCurrentItem();if(!k||"chromeless-video"!==e.type||!l.autoplayVideo){k=0;"image"===e.type&&(k=Math.max(d.getIndexForVariant(e.color,e.variant,l),0));var r=0;d.isDefined(l.heroImage[e.color])&&
(r=l.heroImage[e.color].length);h=k-(f>=l.maxAlts?l.maxAlts-h-r:0);f=0<=h?f+h:k+r;f>=g&&(k=0,f=r);g=d.getImageHash(e.color,k,l);-1!==g&&(b.dispatch("updateModel",{data:{index:k,thumbnailIndex:f,variant:g.variant,type:"image",shoppableScene:g.shoppableScene}}),g=c.find(".item").get(f),d.selectGivenThumbnail(a(g),c))}}}function q(a){if(!l.useChildVideos)return d.lazyLoadingRequired(A.getCurrentItem(),A,l)?void 0:l.videos;if(l.colorToVideo[a])return l.colorToVideo[a];var b=l.colorToAsin[a];if(b&&b.asin){var c=
{};c.params={asin:b.asin,productGroupID:l.productGroupID,useAiryVideoPlayer:!0,useChromelessVideoPlayer:l.useChromelessVideoPlayer,isUDP:l.isUDP};l.isDPXFeatureEnabled||(c.success=function(a){videosOnTwisterRefresh(a)},g.load(VIDEO_AJAX_ENDPOINT,c));return l.colorToVideo&&l.colorToVideo[a]}}function n(b,f,g){if((2===l.unrolledImageBlockTreatment||3===l.unrolledImageBlockTreatment)&&g)return b;var m=q(f),F=d.isDefined(m)&&0<m.length&&l.alwaysIncludeVideo?1:0;f=l.colorImages&&l.colorImages[f];var m=
b,e=0;d.isDefined(f)&&(a.each(f,function(c,f){if(e>=l.maxAlts-F&&b<l.maxAlts+l.additionalNumberOfImageAlts){if(2===l.unrolledImageBlockTreatment||3===l.unrolledImageBlockTreatment){var g=a(".thumbItemUnrolled");g[b]?g[b].querySelector("img").src=f.thumb:a('\x3cli class\x3d"thumbItemUnrolled thumbTypeimage thumbIndex'+c+'"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-button a-button-thumbnail a-button-toggle" id\x3d"a-autoid-'+(b+1)+'"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"a-autoid-'+
(b+1)+'-announce"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"a-autoid-'+(b+1)+'-announce"\x3e \x3cimg alt\x3d"" src\x3d"'+f.thumb+'"\x3e \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(a(".regularAltImageViewLayout"))}else d.createThumbnail({type:"image",index:c,thumbnailIndex:b,variant:f.variant,shoppableScene:f.shoppableScene},f.thumb,k,"imageThumbnail");b++}e++}),c.isEnabled&&p.logAltImgRequestPlacedOnThumbnails(a,c,A),h(k,m,b,g,F));return b}function J(a,
b){l.useIV&&d.isDefined(b.hiRes)&&a.css("cursor","pointer")}function G(b,c){if("image"===b.type){var f=a("#image-canvas-caption #canvasCaption"),g,k=l.staticStrings,e=l.colorImages,r=b.color,h=b.index;d.isShoppableScenesEnabled()&&b.shoppableScene?g=k.clickSceneTagsToShopProducts:c&&l.useIV?g=k.clickToExpand:e[r]&&e[r][h].hiRes&&l.useHoverZoom?(g=l.useHoverZoomIpad?k.touchToZoom:l.useClickZoom?k.clickToZoom:k.rollOverToZoom,l.hoverZoomIndicator&&(g="\x3cimg src\x3d'"+l.staticImages.hoverZoomIcon+
"'/\x3e\x26nbsp;"+g)):l.useIV&&(g=k.clickToExpand);f.html(g)}}function E(b,c){var f="a-dynamic-image";if(!l.acEnabled){var g;a.each(b.main,function(a,e){d.isDefined(g)||(g=parseFloat(e[1]/e[0])<=parseFloat(l.holderRatio)?" a-stretch-vertical":" a-stretch-horizontal")});f+=g}var k=d.getMaxDimensionsOfMainImage(b.main,y,l),e=k[0],r=k[1],k=a("\x3cdiv\x3e\x3c/div\x3e"),e={"max-height":e,"max-width":r};k.addClass(f).css(e).attr({"data-old-hires":b.hiRes,"data-a-manual-replacement":"true",onload:c}).data("a-dynamic-image",
b.main);return k}function C(a,d,c){var g="desktop-dp-atf-ib-shoppablescenes-tags-"+a;"function"==typeof uet&&uet("bb",g,{wb:1});c.attr("data-a-image-name","shoppable-scene:"+a);c=z.find(".mirai-scene-image-block-template").clone().removeClass("mirai-scene-image-block-template aok-hidden").addClass("mirai-shoppable-scene");c.addClass("celwidget").attr("cel_widget_id",g);c.children("span").css("display","inline-block");b.dispatch("initialize-shoppable-scene",{index:a,shoppableScene:d.shoppableScene,
imageSource:d.hiRes||d.large||d.lowRes,$tagPlaceholder:c.find(".mirai-scene-tag-placeholder"),$viewProductsButton:c.find(".mirai-scene-view-products-button")});"MutationObserver"in t&&(new MutationObserver(function(b,e){b.forEach(function(b){"childList"===b.type&&b.target.classList.contains("mirai-scene-image-block-tag-container")&&1===b.addedNodes.length&&"IMG"===b.addedNodes[0].tagName&&""!==b.addedNodes[0].src&&(b=b.addedNodes[0],"function"!==typeof b.onload&&(b.onload=function(){f.trigger("shoppable-scene-image-loaded",
{index:a,shoppableScene:d.shoppableScene})}),e.disconnect())})})).observe(c.find(".mirai-scene-image-block-tag-container")[0],{subtree:!0,childList:!0,attributes:!1});"function"==typeof uet&&uet("cf",g,{wb:1});return c}function v(a,b,c){c=E(a,c);a=d.isShoppableScenesEnabled()&&a.shoppableScene?C(b,a,c):z.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate");a.addClass("image item itemNo"+b+" maintain-height").attr({"data-csa-c-type":"uxElement","data-csa-c-element-type":"navigational",
"data-csa-c-action":"image-block-main-image-hover","data-csa-c-posy":b+1});a.find(".placeHolder").replaceWith(c);z.find(".list").append(a);f.loadImageManually(c);return a}function D(a){var b=y.css("height");null!==b&&a.find(".imgTagWrapper").css("height",b);a.addClass("selected");l.imgTagWrapperClasses&&a.find(".imgTagWrapper").addClass(l.imgTagWrapperClasses)}function Q(c,g,k,h){if((2===l.unrolledImageBlockTreatment||3===l.unrolledImageBlockTreatment)&&!h&&"unavailable"!==c.type){c=l.colorImages&&
l.colorImages[k];g=a(".unrolledImg");k=q(k);var p=d.isDefined(k)&&0<k.length&&l.alwaysIncludeVideo?1:0;g.length>l.maxAlts&&g.each(function(b){b>=l.maxAlts&&a(this).remove()});d.isDefined(c)&&a.each(c,function(b,d){b<l.maxAlts-p+l.additionalNumberOfImageAlts&&b>=l.maxAlts-p&&a('\x3cli data-csa-c-action\x3d"image-block-main-image-hover" data-csa-c-element-type\x3d"navigational" data-csa-c-posy\x3d"'+(b+p+1)+'" data-csa-c-type\x3d"uxElement" class\x3d"image item itemNo'+(b+p)+' unrolledImg imgMedia"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-declarative" data-action\x3d"main-image-click" data-csa-c-type\x3d"widget" data-csa-c-func-deps\x3d"aui-da-main-image-click" data-main-image-click\x3d"{}" data-ux-click\x3d""\x3e \x3cdiv id\x3d"imgTagWrapperId" class\x3d"imgTagWrapper"\x3e \x3cdiv id\x3d"unrolledImgNo'+
(b+p)+'"\x3e \x3cdiv class\x3d"a-image-container a-dynamic-image-container greyBackground" style\x3d"width:100%; height:600px;"\x3e \x3cimg alt\x3d"" src\x3d"'+d.large+'" data-a-hires\x3d"'+d.hiRes+'"\x3e \x3c/div\x3e \x3c/div\x3e\x3c/div\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(a(".unrolledScrollBox .list-unrolled"))})}else if("image"===c.type||"unavailable"===c.type||"lazy-loaded"===c.type){k=d.getImageHash(c.color,c.index,l);if(-1===k)return g={data:{index:0,thumbnailIndex:0,variant:"",
type:"unavailable"}},d.lazyLoadingRequired(c,A,l)||(b.dispatch("updateModel",g),d.showUnavailable(c.color)),-1;h=z.find(".item.itemNo"+c.thumbnailIndex);d.isjQueryObjDefined(h)||(h=v(k,c.thumbnailIndex,g));D(h);b.dispatch("loadMagnifier");G(c);J(h,k);f.trigger("dp:image-block:update",k)}}function W(a){var c=A.getCurrentItem().color;l.colorImages[c]||(l.colorImages[c]=a);a={type:"updatedData",data:A.getCurrentItem()};b.dispatch("updateView",a);(c=l.colorToAsin[c])&&c.asin&&u.register(d.rankedImagesReadyEvent(c.asin))}
function O(){var b=z.find(".item .imgTagWrapper"),c=d.getContainerHeight(y,l.holderRatio,l.holderMaxHeight);0<c&&(y.height(c),b.height(c));z.find("img.a-dynamic-image").each(function(){var b=a(this);b.data("a-manual-replacement")&&f.loadDynamicImage(this);var c=b.data("a-dynamic-image"),c=d.getMaxDimensionsOfMainImage(c,y,l);b.css({"max-height":c[0]+"px","max-width":c[1]+"px"})})}function P(a){G(A.getCurrentItem(),"mouseenter"===a.type)}var F,l,A,b,k,z,y,H;return function(c,g,h,p){F=this;l=c;A=g;
b=p;f.on("triggerImageAjax",W);l.colorImages[l.landingAsinColor]=l.colorImages[l.defaultColor];F.render=function(c,e,f,g,h,p,m){z=f;k=g;y=h;H=n(e,c,p);p||(e=A.getCurrentItem(),d.lazyLoadingRequired(e,A,l)&&b.dispatch("updateModel",{data:{type:"lazy-loaded"}}));e=A.getCurrentItem();f=!p;d.lazyLoadingRequired(e,A,l)||(a("#imageBlock").css("opacity","1"),z.css("opacity","1"),d.spinner(z,!1),z.find("li").removeClass("selected"),a("#image-canvas-caption #canvasCaption").empty(),d.hideUnavailable(),f&&
z.find(".list .item").remove());Q(A.getCurrentItem(),m,c,p);return H};F.update=function(a){};l.overrideAltImageClickAction&&d.addTag("clickEnabledOnAltImages");b.register("imageHover",P);b.register("resize",O)}});"use strict";u.when("A","jQuery","imageBlockUtils","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockMagnifierView",function(f,a,d,g,m,c){function p(a){Q?a.css("cursor","url('"+G.staticImages.zoomIn+"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor",
"-moz-zoom-in"),a.css("cursor","zoom-in"))}function h(a){var c=a.match(/\._((\w|,|\.)+)_\.(gif|jpg|png)$/i);a={};if(d.isDefined(c))for(var c=c[1].split("_"),f=0;f<c.length;f++){var g=c[f].match(/^([A-Z]+)(\d+(\.\d+)?)$/);d.isDefined(g)&&(a[g[1]]=parseInt(g[2],10))}return a}function q(n,q){function P(){var a;q.useClickZoom?(a=q.offsetInClickZoom,a=[Math.min(1,Math.max(0,E[0]-(e[0]+a))/(e[2]-2*a)),Math.min(1,Math.max(0,E[1]-(e[1]+a))/(e[3]-2*a))]):a=x&&x.updatePosition();if(a&&v&&v.detailSize){var b=
[v.detailSize[0]-v.rect.width,v.detailSize[1]-v.rect.height];f.capabilities.rtl?v.detailImage.get(0).style.right=-(a[0]*b[0])+"px":v.detailImage.get(0).style.left=-(a[0]*b[0])+"px";v.detailImage.get(0).style.top=-(a[1]*b[1])+"px"}}function F(a){return a.offsetParent().hasClass("a-dynamic-image-container")}function l(b){var e=U?b.originalEvent.touches[0]||b.originalEvent.changedTouches[0]:"";E=U?[e.pageX,e.pageY]:[b.pageX,b.pageY];if(f.capabilities.rtl){var d=a(t).width();E=U?[d-e.pageX,e.pageY]:[d-
b.pageX,b.pageY]}}function A(a){U&&a.preventDefault();l(a);q.useClickZoom?a=[e[0],e[1],e[0]+e[2],e[1]+e[3]]:(a=x?x.offset:n.offsetParent().offset(),a=G.acEnabled?[a.left,a.top,J.width()+a.left,J.height()+a.top]:[D[0]+a.left,D[1]+a.top,D[0]+D[2]+a.left,D[1]+D[3]+a.top]);E[0]<a[0]||E[1]<a[1]||E[0]>=a[2]||E[1]>=a[3]||G.acEnabled&&!F(n)?(q.fadeMagnifier?X||(X=!0,ba=setTimeout(function(){b(!0)},500)):q.useClickZoom||b(),B&&(B=!1,clearTimeout(da))):(B||(B=!0,da=setTimeout(function(){g.postCountMetric("dppc_hoverZoomOpened");
m.isEnabled&&c.logHoverZoomRequestServed(m)},1E3)),q.fadeMagnifier&&X&&(X=!1,clearTimeout(ba)),P())}function b(b){b&&y.suppressMagnifier(!0);if(N&&(v&&v.hide(),x&&(x.destroy(),x=null),N=!1,U?(n.unbind("touchmove.magnifier touchstart.magnifier touchend.magnifier"),a(document).trigger("disengaged.magnifier")):a(document).unbind("mousemove.magnifier").trigger("disengaged.magnifier"),z(),b))n.one("click.magnifier touchstart.magnifier",function(a){k(a,!0)})}function k(d,c){c&&y.suppressMagnifier(!1);if(!N&&
!L&&(0===V&&(g.postCountMetric("dppc_hoverTime",new Date-(t.ue&&t.ue.t0||0)),V=1),u[R]||(g.postCountMetric("dppc_hoverMain"),u[R]=1),D=[n.position().left,n.position().top,n.width(),n.height()],R&&(l(d),v?v.refit().show():v=new ea,q.useClickZoom||(x=x||new Y),e=v.getWindowSize(),P()),N=!0,U?(n.unbind("touchstart.magnifier touchmove.magnifier").bind("touchmove.magnifier",A).bind("touchend.magnifier",b),a(document).trigger("engaged.magnifier")):(G.acEnabled?J.unbind("mousemove.magnifier"):n.unbind("mousemove.magnifier"),
a(document).trigger("engaged.magnifier").bind("mousemove.magnifier",A)),c)){var f=a("#zoomWindow");if(0<f.length)f.one("click.magnifier touchend.magnifier",function(a){b(!0)})}}function z(){q.useHoverZoom&&(U?n.bind("touchstart.magnifier touchmove.magnifier",k):G.acEnabled?F(n)&&J.bind("mousemove.magnifier",k):n.bind("mousemove.magnifier",k))}var y=this,J=n.offsetParent(),C={detailImageUrl:n.attr("data-old-hires"),location:"over",locationElement:n,prelaod:"ready",zIndex:50,offsetInClickZoom:50};q=
a.extend(C,q);q.adjustment=[10,0,-10,0];var v=null,x=null,E=null,D=null,e=null,r={"null":1,"":1,undefined:1},N=!1,L=!1,R=q.detailImageUrl,U=q.useHoverZoomIpad||0,V=0,u={},Y=function(){function b(a){var e=Math.round(Math.min(n.width(),v.rect.width/a));a=Math.round(Math.min(n.height(),v.rect.height/a));g.css({width:e,height:a});d=[e,a]}var e=this,d=[0,0],c=(v.detailSize&&v.detailSize[0]||5E8)/D[2],f=(v.detailSize&&v.detailSize[1]||5E8)/D[3],c=f>c?f:c;a("#magnifierLens").remove();var g=a("\x3cdiv id\x3d'magnifierLens' /\x3e").css({position:"absolute"});
q.generalImageUrls.zoomLensBackground&&g.css({backgroundImage:"url("+q.generalImageUrls.zoomLensBackground+")"});G.showMagnifierOnHover?p(g):g.css("cursor","pointer");e.updatePosition=function(){var a=[D[2]-d[0],D[3]-d[1]],b=0>=a[0]?.5:Math.max(0,Math.min(1,(E[0]-d[0]/2-D[0]-e.offset.left)/a[0])),c=0>=a[1]?.5:Math.max(0,Math.min(1,(E[1]-d[1]/2-D[1]-e.offset.top)/a[1])),f=D[0]+Math.round(b*a[0]),a=D[1]+Math.round(c*a[1]);g.get(0).style.left=f+"px";g.get(0).style.top=a+"px";return[b,c]};e.destroy=function(){g.remove()};
e.offset=n.offsetParent().offset();b(c);e.updatePosition();g.appendTo(n.parent());v.detailImage[0].complete||v.detailImage.load(function(){var a=v.detailImage.width()/D[2];b(a);e.updatePosition()})};Y.preload=function(){y.preload(q.generalImageUrls.lensBackgroundUrl)};var ea=function(){function b(){var e={};if("over"===q.location){var e=q.useClickZoom,g={},r=a("#leftCol"),h=a("#centerCol"),l=a("#rightCol"),p=a("#hover-zoom-end"),m=a("#actionPanelContainer"),w=d.isjQueryObjDefined(r)?r.outerHeight():
h.outerHeight();g.top=d.isjQueryObjDefined(r)?r.offset().top:h.offset().top;g.bottom=w+g.top;g.right=d.isjQueryObjDefined(l)?l.offset().left:m.offset().left;g.left=e?0:r.offset().left+r.outerWidth();d.isjQueryObjDefined(p)&&p.offset().top>g.bottom&&(g.bottom=p.offset().top);e=g}else"right"===q.location&&(e=n.offset(),e={left:e.left+n.outerWidth(),top:e.top,right:e.left+n.outerWidth()+400,bottom:e.top+400});q.minHeightElement&&(e.bottom=Math.max(e.bottom,e.top+a(q.minHeightElement).outerHeight()));
e.bottom=Math.min(e.bottom,a(t).scrollTop()+a(t).height());e.left+=f[0];e.top+=f[1];e.right+=f[2];e.bottom+=f[3];e.width=e.right-e.left;e.height=e.bottom-e.top;q.enhancedHoverOverlay&&d.isDefined(t.pageXOffset)&&(g=a(t).width(),e.width=g-e.left+t.pageXOffset-18,e.height-=14);k.css({left:e.left,top:e.top,width:e.width,height:e.height});c.rect=e;return c}function e(a){var b=new Image;c.detailSize=[0,0];b.onload=function(){c.detailSize=[b.width,b.height];P()};b.src=a.attr("src");if(0<b.width&&0<b.height)c.detailSize=
[b.width,b.height];else if(q.detailImageSize)c.detailSize=q.detailImageSize;else{a=h(b.src);var d=D[2]/D[3];a.SS||a.AA?(a=a.SS||a.AA,c.detailSize=[a,a]):a.SX?c.detailSize=[a.SX,Math.round(a.SX/d)]:a.SY?c.detailSize=[Math.round(a.SY*d),a.SY]:a.SL&&(c.detailSize=1<=d?[a.SL,Math.round(a.SL/d)]:[Math.round(a.SL*d),a.SL])}}var c=this,f=q.adjustment;a("#zoomWindow").remove();var g={overflow:"hidden",position:"absolute",backgroundColor:"white",zIndex:q.zIndex};q.enhancedHoverOverlay&&(g.boxShadow="0 6px 8px 2px rgba(0,0,0,.25)",
g.border="1px solid #949494",g.borderColor="rgb(148,148,148)");var k=a("\x3cdiv id\x3d'zoomWindow' /\x3e").css(g);q.fadeMagnifier&&k.fadeIn(200);q.useClickZoom&&(Q?k.css("cursor",'url("'+q.zoomOutIcon+'"), auto'):(k.css("cursor","-webkit-zoom-out"),k.css("cursor","-moz-zoom-out"),k.css("cursor","zoom-out")));c.updateImage=function(b){b=a("\x3cimg id\x3d'detailImg' src\x3d'"+b+"'/\x3e").css("position","absolute");c.detailImage&&c.detailImage.remove();k.append(b);a(document).trigger("updated.magnifier");
c.detailImage=b;e(c.detailImage)};c.refit=function(){b();e(c.detailImage);return c};q.fadeMagnifier?(c.show=function(){k.fadeIn(200);return c},c.hide=function(){k.fadeOut(200);return c}):(c.show=function(){k.show();return c},c.hide=function(){k.hide();return c});c.destroy=function(){k.remove();return c};c.getWindowSize=function(){return[c.rect.left,c.rect.top,c.rect.width,c.rect.height]};c.updateImage(R);b();k.appendTo(document.body)},X=!1,ba,B=!1,da;y.preload=function(b){b=a.makeArray(b);for(var e=
b.length,c=0;c<e;c++)b[c]instanceof Array?y.preload(b[c]):"string"===typeof b[c]&&b[c]&&!r[b[c]]&&(r[b[c]]=new Image,r[b[c]].src=b[c])};y.changeImage=function(e,c){N&&b();R=c;n.attr("src",e);y.preload(e);D=[n.position().left,n.position().top,n.width(),n.height()];c&&("immediately"===q.preload?y.preload(c,!0):a(t).ready(function(){y.preload(c)}),v?v.updateImage(c):n.attr("data-old-hires",c))};y.destroy=function(){G.acEnabled?J.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier"):
n.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier");a(document).unbind("mousemove.magnifier");x&&x.destroy();x=null;v&&v.destroy();v=null};y.detailImage=function(){return v.detailImage};y.suppressMagnifier=function(a){L=a};y.isEngaged=function(){return N};y.engageMagnifier=k;y.disengageMagnifier=b;n[0].complete?z():n.one("load",z);y.preload(n.attr("src"));t.performance&&performance.now&&t.ue&&ue.count&&ue.count("MagnifierImageDownload",performance.now());if(q.preload){var la=
q.detailImageUrl,C=function(){y.preload(la,!0);q.useClickZoom||Y.preload()},Z=q.preload;Z.constructor!==Array&&(Z=[Z]);for(var w=0;w<Z.length;w++)if("immediately"===Z[w])C();else if(a(t)[Z[w]])a(t)[Z[w]](C);else a(t).bind(Z[w],C)}return y}function n(){if(G.useHoverZoom){var g={adjustment:[0,0,1,1],generalImageUrls:G.staticImages,location:"over",minHeightElement:"#imageBlock",preload:"ready",zIndex:199,useHoverZoomIpad:G.useHoverZoomIpad,useHoverZoom:G.useHoverZoom,useClickZoom:G.useClickZoom,fadeMagnifier:G.fadeMagnifier,
zoomOutIcon:G.staticImages.zoomOutCur,enhancedHoverOverlay:G.enhancedHoverOverlay||G.atfEnhancedHoverOverlay};v&&(v.destroy(),v=ia);var f=D.find(".image.item.selected:not(.mirai-shoppable-scene) img[data-old-hires]").not("[data-old-hires\x3d'']");d.isjQueryObjDefined(f)?G.useClickZoom?(f.one("click.loadmagnifier touchstart.loadmagnifier",function(a){v=new q(f,g);v.engageMagnifier(a,!0)}),Q?f.css("cursor",'url("'+G.staticImages.zoomInCur+'"), auto'):(f.css("cursor","-webkit-zoom-in"),f.css("cursor",
"-moz-zoom-in"),f.css("cursor","zoom-in"))):v=new q(f,g):m.isEnabled&&c.logHoverZoomApplicability(a,m)}}var J,G,E,C,v,D,Q=navigator.userAgent.match(/msie|trident/i);return function(a,c,d,f){J=this;G=a;E=c;m.refToModel=E;C=f;J.render=function(a,c,b,d,f,g){D=b;v&&(v.destroy(),v=ia)};J.update=function(a){};C.register("loadMagnifier",n);C.register("resize",n)}});"use strict";u.when("A","jQuery","imageBlockUtils","postMetric").register("ImageBlockTwisterView",function(f,a,d,g){function m(a,c,f){a=(a=f?
f:d.getColorFromState(c.getState().hovered_variations,h))&&""!==a?a:h.defaultColor;n.dispatch("updateView",{type:"swatchHover",data:{color:a}});g.postCountMetric("swatchHover")}function c(a,c,f,p){a=(a=p?p:d.getColorFromState(c.getState().selected_variations,h))&&""!==a?a:h.defaultColor;a===q.getCurrentItem().color?"function"===typeof f&&f():(n.dispatch("updateSelection",{type:"swatchClick",data:{color:a},onload:function(){var a={hasComponents:!0,components:[{name:"mainImage"}]};"function"===typeof t.markFeatureRender&&
t.markFeatureRender("imageblock",a);f()}}),g.postCountMetric("swatchClick"))}var p,h,q,n;return function(a,d,g,t){p=this;h=a;q=d;n=t;f.on("image-block-twister-swatch-hover",m);f.on("image-block-twister-swatch-click",c);p.render=function(a,c,d,f,g){};p.update=function(a){}}});"use strict";u.when("A","jQuery","Airy","imageBlockUtils","ImageBlockLoader","postMetric","vse_ns_videoPlayer").register("ImageBlockVideoView",function(f,a,d,g,m,c,p){function h(e,c,d,f){!b.autoplayVideo||ba||b.useChromelessVideoPlayer?
!g.isjQueryObjDefined(e.find(".a-button-selected"))&&(d=k.getCurrentItem(),!f||b.prioritizeVideos||"chromeless-video"===d.type&&b.autoplayVideo)&&(f=g.getVideoHash(d.color,0,b),-1===f||d.thumbnailIndex>=b.maxAlts-1||(c+=0,z.dispatch("updateModel",{data:{index:0,thumbnailIndex:c,variant:f.variant,type:b.useChromelessVideoPlayer?"chromeless-video":"chromeful-video"}}),c=e.find(".item").get(c),g.selectGivenThumbnail(a(c),e))):(g.selectGivenThumbnail(e.find("img:last"),e),g.fadeToThumbnail(e.find("img").length-
1,S,e))}function q(a){var e=k.getCurrentItem().color;if(b.useChildVideos&&!b.colorToVideo[e]){var c=function(){if(a){b.colorToVideo[e]=a;var c={type:"updatedData",data:k.getCurrentItem()};z.dispatch("updateView",c)}};b.lazyLoadExperienceDisabled?c():u.when(g.rankedImagesReadyEvent(b.colorToAsin[e].asin)).execute(function(){c()})}}function n(a){a&&(b.notShowVideoCount=a,a={type:"updatedData",data:k.getCurrentItem()},z.dispatch("updateView",a))}function J(a){if(!b.useChildVideos)return g.lazyLoadingRequired(k.getCurrentItem(),
k,b)?void 0:b.videos;if(b.colorToVideo[a])return b.colorToVideo[a];var e=b.colorToAsin[a];if(e&&e.asin){var c={};c.params={asin:e.asin,productGroupID:b.productGroupID,useAiryVideoPlayer:!0,useChromelessVideoPlayer:b.useChromelessVideoPlayer,isUDP:b.isUDP};b.isDPXFeatureEnabled||(c.success=function(a){q(a)},m.load("/gp/product/features/apparel-main-image/videos.html",c));return b.colorToVideo&&b.colorToVideo[a]}}function G(a){I&&null===a&&2!==b.unrolledImageBlockTreatment&&3!==b.unrolledImageBlockTreatment&&
(I.hide(),H.parent().css("z-index",-1),M.hide(),H.siblings(".ive-creator-profile").addClass("aok-hidden"))}function E(){z.dispatch("selectThumbnail",g.useTabbedImmersiveView(b)?1:0)}function C(b,e,f,k){return d.embed({isShowFirstFrameWhenReadyEnabled:!0,parentElement:b[0],streamingUrls:e.url,swfUrl:f.swfUrl,foresterMetadataParams:f.foresterMetadataParams,backgroundColor:"transparent",flashParams:{wmode:"transparent"},experiments:{supportChromelessPlayback:!0},bindings:{canplay:function(){var a=g.isjQueryObjDefined(b.find("video"))?
"HTML5":"FLASH";c.postCountMetric("dppc_chromelessVideo:"+a)},playing:function(){b.parent().css("z-index",8)},videounsupported:function(){E();c.postCountMetric("dppc_chromelessVideo:VIDEO_UNSUPPORTED")},error:function(){E();c.postCountMetric("dppc_chromelessVideo:ERROR")},ended:function(){I.seek(0)}},cuePoints:[{values:e.durationSeconds-1,type:"position",callback:function(e,c,d){e=d.durationSeconds-d.playheadTimeSeconds;b.parent().css("background-color","white").find(".airy-renderer-container").fadeTo(1E3*
e,.1,function(){b.parent().css({"background-color":"transparent","z-index":-1});E();a(this).show().css("opacity",1)})}}]})}function v(a){a&&(b.enableS2WithoutS1=a,a={type:"updatedData",data:k.getCurrentItem()},z.dispatch("updateView",a))}function D(d,r){if("chromeful-video"===d.type||"chromeless-video"===d.type||"unrolled-video-add"===r){var h=g.getVideoHash(d.color,d.index,b);if(-1===h)return-1;if("chromeful-video"===d.type)a:{var l=d.thumbnailIndex+1,p=S.width()/S.height(),m=parseInt(h.videoWidth,
10),q=parseInt(h.videoHeight,10);g.updateAspectRatio(p,m,q,H);if(I&&"unrolled-video-add"!==r)I.show(),g.loadMediaIntoAiry(I,h,K,b.tabletWeb);else if(b.tabletWeb)I=N;else if(I=g.createAiryInstanceForChromefulNotUseTabbedImmersiveView(H,h,K,null,b.autoplayVideo,S,M,y,l,b.useTabbedImmersiveView,R,L,U,r),"unrolled-video-add"===r){I.show();g.loadMediaIntoAiry(I,h,K,b.tabletWeb);break a}b:if(2!==b.unrolledImageBlockTreatment&&3!==b.unrolledImageBlockTreatment)if(g.useTabbedImmersiveView(b)){if(1<g.getVideosCount(k.getCurrentItem().color,
b)){if(g.isDefined(x)){M.show();break b}x=a('\x3ca class\x3d"more-videos"\x3e\x3c/a\x3e').attr("href","#").text(b.staticStrings.watchMoreVideos);M.find("#videoCaption").append(x);f.declarative.create(x,"videoIngressClick",e)}g.playVideoInImmersiveView(b,k.getCurrentItem().color)&&(f.declarative.create(H,"videoIngressClick",e),H.attr&&H.attr("data-ux-click",""),H.children().css("z-index","-1"),H.css("display","inline-block"))}else M.find("#videoCaption").text(b.staticStrings.playVideo),M.show();l=
I;b.autoplayVideo&&l&&!ba&&(g.toggleVideoCaption(M),l.setVolume(0),l.show(),l.play(),ba=!0);try{var n=a("#video-outer-container").find(".ive-creator-profile");if(!(h&&b.enableS2WithoutS1&&h.creatorProfile&&"IB_G2"===h.groupType&&n))n.addClass("aok-hidden");else if(1===n.length){n.removeClass("aok-hidden");var F=n.find(".a-profile-content .a-profile-name");0<F.length&&F.html(h.title);var na=n.find(".a-profile-content .a-profile-descriptor");0<na.length&&na.html(h.creatorProfile.publicName);var A=n.find(".a-profile-avatar img");
0<A.length&&A.attr("src",h.creatorProfile.url);n.attr("href",h.creatorProfile.profileLink+"?ref\x3dive_mb_profile");g.isImageBlockGridViewDisplayEnabled()&&n.css("padding-left","0px")}}catch(P){c.postCountMetric("update_creator_profile_data_error")}n=H;h=h.groupType;try{var v=n.parent();if("IB_G2"===h&&0!==q&&0!==m)if(m/=q,p>m){var z=n.siblings(".ive-creator-profile"),G=n.siblings("#video-canvas-caption");if(1===z.length){var t=z.height(),D=1===G.length?G.height():0;if(G=D?D+t:t)v.css({"max-height":"calc(100% - "+
G+"px)"}),z.css("width",m/p*100+"%"),z.addClass("profileWrapper"),v.addClass("videoContainerWrapperCenter"),n.addClass("videoCenterWrapper")}}else v.css("max-height",""),n.css("width","")}catch(Q){c.postCountMetric("update_max_height_error")}}else if(I&&"unrolled-video-add"!==r)I.show(),g.loadMediaIntoAiry(I,h,K,b.tabletWeb),I.play(),M.show();else if(I=C(H,h,K))"unrolled-video-add"===r&&(I.show(),g.loadMediaIntoAiry(I,h,K,b.tabletWeb)),I.play()}}function Q(d,k,r){if((2===b.unrolledImageBlockTreatment||
3===b.unrolledImageBlockTreatment)&&r)return d;var l=J(k);k=d;var p=a(".unrolledImg"),m=g.isDefined(l)&&0<l.length&&b.alwaysIncludeVideo?1:0;g.isDefined(l)&&0<l.length&&!b.alwaysIncludeVideo&&d===b.maxAlts&&c.postCountMetric("IBVideoDrop");p.length>b.maxAlts&&p.each(function(e){e>=b.maxAlts&&a(this).remove()});m&&d===b.maxAlts&&(2===b.unrolledImageBlockTreatment||3==b.unrolledImageBlockTreatment?(a(".thumbItemUnrolled").last().remove(),a(".unrolledImg").last().remove()):y.find(".item:last").remove(),
d--);g.isDefined(l)&&(a.each(l,function(f,k){if(d<b.maxAlts){if(2===b.unrolledImageBlockTreatment||3===b.unrolledImageBlockTreatment){var r=b.useChromelessVideoPlayer?"chromeless-video":"chromeful-video";a('\x3cli class\x3d"thumbItemUnrolled thumbType'+r+" thumbIndex"+f+'"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-button a-button-thumbnail a-button-toggle" id\x3d"a-autoid-'+d+'"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"a-autoid-'+
d+'-announce"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"a-autoid-'+d+'-announce"\x3e \x3cimg alt\x3d"" src\x3d"'+k.thumb+'"\x3e \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(a("ul.regularAltImageViewLayout"));a('\x3cli data-csa-c-action\x3d"image-block-main-image-hover" data-csa-c-element-type\x3d"navigational" data-csa-c-posy\x3d"'+d+'" data-csa-c-type\x3d"uxElement" class\x3d"image item itemNo'+d+' unrolledImg videoMedia"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-declarative" data-action\x3d"main-image-click" data-csa-c-type\x3d"widget" data-csa-c-func-deps\x3d"aui-da-main-image-click" data-main-image-click\x3d"{}" data-ux-click\x3d"" \x3e \x3cdiv id\x3d"imgTagWrapperId" class\x3d"imgTagWrapper"\x3e\x3cdiv id\x3d"unrolledImgNo'+
d+'" class\x3d"videoIndex'+f+'"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/span\x3e\x3c/span\x3e\x3c/li\x3e').appendTo(a(".unrolledScrollBox .list-unrolled"));b.dp60InLastPositionUnrolledImageBlock||2!==b.dp60VideoPosition||W(a(".regularAltImageViewLayout"),b.dp60VideoPosition)}else{var r=b.useChromelessVideoPlayer?"chromeless-video":"chromeful-video",h={type:r,index:f,thumbnailIndex:d,variant:k.variant};e={type:"video-ingress",index:f,thumbnailIndex:d,variant:k.variant};g.useTabbedImmersiveView(b)&&("chromeful-video"===
r&&(B+=" videoBlockIngress  videoBlockDarkIngress",k.thumb=k.thumb.replace("_PKmb-play-button-overlay-thumb","")),b.altsOnLeft||(B+=" a-align-top"));g.isImageBlockGridViewDisplayEnabled()&&(B+=" videoImageBlockGridView");g.createThumbnail(h,k.thumb,y,B);2===b.dp60VideoPosition&&W(y,b.dp60VideoPosition);if(g.useTabbedImmersiveView(b)){O(y.find(".videoBlockIngress img"),b.videoIngressATFSlateThumbURL);var h=1<l.length?"multiple-videos":"one-video",p=!0===b.notShowVideoCount?b.staticStrings.multipleVideos:
1<l.length?l.length+" "+b.staticStrings.multipleVideos:b.staticStrings.singleVideo;p&&y.find(".videoBlockIngress").append(y.find("#videoCount_template").clone().text(p).attr("id","videoCount")).addClass(h)}h=c.buildNexusMetric("ib.thumbnailImpression",d+1,k.mediaObjectId,k.groupType,R,L,U,V);c.emitNexusMetric(h);h=c.buildNexusMetric("ib.thumbnailRender",d+1,k.mediaObjectId,k.groupType,R,L,U,V);c.emitNexusMetric(h);X||(X=!0,c.postCountMetric("chromeless-video"===r?"dppc_chromelessVideoAvailable":"dppc_chromefulVideoAvailable"))}d++}if(g.useTabbedImmersiveView(b))return!1}),
h(y,k,d,r),b.imageBlockRenderingStartTime&&c.postTimeMetric("vse_desktop_ib_video_ingress_enable_duration",f.now()-b.imageBlockRenderingStartTime));return d}function W(e,c){if(0!==c)if(2===b.unrolledImageBlockTreatment||3===b.unrolledImageBlockTreatment){var d=b.useChromelessVideoPlayer?"chromeless-video":"chromeful-video",f=e.children(".thumbTypeimage"),d=e.children(".thumbType"+d);f&&d&&f[c-1]&&a(f[c-1]).before(d[0]);d=a(".unrolledScrollBox .list-unrolled");f=d.children(".unrolledImg.imgMedia");
d=d.children(".unrolledImg.videoMedia");f&&d&&f[c-1]&&a(f[c-1]).before(d[0]);a(".unrolledScrollBox .list-unrolled").children(".unrolledImg").each(function(b){for(var e=null,c=0;c<this.classList.length;c++)this.classList[c].includes("itemNo")&&(e=c);null!==e&&a(this).removeClass(this.classList[e]).addClass("itemNo"+b);this.querySelectorAll("div")[1].id="unrolledImgNo"+b})}else f=e.children(".imageThumbnail"),d=e.children(".videoBlockIngress"),f&&d&&f[c-1]&&a(f[c-1]).before(d[0])}function O(a,b){var e=
a.attr("src");if(e&&b){a.attr("src",b);var c=new Image;c.onload=function(b){a.attr("src",e)};c.src=e}}function P(a){I&&I.pause();a.data=e;a.clickTimeStamp=a.$event.timeStamp;var d="a"===a.targetTag?"dpcc_videoIngressLink":"dpcc_videoIngressSlate";z.dispatch("imageClick",a);c.postTimeMetric("dpcc_vse_videoingressclick",a.$event.timeStamp);a=c.buildNexusMetric("ib.thumbnailClick",a.data.thumbnailIndex+1,b.videos[0].mediaObjectId,b.videos[0].groupType,R,L,U,V);c.emitNexusMetric(a);c.postCountMetric(d)}
function F(a){N=a.player;N.hide=function(){N.pause();f.$("#main-video-container").find(".vse-player-container").hide()};N.show=function(){f.$("#main-video-container").find(".vse-player-container").show();N.play()};N.getMediaSourceInfo=function(){return g.getMediaSourceInfo()}}function l(e,c,d,r,h,l){G(l);H=null!==l?a("#unrolledImgNo"+l.thumbnailIndex):r.find("#main-video-container");M=null!==l?"":H.parent().find("#video-canvas-caption");S=null!==l?a(".unrolledScrollBox"):a("#main-image-container");
null===l&&g.isImageBlockGridViewDisplayEnabled()&&(H.addClass("videoCenter"),r.find("#video-outer-container").addClass("videoWrapperCenter"));R=t.location.href;e=k.getCurrentItem().color;!0===h?L=b.mediaAsin:(L=b.colorToAsin[e]&&b.colorToAsin[e].asin,L=g.isDefined(L)?L:b.mediaAsin);b.useChromelessVideoPlayer||H.addClass("chromeful-container");null!==l?D(l,"unrolled-video-add"):D(k.getCurrentItem(),"");g.useTabbedImmersiveView(b)&&f.declarative("videoIngressClick",["click"],P);e=k.getCurrentItem().color;
h=g.getVideoHash(e,0,b);-1!==h&&b.tabletWeb&&(h=g.getNilgiriServiceAjaxRequest(b,e,h),p.get(f,"#main-video-container",h,function(){f.$("#main-video-container").find(".vse-player-container").hide()},function(){f.$("#imageBlock #altImages ul").find("li.videoThumbnail").hide()}))}var A,b,k,z,y,H,M,S,x,I,K,e,r,N,L,R,U,V,fa,Y,ea,X=!1,ba=!1,B="videoThumbnail";return function(d,h,p,m){A=this;b=d;k=h;z=m;K=b.airyConfig;U=b.contentWeblab&&b.contentWeblab+":"+b.contentWeblabTreatment;b.colorToVideo={};b.colorToVideo[b.landingAsinColor]=
b.colorToVideo[b.defaultColor]=b.videos;b.tabletWeb?(fa="tablet",V="applicationType.ImageBlock.vse_ib_tablet_web"):f.capabilities.tablet?(fa="tablet",f.capabilities.isAmazonApp&&(V="applicationType.ImageBlock.vse_ib_tablet_app")):(fa="desktop",V="desktop_web.ImageBlock.vse_ib_iv");A.render=function(e,c,d,f,g,k){var h=[];if(2===b.unrolledImageBlockTreatment||3===b.unrolledImageBlockTreatment){y=a("ul.regularAltImageViewLayout");r=Q(c,e,k);h=[];c=a(".thumbItemUnrolled").filter(function(){return this.classList.contains("thumbTypechromeful-video")||
this.classList.contains("thumbTypechromeless-video")});for(var p=0;p<c.length;p++){var m=c[p].classList.contains("thumbTypechromeful-video")?"chromeful-video":"chromeless-video",n=Number(c[p].classList[2].slice(10)),q=a(".thumbItemUnrolled").index(c[p]);h.push({color:e,thumbnailIndex:q,type:m,varient:"MAIN",index:n})}for(p=0;p<h.length;p++)l(e,d,f,g,k,h[p])}else y=f,r=Q(c,e,k),l(e,d,f,g,k,null);return r};g.isImageBlockGridViewHoverDelayEnabled()?A.update=function(a){var d=a.data;"ingress"===d.type||
"swatchHover"===a.type||g.lazyLoadingRequired(d,k,b)||(k.setToPreviousItem(),"mouseenter"===a.type?(ea&&clearTimeout(ea),ea=setTimeout(function(){k.setToCurrentItem(d);G(null)},g.getHoveringDelayTimer())):"mouseleave"===a.type?ea&&clearTimeout(ea):"click"===a.type&&(k.setToCurrentItem(d),G(null)));if("swatchHover"===a.type)"ingress"===d.type||g.lazyLoadingRequired(d,k,b)||G(null),d.color===k.getCurrentItem().color?D(k.getCurrentItem(),""):a.captured||g.lazyLoadingRequired(d,k,b)&&!g.lazyLoadOnHoverEnabled(b)&&
D(k.getCurrentItem(),"");else if("chromeful-video"===d.type||"chromeless-video"===d.type){var h=g.getVideoHash(d.color,d.index,b);"mouseenter"===a.type?(c.postCountMetric("dpcc_videoThumbHovered_"+(d.thumbnailIndex+1)+"_"+r),"chromeless-video"===d.type&&(h=c.buildNexusMetric("ib.thumbnailHover",d.thumbnailIndex+1,h.mediaObjectId,h.groupType,R,L,U,V),c.emitNexusMetric(h)),Y&&clearTimeout(Y),Y=setTimeout(function(){D(d,"");!b.usePeekHover&&f.$(a.$currentTarget).closest("li").hasClass("videoThumbnail")&&
g.selectGivenThumbnail(a.$declarativeParent,y)},g.getHoveringDelayTimer())):"mouseleave"===a.type?Y&&clearTimeout(Y):"click"===a.type&&(D(d,""),f.$(a.$currentTarget).closest("li").hasClass("videoThumbnail")&&(g.selectGivenThumbnail(a.$declarativeParent,y),h=c.buildNexusMetric("ib.thumbnailClick",d.thumbnailIndex+1,h.mediaObjectId,h.groupType,R,L,U,V),(!g.useTabbedImmersiveView(b)&&"chromeless-video"===d.type||"tablet"==fa)&&c.emitNexusMetric(h),g.useTabbedImmersiveView(b)&&(c.emitNexusMetric(h),c.postCountMetric("dpcc_videoThumbClicked_"+
(d.thumbnailIndex+1)+"_"+r),e.action="videoIngressClick",e.clickTimeStamp=a.$event.timeStamp,e.$event=a.$event,e.$currentTarget=a.$currentTarget,z.dispatch("videoIngressClick",e),c.postTimeMetric("dpcc_vse_videoingressclick",a.$event.timeStamp))))}}:A.update=function(a){var d=a.data;"ingress"===d.type||g.lazyLoadingRequired(d,k,b)||G(null);if("swatchHover"===a.type)d.color===k.getCurrentItem().color?D(k.getCurrentItem(),""):a.captured||g.lazyLoadingRequired(d,k,b)&&!g.lazyLoadOnHoverEnabled(b)&&D(k.getCurrentItem(),
"");else if("chromeful-video"===d.type||"chromeless-video"===d.type){var h=g.getVideoHash(d.color,d.index,b);if("mouseenter"===a.type&&(c.postCountMetric("dpcc_videoThumbHovered_"+(d.thumbnailIndex+1)+"_"+r),"chromeless-video"===d.type)){var l=c.buildNexusMetric("ib.thumbnailHover",d.thumbnailIndex+1,h.mediaObjectId,h.groupType,R,L,U,V);c.emitNexusMetric(l)}D(d,"");b.usePeekHover&&"click"!==a.type||!f.$(a.$currentTarget).closest("li").hasClass("videoThumbnail")||(g.selectGivenThumbnail(a.$declarativeParent,
y),"click"===a.type&&(h=c.buildNexusMetric("ib.thumbnailClick",d.thumbnailIndex+1,h.mediaObjectId,h.groupType,R,L,U,V),(!g.useTabbedImmersiveView(b)&&"chromeless-video"===d.type||"tablet"==fa)&&c.emitNexusMetric(h),g.useTabbedImmersiveView(b)&&(c.emitNexusMetric(h),c.postCountMetric("dpcc_videoThumbClicked_"+(d.thumbnailIndex+1)+"_"+r),e.action="videoIngressClick",e.clickTimeStamp=a.$event.timeStamp,e.$event=a.$event,e.$currentTarget=a.$currentTarget,z.dispatch("videoIngressClick",e),c.postTimeMetric("dpcc_vse_videoingressclick",
a.$event.timeStamp))))}};b.isDPXFeatureEnabled&&(f.on("triggerVideoAjax",q),f.on("notShowVideoCountAjax",n),f.on("enableS2WithoutS1Ajax",v));f.on("vsePlayer-imageblock_tablet",F)}});"use strict";u.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric","imageBlockImmersiveViewUtils").register("ImageBlockImmersiveView",function(f,a,d,g,m,c,p,h){function q(a){return a.hiRes||a.large||a.main[a.main.length-1]}function n(){w.find("#ivTitle").click(function(){Z.hide()})}
function J(){T=Pa?{type:"360-spin"}:da.getCurrentItem()}function G(){var a=w.find("#ivStage"),e=Z.$container.find(".a-popover-wrapper"),b=e.find(".a-popover-inner"),e=e.height()-h.getDimension(b,"padding-top")-h.getDimension(b,"padding-bottom");w.css("height",e);var b=w.find("#ivTitle").outerHeight(!0),d=w.find("#ivVariationSelection").outerHeight(!0),c=w.find("#ivMediaSelection").outerHeight(!0),f=w.find("#ivThumbs"),g=h.getDimension(f,"margin-top")+h.getDimension(f,"margin-bottom");f.css("height",
e-b-d-c-g);w.find("#ivLargeImage").css("height",e);a.css("width",w.width()-h.getDimension(w,"padding-left")-h.getDimension(w,"padding-right")-w.find("#ivThumbColumn").width()-h.getDimension(a,"margin-left")-h.getDimension(a,"margin-right"))}function E(){w.find("#ivMediaSelect").change(function(){var e=a(this).val();"all"===e?(w.find("#ivVideoList").hide(),w.find("#ivThumbs").show(),w.find(".ivThumbVideo").show(),"chromeful-video"===T.type&&w.find("#ivVideo_"+T.index).click()):"images"===e?(w.find("#ivVideoList").hide(),
w.find("#ivThumbs").show(),w.find(".ivThumbVideo").hide(),"chromeful-video"===T.type&&(0===ga&&0===ca?w.find("#iv360").click():0===ga?w.find("#ivHeroImage_0").click():w.find("#ivImage_0").click())):"videos"===e&&(w.find("#ivVideoList").show(),w.find("#ivThumbs").hide(),"chromeful-video"!==T.type?w.find("#ivVideoList_0").click():w.find("#ivVideoList_"+T.index).click())})}function C(){var a=w.find("#ivStage").find("#ivLargeImage"),e=a.width(),b=a.height(),d=a.find(".fullscreen");d.removeAttr("style");
var c=d.width(),f=d.height();0<d.length&&(d[0].naturalWidth&&(c=d[0].naturalWidth),d[0].naturalHeight&&(f=d[0].naturalHeight));a.css("cursor","auto");var c=0===c?1:c,f=0===f?1:f,g=Math.min(e/c,b/f),h=f*g,k=c*g;1>g?(Qa?a.css("cursor","url('"+B.staticImages.zoomIn+"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor","zoom-in")),za=!0):za=!1;c=Math.min(k,c);f=Math.min(h-20,f);d.css({"margin-top":(b-f)/2,"margin-left":(e-c)/2,height:f,width:c});a.css("visibility",
"visible");Aa=!1}function v(a){var e=w.find("#ivLargeImage");e.css("visibility","hidden");e.empty();h.animateStageIn(e);e.append(a);C()}function D(){ha&&ha.pause();w.find("#ivLarge360").css("display","none");w.find("#ivLargeVideo").css("display","none");w.find("#ivLargeImage").css("display","none");A()}function Q(e){D();w.find("#ivLargeImage").css("display","block");var b;"hero-image"===e?d.isDefined(ka)&&(b=q(ka[T.index])):d.isDefined(ma)&&(b=q(ma[T.index]));if(d.isDefined(b)){w.find(".fullscreen").remove();
var c=a("\x3cimg\x3e").attr("src",b).addClass("fullscreen"),f=w.find("#ivLargeImage");h.animateStageOut(f,function(){c.load(function(){v(c)});if(c[0].complete)v(c);else{f.empty();var e=(f.height()-104)/2,b=(f.width()-80)/2;a("\x3cimg\x3e").attr("src",B.staticImages.spinner).css({position:"relative",top:e+"px",left:b+"px"}).appendTo(f)}})}}function W(){var a=parseInt(T.index,10)+1;a>=ja.length||w.find("#ivVideo_"+a).click()}function O(){var a;d.isDefined(ja)&&(a=ja[T.index]);if(d.isDefined(a)){D();
var e=w.find("#ivLargeVideo").css("display","block");ha?(ha.isDetached()&&ha.attach(e[0]),d.loadMediaIntoAiry(ha,a,wa,B.tabletWeb),ha.show()):(ha=d.createAiryInstanceForChromeful(e,a,wa,"ImmersiveView"),wa.enableContinuousPlay&&ha.bind("ended",W));ha.play({isAsync:!0})}}function P(){J();var a;a="hero-image"===T.type?w.find("#ivHeroImage_"+T.index):"image"===T.type?w.find("#ivImage_"+T.index):"chromeful-video"===T.type||"chromeless-video"===T.type?w.find("#ivVideo_"+T.index):"360-spin"===T.type?w.find("#iv360"):
d.isDefined(ka)?w.find("#ivHeroImage_"+T.index):w.find("#ivImage_"+T.index);d.isjQueryObjDefined(a)||(a=w.find("#ivImage_0"));F(a)}function F(a){w.find(".ivThumb").removeClass("selected");a.addClass("selected");a.hasClass("ivThumbVideo")?(T.type="chromeful-video",T.index=a.attr("id").split("_")[1],O()):a.hasClass("ivHeroImage")?(T.type="hero-image",T.index=a.attr("id").split("_")[1],Q(T.type)):a.hasClass("iv360Image")?(T.type="360-spin",T.index=0,l()):(T.type="image",T.index=a.attr("id").split("_")[1],
Q(T.type))}function l(){D();w.find("#ivLarge360").css("display","block");H();var a=w.find("#ivLarge360");a.css({opacity:0});setTimeout(function(){a.css({opacity:.4});h.animateStageIn(a)},200);k();m.postCountMetric("dppc_click360");ta=Date.now()}function A(){0<ta&&(b("dppc_duration360",Date.now()-ta),ta=0)}function b(a,e){t.ue&&t.ue.count(a,e)}function k(){if(0<qa){var a=w.find(".iv360Hint");a.removeClass("iv360HintFaded");a.animate({opacity:1},200)}}function z(e,d){if(qa<e.length){var c=a("\x3cimg /\x3e").css({display:"block",
width:6*pa+"px",height:sa+"px"});c.hide();d.append(c);c.get(0).onload=function(){d.closest(document.documentElement).length&&(qa++,1===qa&&(k(),0<ta&&b("dppc_loadTime360",Date.now()-ta)),0<Ga&&b("dppc_perSpriteloadTime360",Date.now()-Ga),w.find("#iv360Spinner").hide(),c.show(),xa=5*aa.imageLocations[Math.floor(ya/aa.imageLocations[0].length)][ya%aa.imageLocations[0].length],z(e,d))};c.attr("src",e[qa].replace(/(\._SP)\d+(,)\d+/,"$1"+ua+"$2"+va));Ga=Date.now()}}function y(a){if(d.isDefined(aa.spriteWidthSizes)&&
0<aa.spriteWidthSizes.length){var e=aa.spriteWidthSizes,b=e.length,c=e[0],f=e[b-1];if(a<=c)return c;if(a>f)return f;for(c=0;c<b;c++)if(a>e[c]&&a<=e[c+1])return e[c+1]}else return a}function H(){var e=w.find("#ivLarge360");e.children("#image-360-sprites").length||(e.append("\x3cdiv id\x3d'image-360-sprites'\x3e\x3c/div\x3e"),e.css({"margin-left":0,"margin-top":0,width:e.parent().width(),height:e.parent().height(),overflow:"hidden",position:"relative","-ms-user-select":"none","-webkit-user-select":"none",
"-mos-user-select":"none"}),a("\x3cimg\x3e").attr("src",B.staticImages.spinnerNoLabel).attr("id","iv360Spinner").css({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"block"}).appendTo(e),Ha=!0,M())}function M(){if(d.isDefined(aa.spriteURLs)&&d.isDefined(w)&&Ha&&!Ia){var b=w.find("#ivLarge360"),c=a("\x3cdiv\x3e").addClass("iv360Hint").css({position:"absolute",width:"100%",bottom:0,opacity:0,display:"block"});d.isDefined(aa.staticImages.hint360)&&a("\x3cimg\x3e").css({"margin-left":"auto",
"margin-right":"auto",display:"block"}).attr("src",aa.staticImages.hint360).appendTo(c);a("\x3cdiv\x3e").css({"text-align":"center"}).text(B.staticStrings.dragToSpin).appendTo(c);c.appendTo(b);var c=aa.imageWidth,f=aa.imageHeight,g=b.parent().width(),h=b.parent().height(),k=0,l=0;c/f>g/h?(ua=y(g),va=Math.round(f/c*ua),pa=Math.ceil(g),sa=Math.ceil(va/ua*g),l=(h-sa)/2):(va=y(h),ua=Math.round(c/f*va),sa=Math.ceil(h),pa=Math.ceil(ua/va*h),k=(g-pa)/2);b.css({"margin-left":k,"margin-top":l,width:pa+"px",
height:sa+"px",overflow:"hidden",position:"relative"});b.children("#image-360-sprites").css("width",6*pa+"px");z(aa.spriteURLs,w.find("#image-360-sprites"),0);c=w.find("#ivLarge360");c.bind("mousedown",K);c.bind("touchstart",S);c.bind("touchmove",x);c.bind("touchend",I);a(document).bind("mousemove",e);a(document).bind("mouseup",r);d.isDefined(B.staticImages.grab)&&b.css("cursor","url('"+B.staticImages.grab+"'), auto");Ia=!0}}function S(a){Ba=!0;Ja=a.originalEvent.targetTouches[0].clientX}function x(a){Ba&&
(N(a.originalEvent.targetTouches[0].clientX-Ja),Ja=a.originalEvent.targetTouches[0].clientX)}function I(a){Ba&&(Ba=!1)}function K(a){Ca=!0;Ka=a.originalEvent.clientX;d.isDefined(B.staticImages.grabbing)&&(a=w.find("#ivLarge360"),a.css("cursor","url('"+B.staticImages.grabbing+"'), auto"),a.parents(".a-declarative").last().css("cursor","url('"+B.staticImages.grabbing+"'), auto"));return!1}function e(a){Ca&&(N(a.originalEvent.clientX-Ka),Ka=a.originalEvent.clientX)}function r(a){Ca&&(Ca=!1,d.isDefined(B.staticImages.grab)&&
(a=w.find("#ivLarge360"),a.css("cursor","url('"+B.staticImages.grab+"'), auto"),a.parents(".a-declarative").last().css("cursor","auto")))}function N(a){for(a=xa-=a/pa*180;0>a;)a+=360;for(;360<a;)a-=360;xa=a;var e;a=360;for(var b=0;b<qa;b++)for(var c=0;c<aa.imageLocations[b].length;c++){var f=Math.abs(xa-5*aa.imageLocations[b][c]);f<a&&(a=f,e=b*aa.imageLocations[0].length+c)}e!==ya&&(a=Math.floor(e/aa.imageLocations[0].length),a!==Math.floor(ya/aa.imageLocations[0].length)&&(d.isDefined(La)||(La=document.createElement("canvas").getContext("2d")),
b=w.find("#image-360-sprites").children(),La.drawImage(b[a],0,0)),a=w.find(".iv360Hint").not(".iv360HintFaded"),d.isDefined(a)&&(a.addClass("iv360HintFaded"),a.animate({opacity:0},750)));ya=e;a=e%aa.imageLocations[0].length*-1*pa;e=-1*Math.floor(e/aa.imageLocations[0].length)*sa;b=w.find("#ivLarge360").children("#image-360-sprites");b.css("-webkit-transform","translate3d("+a+"px, "+e+"px, 0)");b.css("transform","translate3d("+a+"px, "+e+"px, 0)")}function L(){w.delegate(".ivThumb","click",function(){var e=
a(this);F(e)});w.delegate(".ivThumbVideoListOuter","click",function(){w.find(".ivThumbVideoListOuter").removeClass("selected");var e=a(this);e.addClass("selected");T.type="chromeful-video";T.index=e.attr("id").split("_")[1];O()})}function R(){ha&&!ha.isDetached()&&(wa.volume=ha.getVolume(),ha.detach(),!document.all||t.atob||document.addEventListener||(ha=null));w.find("#ivLargeImage").empty();A()}function U(a,e){return 0<e?e/2:Math.min(0,Math.max(e,a))}function V(e){var b=ra.left-(e.pageX-Da[0])*
Ea;f.capabilities.rtl&&(b=ra.left-(a(t).width()-e.pageX-Da[0])*Ea);e=ra.top-(e.pageY-Da[1])*Ea;b=U(b,Fa.left);e=U(e,Fa.top);w.find(".fullscreen").css({left:b,top:e})}function fa(){w.delegate("#ivLargeImage","click",function(a){if(Aa)C();else if(za){w.find(".fullscreen").removeAttr("style");if(za){var e=w.find("#ivLargeImage"),b=e.find(".fullscreen");Qa?e.css("cursor","url('"+B.staticImages.zoomOut+"'), auto"):(e.css("cursor","-webkit-zoom-out"),e.css("cursor","-moz-zoom-out"),e.css("cursor","zoom-out"));
Aa=!0;var c=w.find("#ivLargeImage");Fa.left=c.width()-b.width();Fa.top=c.height()-b.height();var c=e.height()/2,d=e.width()/2;Da=[e.offset().left+d,e.offset().top+c];ra.top=c-b.height()/2;ra.left=d-b.width()/2;b.css({position:"relative",left:ra.left,top:ra.top});Ea=Math.max(b.height()/e.height(),b.width()/e.width())}V(a)}});w.delegate("#ivLargeImage","mousemove",function(a){Aa&&V(a)})}function Y(e){if(d.isImmersiveViewEnabled(B,da.getCurrentItem().color))if(Ma){var b=e.$event.originalEvent;b.acknowledge&&
b.acknowledge(e.$currentTarget[0]);Pa=d.isDefined(e)&&"button-360-click"===e.action;c.isEnabled&&p.logImmersiveViewRequestServed(c);m.postCountMetric("dppc_immersiveViewOpened");if(d.isDefined(Z))Z.show();else{e=a("#auiImmersiveViewDiv");var b=a(t).height()-150,g=a(t).width()-75;Z=Ma.create(e,{name:"immersiveView",activate:"onclick",width:g,height:b,popoverLabel:"ImmersiveView",hideHeader:!0});e.click()}if(Na){w=a("#ivMain");e=da.getCurrentItem().color;ma=B.colorImages[e];ka=B.heroImage[e];ja=B.useChildVideos?
B.colorToVideo[e]:B.videos;Oa=X()&&B.spin360ColorEnabled[e];aa=X()?B.spin360ColorData[e]:ia;J();oa=ca=na=ga=0;d.isDefined(ka)&&(ca=ka.length);d.isDefined(ma)&&(ga=ma.length);d.isDefined(ja)&&(na=ja.length);Oa&&(oa=1);h.populateTitle(w.find("#ivTitle"),45,B);h.populateVariationSelection(w.find("#ivVariationSelection"));e=w.find("#ivMediaSelect");0===ga+oa||0===na?(e.parent().hide(),w.find("#ivThumbs").addClass("noMediaSelection")):(e.empty(),a("\x3coption/\x3e").attr("value","all").prop("selected",
!0).text(B.staticStrings.allMedia+" ("+(ca+ga+oa+na)+")").appendTo(e),a("\x3coption/\x3e").attr("value","images").text(B.staticStrings.images+" ("+(ca+ga+oa)+")").appendTo(e),a("\x3coption/\x3e").attr("value","videos").text(B.staticStrings.videos+" ("+na+")").appendTo(e),e.parent().show(),e.val("all"));e=w.find("#ivThumbs");e.find(".ivRow").not(".placeholder").remove();for(var b=ca+ga+na+oa,k=g=0;g<b;)for(var r=e.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(e),l=0;3>l&&g<
b;l++,g++,k++)if(k<ca){var n=ka[g].thumb,q=e.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivHeroImage").attr("id","ivHeroImage_"+g).appendTo(r);q.find(".ivThumbImage").css("background",'url("'+h.getResizedThumbnailURL(n)+'") center no-repeat')}else if(k>=ca&&k<ga+ca)n=ma[g-ca].thumb,q=e.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr("id","ivImage_"+(g-ca)).appendTo(r),q.find(".ivThumbImage").css("background",'url("'+h.getResizedThumbnailURL(n)+'") center no-repeat');
else if(k>=ca+ga&&k<ga+ca+oa)q=e.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("iv360Image").attr("id","iv360").appendTo(r),q.find(".ivThumbImage").css("background",'url("'+(d.isDefined(B.staticImages.icon360)?h.getResizedThumbnailURL(B.staticImages.icon360,!0):"")+'") center no-repeat');else if(n=ja[g-ga-ca-oa],q=e.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivThumbVideo").attr("id","ivVideo_"+(g-ga-ca-oa)).appendTo(r),q.find(".ivThumbImage").css("background",
'url("'+n.thumbUrl+'") center no-repeat'),d.isDefined(n)){var L={position:"triggerTop"},F=w.find("#ivThumbs").find(".ivThumbVideoPopover.placeholder").clone().removeClass("placeholder");F.find(".ivVideoPopoverTitle").text(n.title);F.find(".ivVideoPopoverDuration").text(n.durationTimestamp);L.inlineContent=F[0];f.declarative.create(q,"a-tooltip",L)}e=w.find("#ivVideoList");e.find(".ivThumbVideoListOuter").not(".placeholder").remove();b=e.find(".placeholder");for(g=0;g<na;g++)k=ja[g],r=b.clone().removeClass("placeholder").appendTo(e),
r.attr("id","ivVideoList_"+g),r.find(".ivThumbImage").css("background",'url("'+k.thumbUrl+'") center no-repeat'),r.find(".ivThumbTitle").text(k.title),r.find(".ivThumbDuration").text(k.durationTimestamp);w.find("#ivLarge360").empty();qa=0;Ia=Ha=!1;wa=B.airyConfig;Na=!1;Ra()}}else t.performance&&performance.now&&t.ue&&ue.count&&ue.count("DPIBClickFailedInteractionCount",(ue.count("DPIBClickFailedInteractionCount")||0)+1);else m.postCountMetric("immersiveViewNotExistsClickCount")}function ea(a){var e=
B.colorToAsin[a],c={},f=500;if(e&&e.asin){c.params={asin:e.asin};var k="360"+e.asin,h=Date.now();c.success=function(e){b("dppc_asyncRequestTime360",Date.now()-h);e&&d.isDefined(e.spin360.spin360Model)?(d.ajaxState(k,"success"),B.spin360ColorData[a]=e.spin360.spin360Model,a===da.getCurrentItem().color&&(aa=B.spin360ColorData[a],M())):c.error()};c.error=function(){m.postCountMetric("dppc_asyncFailed360");b("dppc_asyncRequestTime360",Date.now()-h);f*=2;16E3>=f?setTimeout(function(){h=Date.now();g.load("/gp/product/features/apparel-main-image/360.html",
c)},f):d.ajaxState(k,"fail")};d.ajaxState(k)&&"fail"!==d.ajaxState(k)||(g.load("/gp/product/features/apparel-main-image/360.html",c),d.ajaxState(k,"sent"))}}function X(){return d.isDefined(B.spin360ConfigEnabled)&&B.spin360ConfigEnabled}var ba,B,da,la,Z,w,ka,ma,ja,ca,ga,na,oa,T,ha,wa,aa,Oa,pa,sa,va,ua,Ka,Ja,Pa=!1,Ha=!1,Ia=!1,xa=0,ya=0,ta=0,Ga=0,Ca=!1,Ba=!1,qa=0,La,Qa=navigator.userAgent.match(/msie|trident/i),Na=!0,Aa=!1,za=!1,Fa={},ra={},Ea,Da,Ma;u.when("a-modal").execute(function(a){Ma=a});var Ra=
f.once(function(){E();L();fa();f.on("a:popover:afterUpdatePosition:immersiveView",G);f.on("a:popover:afterShow:immersiveView",P);f.on("a:popover:afterHide:immersiveView",R);n()});return function(e,b,g,k){ba=this;B=e;da=b;c.refToModel=da;la=k;X()&&(B.spin360ColorData[B.landingAsinColor]=B.spin360ColorData[B.defaultColor],B.spin360ColorEnabled[B.landingAsinColor]=B.spin360ColorEnabled[B.defaultColor]);d.isDefined(B.staticImages.icon360)&&a("#imageBlock #altImages ul").find(".360IngressTemplate").find("img").attr("src",
h.addStyleCodeToURL(B.staticImages.icon360,"_FMpng_RI_"));ba.render=function(a,e,b,c,g,k){Na=!0;X()&&B.spin360ColorEnabled[a]&&!d.isDefined(B.spin360ColorData[a])&&(B.spin360ColorData[a]={},ea(a));d.isImmersiveViewEnabled(B,da.getCurrentItem().color)&&X()&&B.spin360ColorEnabled[a]&&(e===B.maxAlts&&(a=c.find(".item.imageThumbnail"),b=c.find(".item.videoThumbnail"),d.isDefined(b)&&1<b.length?b.last().remove():a.last().remove(),e--),a=c.find(".360IngressTemplate").clone().removeClass("360IngressTemplate").removeClass("aok-hidden").addClass("item"),
f.declarative.create(a,"button-360-click"),c.append(a),e++,m.postCountMetric("dppc_display360"));return e};ba.update=function(a){};d.isImmersiveViewEnabled(B,da.getCurrentItem().color)||d.addTag("immersiveViewNotAvailable");la.register("imageClick",Y);la.register("button360Click",Y)}});"use strict";u.when("A","jQuery","imageBlockUtils","postMetric","logFailedInteractionMetric","postEarlyMetric","imageBlockImmersiveViewUtils").register("ImageBlockTabbedImmersiveView",function(f,a,d,g,m,c,p){function h(){var c=
E.getImmersiveViewModalInstance().$container.find(".a-popover-wrapper"),d=c.find(".a-popover-inner"),c=c.height()-p.getDimension(d,"padding-top")-p.getDimension(d,"padding-bottom");a("#iv-tab-view-container").css("height",c);D=a("#iv-tab-view-container ul.iv-tab-views li").filter(function(){return"none"!==a(this).css("display")}).length;1<D?(a("#iv-tab-view-container ul.iv-tab-views li").parent().show(),d=a("#iv-tab-view-container ul.iv-tab-views li").parent().height(),c-=d):a("#iv-tab-view-container ul.iv-tab-views li").parent().hide();
a("#iv-tab-view-container .iv-tab-content").css("height",c);f.trigger("dp:image-block:immersive-view:resize")}function q(){f.trigger("dp:image-block:immersive-view:reset")}function n(h){if(d.isImmersiveViewEnabled(G,E.getCurrentItem().color))if(W){var l=h.$event.originalEvent;l.acknowledge&&l.acknowledge(h.$currentTarget[0]);m.isEnabled&&c.logImmersiveViewRequestServed(m);g.postCountMetric("dppc_immersiveViewOpened");d.isDefined(h)&&("button-360-click"===h.action?a("#iv360TabHeading").click():"videoIngressClick"===
h.action?(Q=h.clickTimeStamp,a("#ivVideosTabHeading").click()):"showroomIngressClick"===h.action?(Q=h.clickTimeStamp,a("#ivShowroomTabHeading").click()):a("#ivImagesTabHeading").click());l=E.getImmersiveViewModalInstance();if(d.isDefined(l))l.show();else{h=a("#auiImmersiveViewDiv");var l=Math.min(Math.max(a(t).height()-150,540),1080),p=Math.min(Math.max(a(t).width()-75,990),1980),l=W.create(h,{name:"immersiveView",activate:"onclick",width:p,height:l,popoverLabel:"ImmersiveView",hideHeader:!0});E.setImmersiveViewModalInstance(l);
h.click()}v&&(v=!1,O(),f.trigger("dp:image-block:immersive-view:init"))}else t.performance&&performance.now&&t.ue&&ue.count&&ue.count("DPIBClickFailedInteractionCount",(ue.count("DPIBClickFailedInteractionCount")||0)+1);else g.postCountMetric("immersiveViewNotExistsClickCount")}var J,G,E,C,v=!0,D=0,Q,W;u.when("a-modal").execute(function(a){W=a});var O=f.once(function(){f.on("a:popover:afterUpdatePosition:immersiveView",h);f.on("a:popover:afterShow:immersiveView",h);f.on("a:popover:afterHide:immersiveView",
q)}),P=f.once(function(){var c=a("#iv-tab-view-container ul.iv-tab-views li");c.bind("click",function(d){var h=c.filter(".iv-active");h.attr("id")!==a(this).attr("id")&&f.trigger("dp:ivTabs:"+h.find("a").attr("data-iv-tab-view")+":deselect",d);c.removeClass("iv-active");a(this).addClass("iv-active");a("#iv-tab-view-container .iv-tab-content").hide();h=a(this).find("a").attr("data-iv-tab-view");a("#"+h).show();"ivVideosTab"===h&&(d.clickTimeStamp=Q||d.timeStamp);f.trigger("dp:ivTabs:"+h+":select",
d);g.postCountMetric("dppc_"+h);return!1})});return function(a,c,f,b){J=this;G=a;E=c;m.refToModel=E;C=b;J.render=function(a,b,c,d,f,h){g.postCountMetric("dpcc_altThumbs_"+b);v=!0};J.update=function(a){};J.getTitle=function(){};J.getVariationSelectionInfo=function(){};P();d.isImmersiveViewEnabled(G,E.getCurrentItem().color)||d.addTag("immersiveViewNotAvailable");C.register("imageClick",n);C.register("button360Click",n);d.useTabbedImmersiveView(G)&&(C.register("videoIngressClick",n),C.register("showroomIngressClick",
n))}});"use strict";u.when("A").register("ImageBlockLoader",function(f){return{load:function(a,d){d=d||{};d.timeout=d.timeout||4E3;f.ajax(a,d)}}});"use strict";u.when("A","jQuery","Airy","postMetric","ImageBlockATF","ImageBlockBTF","logFailedInteractionMetric","postEarlyMetric","ShoppableSceneWeblabProvider").register("imageBlockUtils",function(f,a,d,g,m,c,p,h,q){function n(a){return null!==a&&"undefined"!==typeof a}function J(e){var b=0;a.each(e,function(a,e){var c=parseInt(e[1],10);c>b&&(b=c)});
return b}function G(e){var b=0;a.each(e,function(a,e){var c=parseInt(e[0],10);c>b&&(b=c)});return b}function E(a,b,c){b=b.width();if(c.naturalMainImageSize)return b;a=J(a);0<a&&(b=Math.min(b,a));return b}function C(a,b,c){b=b.height();if(c.naturalMainImageSize)return b;a=G(a);0<a&&(b=Math.min(b,a));return b}function v(e){var b;a.each(e,function(a,e){n(b)||(b=e[1]/e[0])});return b||1}function D(e,b,c,f,h,k,l,p,m,n,q,F,P,v){var A=a.extend({},c.foresterMetadataParams);null!==f&&(A.method+="."+f);var x=
[];b.disabledViewIds&&(x=b.disabledViewIds);var w="black";"unrolled-video-add"===v&&(w="transparent");return d.embed({parentElement:e[0],streamingUrls:b.url,contentId:b.mediaObjectId,contentMinAge:Number(b.minimumAge||"")||0,contentTitle:b.title,swfUrl:c.swfUrl,foresterMetadataParams:A,backgroundColor:w,flashParams:{wmode:"transparent"},slateImages:{preloadSlate:b.slateUrl,postMediaSlate:b.slateUrl},videoAds:c.videoAds,bindings:{play:function(){if("ImmersiveView"===f)z||(z=!0,g.postCountMetric("dppc_chromefulVideoPlayedIV"));
else if(y||(y=!0,g.postCountMetric("dppc_chromefulVideoPlayedPV")),!n){var a=g.buildNexusMetric("ib.thumbnailClick",m,b.mediaObjectId,b.groupType,q,F,P);g.emitNexusMetric(a)}}},cuePoints:[{values:b.durationSeconds-1,type:"position",callback:function(a,e,b){h&&(Q(0,k,p),u(l))}}],disabledViewIds:x})}function Q(a,b,c){b.fadeTo(500,0,function(){O(a,c);b.fadeTo(500,1)})}function u(a){a&&a.toggle()}function O(e,b){var c=b.find("img");n(c[e])&&a(c[e]).click()}function P(a,b){S[a]=b?b:S[a];return S[a]}function F(e,
b,c){c=c||M;c=c.colorImages;if(1>c.length||!n(c[e])||!n(b))return-1;var d=-1;a.each(c[e],function(a,e){e.variant===b&&(d=a)});return d}function l(e,b,c){c=c||M;c=c.colorImages;return!(n(c)&&n(c[e])&&n(c[e][b])&&n(c[e][b].main))||1>a.map(c[e][b].main,function(a,e){return e}).length?-1:c[e][b]}function A(a,b,c,d){d.parent().css("z-index",2);0!==c&&0!==b&&(b/=c,a>b?d.css("width",b/a*100+"%"):d.css("height",a/b*100+"%"))}function b(e,b){var c;if(c=e.useIV)c=e.colorImages&&e.colorImages[b]&&0<e.colorImages[b].length?
!0:!1;p.isEnabled&&(p.IVApplicaple=c,h.logImmersiveViewApplicability(a,p));return c}function k(){return 0<a(".gridImageBlockViewLayoutIn2x4").length||0<a(".gridImageBlockViewLayoutIn2x5").length||0<a(".gridImageBlockViewLayoutIn1x7").length}var z,y,H,M=a.extend(!0,{},m,c),S={},x=0,I=0,K=/gridAltImageViewLayoutIn(\d+)x(\d+)/g;return{isDefined:n,isDefinedAndEmpty:function(a){return n(a)&&"object"===typeof a&&0===Object.keys(a).length},isUndefinedOrEmpty:function(a){return n(a)?"object"===typeof a&&
0===Object.keys(a).length:!0},isDefinedAndNotEmpty:function(a){return n(a)?"object"===typeof a&&0<Object.keys(a).length:!1},isjQueryObjDefined:function(a){return 0!==a.length},getAspectRatio:v,getMaxHeightOfMainImage:C,getMaxWidthOfMainImage:E,getMaxDimensionsOfMainImage:function(a,b,c){if(c.acEnabled)return[b.height(),b.width()];var d=C(a,b,c);b=E(a,b,c);a=v(a);c=b/a;b=Math.min(b,d*a);d=Math.min(d,c);return[d,b]},getContainerHeight:function(a,b,c){var d=a.get(0);a=0;if(n(d)){a=d.offsetWidth/b;a=
Math.min(a,c);var f;b=M.mainImageHeightPartitions;c=M.mainImageMaxSizes;if(n(c)&&n(b)){for(var g=0,h=t.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,d=0;d<b.length;d++)h>b[d]&&(g=d+1);c.length>=g&&(f=c[g])}n(f)&&(a=Math.min(f[1],a))}return a},getColorFromState:function(b,c){if(b){c=c||M;var d="";a.each(c.visualDimensions,function(a,c){b[c]&&(d+=" "+b[c])});return d&&d.substring(1)}},createThumbnail:function(a,b,c,d){var g=c.find(".template").clone().removeClass("template").addClass("item"),
h=document.createElement("img");h.src=b;g.find(".placeHolder").replaceWith(h);(b=a.heroVideoVariant)&&"hero-image"===a.type&&a.variant===b&&g.addClass("heroImageThumbnail");n(d)&&g.addClass(d);k()&&g&&(d=document.createElement("div"),d.className="imageBlockThumbnailImageGrayOverlay",h.parentNode.insertBefore(d,h));f.declarative.create(g,"thumb-action",a);g.attr&&(g.attr("data-ux-click",""),a.type&&a.type.match(/video/)?(g.attr("data-csa-c-type","uxElement"),g.attr("data-csa-c-element-type","navigational"),
g.attr("data-csa-c-action","image-block-alt-image-clickToImmersiveVideos")):(g.attr("data-csa-c-type","uxElement"),g.attr("data-csa-c-element-type","navigational"),g.attr("data-csa-c-action","image-block-alt-image-hover")),g.attr("data-csa-c-posy",a.thumbnailIndex+1));c.append(g)},selectGivenThumbnail:function(a,b){var c=a.find(".a-button");b.find(".a-button").removeClass("a-button-selected").removeClass("a-button-focus");c.addClass("a-button-selected").addClass("a-button-focus")},createAiryInstanceForChromeful:function(a,
b,c,d,f,g,h,k){D(a,b,c,d,f,g,h,k,0,1,"","","")},createAiryInstanceForChromefulNotUseTabbedImmersiveView:D,loadMediaIntoAiry:function(a,b,c,d){a&&a.getMediaSourceInfo()!==b.url&&(d?a.loadMedia?(H={mediaSourceInfo:[b.url],contentId:b.mediaObjectId,refTag:"vse_ib_tablet_web"},a.loadMedia(H)):a.play({videoUrl:b.url,mimeType:"video/mp4",contentId:b.mediaObjectId,refTag:"vse_ib_tablet_web"}):a.loadMedia?a.loadMedia({mediaSourceInfo:b.url,contentId:b.mediaObjectId,contentMinAge:Number(b.minimumAge||"")||
0,contentTitle:b.title,slateImages:{preloadSlate:b.slateUrl,postMediaSlate:b.slateUrl}}):a.play({videoUrl:b.url,mimeType:"video/mp4",contentId:b.mediaObjectId}))},showUnavailable:function(b){b&&(a("#imageBlock .unvailableVariation").html(b),a("#imageBlock .variationUnavailable").show())},hideUnavailable:function(){a("#imageBlock .variationUnavailable").hide()},fadeToThumbnail:Q,toggleVideoCaption:u,selectThumbnail:O,spinner:function(b,c){var d=a("#imageBlock .a-spinner").parent();0===d.length&&(d=
a("\x3cdiv\x3e\x3c/div\x3e").append(a("\x3cspan\x3e\x3c/span\x3e").addClass("a-spinner").addClass("a-spinner-medium")),b.append(d),d.css({position:"absolute",left:"50%",top:"50%",transform:"translate3d(-50%, -50%, 0)","-webkit-transform":"translate3d(-50%, -50%, 0)","z-index":"3",width:"48px",height:"48px",border:"8px solid #FFFFFF","-webkit-border-radius":"20px","-moz-border-radius":"20px","border-radius":"100%"}));c?d.show():d.hide();return d},rankedImagesReadyEvent:function(a){return"ranked-images-ready-for-"+
a},ajaxState:P,getIndexForVariant:F,getImageHash:l,lazyLoadingRequired:function(a,b,c){b=Math.max(F(a.color,b.getCurrentItem().variant,c),0);b=-1!==l(a.color,b,c);a=c.colorToAsin[a.color]&&c.colorToAsin[a.color].asin;a=!a||"success"!==P(a);return!c.lazyLoadExperienceDisabled&&!b&&a},lazyLoadOnHoverEnabled:function(a){return!a.lazyLoadExperienceOnHoverDisabled},updateAspectRatio:A,repositionVideoBanner:function(a,b,c,d){setTimeout(function(){var c=a.width()/a.height();A(c,16,9,b)},d||0)},getVideosCount:function(a,
b){return b.useChildVideos&&b.colorToVideo[a]?b.colorToVideo[a].length:b.videos?b.videos.length:0},getVideoHash:function(a,b,c){if(c.useChildVideos){if(!n(c.colorToVideo))return-1;a=c.colorToVideo[a]}else a=c.videos;return n(a)&&n(a[b])&&n(a[b].url)?a[b]:-1},isImmersiveViewEnabled:b,playVideoInImmersiveView:function(a,c){return b(a,c)&&a.useTabbedImmersiveView},useTabbedImmersiveView:function(a){return a.useTabbedImmersiveView},getMediaSourceInfo:function(){return n(H)?H.mediaSourceInfo[0]:""},getNilgiriServiceAjaxRequest:function(a,
b,c){return{requester:"DetailPageTablet",marketplaceID:c.marketPlaceID,clientPrefix:"ImageBlock_tablet",locale:c.languageCode,page:"DetailPageTablet",placement:"ImageBlock",video:{videoURL:c.url,imageURL:c.slateUrl}}},addTag:function(a){t.ue&&t.ue.tag&&t.ue.tag(a)},isShoppableScenesEnabled:function(){return q.isEnabled&&0<a(".mirai-scene-image-block-template").length},isImageBlockGridViewDisplayEnabled:k,isImageBlockGridViewHoverDelayEnabled:function(){return 0<a(".gridImageBlockViewLayoutIn2x4").length||
0<a(".gridImageBlockViewLayoutIn2x5").length},getHoveringDelayTimer:function(){return x},updateThumbnailHoverDelay:function(a){if(n(a)){x=0;var b=a.closest("li"),b=b.parent().children("li").filter(":not(.aok-hidden, .template, .pos-360)").index(b);if(-1!==b){var c;c=I;a=a.closest("ul").attr("class");a===ia?c=!1:(a=K.exec(a),null===a||3!==a.length?c=!1:(a=a[2],c=Math.floor(c/a)>Math.floor(b/a)));c&&(x=100);I=b}}}}});"use strict";u.when("A","jQuery","imageBlockUtils","ImageBlockHeroUtils").register("ImageBlockHeroImageView",
function(f,a,d,g){function m(c,f,h,m){if(!d.isjQueryObjDefined(c.find(".a-button-selected"))){var b=v.getCurrentItem();if(!m||"chromeless-video"!==b.type||!C.autoplayVideo){m=0;if("hero-image"===b.type){m=p(b.color,b.variant);if(-1===m)return;m=-1!==m?m:0}var k=f+m;k>=h&&(m=0,k=f);f=g.getHeroImageHash(C,b.color,m);-1!==f&&(D.dispatch("updateModel",{data:{index:m,thumbnailIndex:k,variant:f.variant,type:"hero-image"}}),f=c.find(".item").get(k),d.selectGivenThumbnail(a(f),c))}}}function c(c,f,g){if("hero-video"===
v.getCurrentItem().type)return c;f=C.heroImage&&C.heroImage[f];var h=c;d.isDefined(f)&&(a.each(f,function(a,f){c<C.maxAlts&&(d.createThumbnail({type:"hero-image",index:a,thumbnailIndex:c,variant:f.variant},f.thumb,Q,"imageThumbnail"),c++)}),m(Q,h,c,g));return c}function p(c,f){var g=C.heroImage;if(1>g.length||!d.isDefined(g[c])||!d.isDefined(f))return-1;var h=-1;a.each(g[c],function(a,c){c.variant===f&&(h=a)});return h}function h(){if(u.length&&C.repositionHeroImage){var a=g.getHeroDimParams(C,v.getCurrentItem()),
c;d.isDefined(a)&&(c=d.isDefined(a.xPos)?a.xPos+"px "+a.yPos+"px ":"center "+a.yPos+"px ",u.css({"background-position":c,"background-size":a.width+"px "+a.height+"px ","max-width":a.width+"px ","min-height":a.height+"px ",filter:"","-ms-filter":""}))}}function q(a,c,f,h){if(u.length&&a&&c){if("function"===typeof f||h){var b=new Image;b.onload=h?function(){u.css("background-image",'url("'+a+'")')}:f;b.src=a}f=c[1];var b=c[0],k;h||u.css({"background-image":'url("'+a+'")'});C.repositionHeroImage&&(c=
g.getHeroDimParams(C,v.getCurrentItem(),c),d.isDefined(c)&&(f=c.width,b=c.height,k=d.isDefined(c.xPos)?c.xPos+"px "+c.yPos+"px ":"center "+c.yPos+"px "));u.css({"background-position":k,"background-size":f+"px "+b+"px ","max-width":f+"px ","min-height":b+"px ",filter:"","-ms-filter":""})}}function n(c,d,f,h){c=g.getHeroImageHash(C,c,d);if(-1===c)return-1;d=a.map(c.main,function(a,c){return c})[0];q(d,c.main[d],f,h)}function t(a,c,d){if("hero-image"!==a.type)return-1;var f=p(a.color,v.getCurrentItem().variant),
f=-1!==f?f:0;if(-1===g.getHeroImageHash(C,a.color,f))return-1;var b=v.getCurrentItem();a.thumbnailIndex=b.thumbnailIndex;a.type=b.type;a.variant=b.variant;a.index=f;G(a,c,d)}function G(a,c,d){var h=g.getHeroImageHash(C,a.color,a.index),b;b=a&&O&&f.equals(a,O)?!0:!1;O||(O=a);if(!b&&a||c)n(a.color,a.index,c,d),O=a;u.removeClass("hide-background");f.trigger("dp:image-block:update",h)}var E,C,v,D,Q,u,O={};return function(f,g,p,m){E=this;C=f;v=g;D=m;C.heroImage[C.landingAsinColor]=C.heroImage[C.defaultColor];
E.render=function(b,d,f,g,h,p,l){Q=g;u=a("#heroImage");b=c(d,b,p);t(v.getCurrentItem(),l,p);return b};E.update=function(a){var c=a.data;"ingress"!==c.type&&u.addClass("hide-background");"swatchHover"===a.type?a.captured||(c.type=v.getCurrentItem().type,-1!==t(c)&&(a.captured=!0)):"hero-image"===c.type&&(G(c),"click"!==a.type&&C.usePeekHover||d.selectGivenThumbnail(a.$declarativeParent,Q))};D.register("resize",h)}});"use strict";u.when("A","jQuery","imageBlockUtils").register("ImageBlockAltImageIngressView",
function(f,a,d){var g,m,c,p;return function(a,q,n,t){g=this;m=a;c=t;g.render=function(a,c,h,n,q,t,u){p=n;g=this;h=m.maxAlts;n=c;q=m.colorImages[a]?m.colorImages[a].length:0;q+=d.getVideosCount(a,m);a=m.heroImage[a];t=0;a&&(t=a.length);a=q+t;a>h&&(h=a-h,a=p.find(".altIngressTemplate").clone().removeClass("altIngressTemplate").removeClass("aok-hidden").addClass("item"),h+="+",n={type:"ingress",index:0,thumbnailIndex:c,variant:""},a.find("#altIngressText").append(h),f.declarative.create(a,"thumb-action",
n),p.append(a),n=c++);return n};g.update=function(a){"ingress"===a.data.type&&"click"===a.type&&c.dispatch("imageClick",a)}}});"use strict";u.when("imageBlockUtils").register("ImageBlockState",function(f){return function(a,d,g){this.getImageHash=function(d){var c=g.getCurrentItem();d=f.getIndexForVariant(c.color,d||"MAIN",a);return f.getImageHash(c.color,d,a)};this.onImageUpdateForTwister=function(a){d.register("updateSelection",function(c){"swatchClick"===c.type&&"function"===typeof a&&a()})}}});
"use strict";u.when("jQuery","imageBlockUtils").register("ImageBlockHeroUtils",function(f,a){function d(a,d){var f;if(d.repositionHeroImage){f=a[1];var g=a[0];if(768>=(t.innerHeight||document.documentElement.clientHeight||document.body.clientHeight))f*=.7,g*=.7;else{var m=((t.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)-1024)/256,m=Math.max(Math.min(m,1),0);f*=.7+.3*m;g*=.7+.3*m}f=[f,g]}return f}function g(c,d,f){var g;if(f.repositionHeroImage){var m=t.innerWidth||
document.documentElement.clientWidth||document.body.clientWidth;f=f.heroFocalPoint;if(a.isDefined(f)){g=Math.max((m-Math.min(1500,c))/2,0);var u=Math.max((m-c)/2,0);g-=u;m=Math.max(Math.min(m,1500),1024);g=g+(m-420-23)/2-c/d[1]*f}}return g}function m(c,d,g){c=c.heroImage;return!(a.isDefined(c)&&a.isDefined(c[d])&&a.isDefined(c[d][g])&&a.isDefined(c[d][g].main))||1>f.map(c[d][g].main,function(a,c){return c}).length?-1:c[d][g]}return{getHeroImageHash:m,getHeroDimParams:function(c,p,h){if(c.repositionHeroImage){if(!a.isDefined(h)){h=
m(c,p.color,p.index);if(-1===h)return;p=f.map(h.main,function(a,c){return c})[0];h=h.main[p]}p=d(h,c);c=g(p[0],h,c);return{height:p[1],width:p[0],xPos:c,yPos:75}}}}});"use strict";u.when("postMetric").register("ImageBlockImmersiveViewShowroom",function(f){function a(){this.render=function(){};this.update=function(){}}return function(d,g,m,c){var p=!1,h=new a;u.now("showroom-image-block-view").execute("showroom-image-block-view-decider",function(a){a!==ia&&(p=!0,h=new a(d,g,m,c))});d&&!0===d.showroomEnabled&&
!1===p&&f.postCountMetric("showroom:atf:imageBlock:hiddenDueToAssetsNotPresentInTime");return h}});"use strict";u.when("A","jQuery","imageBlockUtils").register("imageBlockImmersiveViewUtils",function(f,a,d){function g(a,g){var h=f.copy(a);if(d.isDefined(a)&&a.length>g){try{for(var m=-1,n=0;n<a.length;n++){var t=a.charAt(n);if(" "===t||"."===t||"?"===t||";"===t||","===t||":"===t)m=n;if(n===g-4){h=a.substring(0,-1===m?n:m);break}}}catch(u){h=a.substring(0,g-3)}h+="..."}return h}function m(a,d){var f=
a.lastIndexOf(".");return a="_"===a.charAt(f-1)?a.substring(0,f-1)+d+a.substring(f):a.substring(0,f)+"."+d+a.substring(f)}return{getDimension:function(a,d){var f=parseInt(a.css(d),10);return isNaN(f)?0:f},attachTabSelectHandler:function(a,d){f.on("dp:ivTabs:"+a+":select",d)},attachTabDeselectHandler:function(a,d){f.on("dp:ivTabs:"+a+":deselect",d)},attachImmersiveViewResizeHandler:function(a){f.on("dp:image-block:immersive-view:resize",a)},detachImmersiveViewResizeHandler:function(a){f.off("dp:image-block:immersive-view:resize",
a)},attachImmersiveViewResetHandler:function(a){f.on("a:popover:afterHide:immersiveView",a)},hideTabHeading:function(c){a("#"+c).hide()},unhideTabHeading:function(c){a("#"+c).show()},addStyleCodeToURL:m,getResizedThumbnailURL:function(a,d){a=a.replace(/\._(AA|SS)\d+_/,"").replace(/\._SX\d+_SY\d+_CR,0,0,\d+,\d+_/,"");a=a.replace(/\._(US)\d+_/,"").replace(/\._SR\d+,\d+_/,"").replace(/\._SP[0-9,C]+_/,"");a=a.replace(/\._CB\d+_SS\d+_/,"");var f="_AA50_";d&&(f+="FMpng_RI_");return m(a,f)},populateVariationSelection:function(c){if(d.isDefined(t.DetailPage)&&
d.isDefined(t.DetailPage.StateController)){c.empty();var f=t.DetailPage.StateController.getState(),g=f.variation_label_order,m;for(m in g)if(g.hasOwnProperty(m)){var n=g[m],u=f.selected_variations[n],n=f.variation_display_labels[n];u&&a("\x3cdiv/\x3e").addClass("ivVariations").text(n+":"+u).appendTo(c)}}},populateTitle:function(a,d,f){a.html(f.title);a.attr("title",a.text());a.html(g(f.title,d))},animateStageIn:function(a){a.animate({opacity:1},200)},animateStageOut:function(a,d){a.animate({opacity:.4},
100,d)},logError:function(a,d,f,g){t.ueLogError&&t.ueLogError(g,{logLevel:a,attribution:d,message:f})}}});"use strict";u.when("A","jQuery","imageBlockUtils","postMetric","imageBlockImmersiveViewUtils").register("ImageBlockImmersiveViewImages",function(f,a,d,g,m){function c(){m.populateTitle(l.find("#ivTitle"),160,P)}function p(){var a=F.getCurrentItem().color;b=P.colorImages[a];A=P.heroImage[a];k=z=0;d.isDefined(A)&&(k=A.length);d.isDefined(b)&&(z=b.length)}function h(a){return a.hiRes||a.large||
a.main[a.main.length-1]}function q(){var a=l.find("#ivStage").find("#ivLargeImage"),b=a.width(),c=a.height(),d=a.find(".fullscreen");d.removeAttr("style");var e=d.width(),f=d.height();0<d.length&&(d[0].naturalWidth&&(e=d[0].naturalWidth),d[0].naturalHeight&&(f=d[0].naturalHeight));a.css("cursor","auto");var e=0===e?1:e,f=0===f?1:f,g=Math.min(b/e,c/f),h=f*g,k=e*g;1>g?(H?a.css("cursor","url('"+P.staticImages.zoomIn+"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor",
"zoom-in")),x=!0):x=!1;e=Math.min(k,e);f=Math.min(h-20,f);d.css({"margin-top":(c-f)/2,"margin-left":(b-e)/2,height:f,width:e});a.css("visibility","visible");S=!1}function n(a){var b=l.find("#ivLargeImage");b.css("visibility","hidden");b.empty();m.animateStageIn(b);b.append(a);q()}function t(c){l.find("#ivLargeImage").css("display","none");l.find("#ivLargeImage").css("display","block");var e;"hero-image"===c?d.isDefined(A)&&(e=h(A[y.index])):d.isDefined(b)&&(e=h(b[y.index]));if(d.isDefined(e)){l.find(".fullscreen").remove();
var f=a("\x3cimg\x3e").attr("src",e).addClass("fullscreen"),g=l.find("#ivLargeImage");m.animateStageOut(g,function(){f.load(function(){n(f)});if(f[0].complete)n(f);else{g.empty();var b=(g.height()-104)/2,c=(g.width()-80)/2;a("\x3cimg\x3e").attr("src",P.staticImages.spinner).css({position:"relative",top:b+"px",left:c+"px"}).appendTo(g)}})}}function u(a){l.find(".ivThumb").removeClass("selected");a.addClass("selected");a.hasClass("ivHeroImage")?y.type="hero-image":y.type="image";y.index=a.attr("id").split("_")[1];
t(y.type);g.postCountMetric("dpcc_iv_thumbCLick_"+(parseInt(y.index,10)+1)+"_"+(k+z))}function E(){l.delegate(".ivThumb","click",function(){var b=a(this);u(b)})}function C(a,b){return 0<b?b/2:Math.min(0,Math.max(b,a))}function v(a){var b=K.top-(a.pageY-r[1])*e;a=C(K.left-(a.pageX-r[0])*e,I.left);b=C(b,I.top);l.find(".fullscreen").css({left:a,top:b})}function D(){l.delegate("#ivLargeImage","click",function(a){if(S)q();else if(x){l.find(".fullscreen").removeAttr("style");if(x){var b=l.find("#ivLargeImage"),
c=b.find(".fullscreen");H?b.css("cursor","url('"+P.staticImages.zoomOut+"'), auto"):(b.css("cursor","-webkit-zoom-out"),b.css("cursor","-moz-zoom-out"),b.css("cursor","zoom-out"));S=!0;var d=l.find("#ivLargeImage");I.left=d.width()-c.width();I.top=d.height()-c.height();var d=b.height()/2,f=b.width()/2;r=[b.offset().left+f,b.offset().top+d];K.top=d-c.height()/2;K.left=f-c.width()/2;c.css({position:"relative",left:K.left,top:K.top});e=Math.max(c.height()/b.height(),c.width()/b.width())}v(a);g.postCountMetric("dpcc_iv_largeImageCLick")}});
l.delegate("#ivLargeImage","mousemove",function(a){S&&v(a)})}function Q(){l.find("#ivLargeImage").empty()}function W(e){if(M){l=a("#ivMain");p();y=F.getCurrentItem();c();m.populateVariationSelection(l.find("#ivVariationSelection"));e=l.find("#ivThumbs");e.find(".ivRow").not(".placeholder").remove();for(var f=k+z,g=0,h=0;g<f;)for(var n=e.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(e),q=0;4>q&&g<f;q++,g++,h++)if(h<k){var r=A[g].thumb,t=e.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivHeroImage").attr({id:"ivHeroImage_"+
g,"data-csa-c-type":"item","data-csa-c-component":"imageBlock","data-csa-c-content-id":"image-block-immersive-view-hero-image","data-csa-c-posy":g+1}).appendTo(n);t.find(".ivThumbImage").css("background",'url("'+m.getResizedThumbnailURL(r)+'") center no-repeat')}else h>=k&&h<z+k&&(r=b[g-k].thumb,t=e.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr({id:"ivImage_"+(g-k),"data-csa-c-type":"item","data-csa-c-component":"imageBlock","data-csa-c-content-id":"image-block-immersive-view-alt-image",
"data-csa-c-posy":g-k+1}).appendTo(n),t.find(".ivThumbImage").css("background",'url("'+m.getResizedThumbnailURL(r)+'") center no-repeat'));N();M=!1}else c();e=a("#ivImagesTab").height();l.css("height",e);f=l.find("#ivTitle").outerHeight(!0);g=l.find("#ivVariationSelection").outerHeight(!0);h=l.find("#ivThumbs");n=m.getDimension(h,"margin-top")+m.getDimension(h,"margin-bottom");h.css("height",e-f-g-n);l.find("#ivLargeImage").css("height",e);e=l.find("#ivStage");f=l[0]&&l[0].getBoundingClientRect&&
Math.floor(l[0].getBoundingClientRect().width)||l.width();e.css("width",f-m.getDimension(l,"padding-left")-m.getDimension(l,"padding-right")-l.find("#ivThumbColumn").width()-m.getDimension(e,"margin-left")-m.getDimension(e,"margin-right"));y=F.getCurrentItem();e="hero-image"===y.type?l.find("#ivHeroImage_"+y.index):"image"===y.type?l.find("#ivImage_"+y.index):d.isDefined(A)?l.find("#ivHeroImage_"+y.index):l.find("#ivImage_"+y.index);d.isjQueryObjDefined(e)||(e=l.find("#ivImage_0"));u(e)}var O,P,F,
l,A,b,k,z,y,H=navigator.userAgent.match(/msie|trident/i),M=!0,S=!1,x=!1,I={},K={},e,r,M=!0,N=f.once(function(){E();D();m.attachImmersiveViewResizeHandler(W);m.attachTabDeselectHandler("ivImagesTab",Q)});return function(b,c,d,e){O=this;P=b;F=c;O.render=function(b,c,d,e,f,g){M=!0;p();0===k+z?m.hideTabHeading("ivImagesTabHeading"):m.unhideTabHeading("ivImagesTabHeading");1===k+z?a("#ivThumbs").hide():a("#ivThumbs").show()};O.update=function(a){};m.attachTabSelectHandler("ivImagesTab",W)}});"use strict";
u.when("A","jQuery","imageBlockUtils","postMetric","imageBlockImmersiveViewUtils","vse_ns_preLoaderHook","vse_ns_lazyLoaderHook").register("ImageBlockImmersiveViewVideos",function(f,a,d,g,m,c,p){function h(){k.delegate(".ivThumb","click",function(){var b=a(this);k.find(".ivThumb").removeClass("selected");b.addClass("selected");b.hasClass("ivThumbVideo")&&(z.type="chromeful-video",z.index=b.attr("id").split("_")[1])})}function q(){if(Y){var b=a("#ivVideosTab").height();k.css("height",b);var c=k.find(".vse-lb-container");
y=b-m.getDimension(c,"padding-top")-m.getDimension(c,"padding-bottom");c.css({"max-height":b,overflow:"hidden"});if(R){k.css({"max-width":Math.floor(1.77*y)});return}var b=k.find(".vse-player-container"),c=k.find(".vse-video-action-strip"),d=k.find(".vse-lb-video-metadata"),e=Math.floor(y-m.getDimension(d,"height")-m.getDimension(c,"height")),f=Math.floor(1.77*e);b.css({"max-height":e,"max-width":f,marginLeft:"auto",marginRight:"auto"});d.css({"max-width":f,marginLeft:"auto",marginRight:"auto"});
c.css({"max-width":f,marginLeft:"auto",marginRight:"auto"})}U&&(b=k.find(".vse-vertical-scroll"),c=m.getDimension(b,"margin-top")+m.getDimension(b,"margin-bottom"),b.css("max-height",y-c))}function n(){u();H&&H.pause();V=!1;N=!0;I=null;fa=!0;Y=!1}function u(){V=!1;H&&H.pause()}function G(c){I=c.clickTimeStamp?c.clickTimeStamp:f.now();d.isDefined(b)&&(b.eventTimestamp=I);V=!0;L&&(p.get(f,"#ivVideoBlock",A,Z,w),k=a("#ivVideoBlock"),l.getCurrentItem(),z=l.getCurrentItem(),B(),W());q();L=!1;v()}function E(b){L&&
(k=a("#ivVideoBlock"),l.getCurrentItem(),z=l.getCurrentItem(),B());V&&v();q()}function C(a){H=a.player;g.postTimeMetric("vse_ib_desktop_player_initialisation_duration",f.now()-ba);F.imageBlockRenderingStartTime&&g.postTimeMetric("vse_ib_desktop_time_to_player_interactive",f.now()-F.imageBlockRenderingStartTime);Y&&(W(),v())}function v(){if(H&&V&&(k.find(".vse-lb-container").animate({opacity:1},200),H.play(b),g.postCountMetric("dpcc_vse_videoBlock_video_played"),N)){var a=t.ue;a&&(a=a.count("dpcc_vse_videoingressclick"),
a=(new Date).getTime()-a,g.postTimeMetric("dpcc_vse_vitff",a),N=!1)}}function D(){f.trigger("vse:detailpage-imageblock:page:lightBoxClosed")}function Q(a){M=a.popover.$popover;Y=!0;W()}function W(){if(Y&&fa&&V&&H){M.addClass(f.$(M).find(".vse-lb-container").data("cssClass"));var a=b;ea&&(a=X,ea=!1);f.trigger("vse:detailpage-imageblock:page:lightBoxOpened",{lightBoxId:"ivVideoBlock",assetSpec:a});q();fa=!1}}function O(a){document.getElementsByClassName("videoBlockIngress")[0].click();X=a;ea=!0}var P,
F,l,A,b,k,z,y,H,M,S,x,I,K,e,r,N=!0,L=!0,R=!1,U=!1,V=!1,fa=!0,Y=!1,ea=!1,X,ba=0,B=f.once(function(){h();m.attachImmersiveViewResizeHandler(E);m.attachTabDeselectHandler("ivVideosTab",u);m.attachImmersiveViewResetHandler(n)}),da=function(b,c,e){a("#ivVideoBlockSpinner").addClass("aok-hidden");g.postCountMetric("dpcc_vse_videoBlock_preload_failed_"+c.placement);b=l.getCurrentItem().color;b=d.getVideoHash(b,0,F);H||(H=d.createAiryInstanceForChromeful(a("#ivVideoBlock"),b,F.airyConfig,"ImmersiveView"));
R=!0;a("#ivVideoBlock").css({"max-width":1.77*y,margin:"0 auto"});V&&R&&H.play({isAsync:!0})},ia=function(b,c,d){L||p.get(b,"#ivVideoBlock",A,Z,w);a("#ivVideoBlockSpinner").addClass("aok-hidden")},Z=function(a,b,c){U=!0;q()},w=function(a,b,c){g.postCountMetric("dpcc_vse_videoBlock_lazyload_failed_"+b.pageContext.placement+"_"+b.configuration.type)};return function(a,g,h,k){P=this;F=a;l=g;P.render=function(a,g,h,k,p,n){a=l.getCurrentItem().color;g=d.getVideoHash(a,0,F);!0===n?S=F.mediaAsin:(S=F.colorToAsin[a]&&
F.colorToAsin[a].asin,S=d.isDefined(S)?S:F.mediaAsin);x=null!==F.vseVideoDataSourceTreatment&&"T1"===F.vseVideoDataSourceTreatment?"ASIN":"physicalID";K=F.contentWeblab;e=F.contentWeblabTreatment;r=F.parentAsin||"";L=!0;-1===g?m.hideTabHeading("ivVideosTabHeading"):(m.unhideTabHeading("ivVideosTabHeading"),A={page:"DetailPage",placement:"ImageBlock",device:"Desktop",marketplaceID:g.marketPlaceID,locale:g.languageCode,product:{contentID:S,contentIDType:"ASIN",parentContentID:r,parentContentIDType:"ASIN"},
video:{contentID:g.mediaObjectId,contentIDType:x,videoURL:g.url,imageURL:g.slateUrl},requestId:F.dpRequestId,weblabContext:[{name:K,assignment:e,ignoreForG2S2Key:!0}],metadata:{ProductTitle:F.title}},b={videoUrl:A.video.videoURL,contentId:A.video.contentID,duration:0,vendorCode:"",eventTimestamp:d.isDefined(I)?I:f.now(),imageUrl:A.video.imageURL,productAsin:A.product.contentID,index:0},d.isDefinedAndNotEmpty(H)&&(H.destroy(),H=null),ba=f.now(),c.get(f,"#ivVideoBlock",A,ia,da))};P.update=function(a){};
m.attachTabSelectHandler("ivVideosTab",G);f.on("vsePlayer-detailpage-imageblock",C);f.on("a:popover:afterShow:immersiveView",Q);f.on("a:popover:beforeHide:immersiveView",D);f.on("detailpage-imageblock-leave-pip",O)}});"use strict";u.when("A","jQuery","imageBlockUtils","ImageBlockLoader","nexusLogger360","postMetric","imageBlockImmersiveViewUtils","hit-spin360-feature-data","hit-spin360-constants").register("ImageBlockImmersiveView360",function(f,a,d,g,m,c,p,h,q){function n(){var b=a("#iv360Tab").height();
e.css("height",b);var c=e.find("#ivTitle360").outerHeight(!0),d=e.find("#ivVariationSelection360").outerHeight(!0),f=e.find("#ivThumbs360"),g=p.getDimension(f,"margin-top")+p.getDimension(f,"margin-bottom");f.css("height",b-c-d-g);b=e.find("#ivStage360");c=e[0]&&e[0].getBoundingClientRect&&Math.floor(e[0].getBoundingClientRect().width)||e.width();b.css("width",c-p.getDimension(e,"padding-left")-p.getDimension(e,"padding-right")-e.find("#ivThumbColumn360").width()-p.getDimension(b,"margin-left")-p.getDimension(b,
"margin-right"))}function t(){v();var a=e.find("#ivLarge360");a.css({opacity:0});setTimeout(function(){a.css({opacity:.4});p.animateStageIn(a)},200);u()}function u(){if(0<w){var a=e.find(".iv360Hint");a.removeClass("iv360HintFaded");a.animate({opacity:1},200)}}function E(b,d){if(w<b.length){var f=a("\x3cimg /\x3e").css({display:"block",width:6*N+"px",height:L+"px"});f.hide();d.append(f);f.get(0).onload=function(){d.closest(document.documentElement).length&&(w++,1===w&&(u(),0<B&&(m.time("dppc_loadTime360",
Date.now()-B,x.mediaAsin),c.postTimeMetric("dppc_loadTime360",Date.now()-B))),0<da&&(m.time("dppc_perSpriteloadTime360",Date.now()-da,x.mediaAsin),c.postTimeMetric("dppc_perSpriteloadTime360",Date.now()-da)),e.find("#iv360Spinner").hide(),f.show(),X=5*r.imageLocations[Math.floor(ba/r.imageLocations[0].length)][ba%r.imageLocations[0].length],E(b,d))};f.attr("src",b[w].replace(/(\._SP)\d+(,)\d+/,"$1"+U+"$2"+R));da=Date.now()}}function C(a){if(d.isDefined(r.spriteWidthSizes)&&0<r.spriteWidthSizes.length){var b=
r.spriteWidthSizes,c=b.length,e=b[0],f=b[c-1];if(a<=e)return e;if(a>f)return f;for(e=0;e<c;e++)if(a>b[e]&&a<=b[e+1])return b[e+1]}else return a}function v(){var b=e.find("#ivLarge360");b.children("#image-360-sprites").length||(b.append("\x3cdiv id\x3d'image-360-sprites'\x3e\x3c/div\x3e"),b.css({"margin-left":0,"margin-top":0,width:b.parent().width(),height:b.parent().height(),overflow:"hidden",position:"relative","-ms-user-select":"none","-webkit-user-select":"none","-mos-user-select":"none"}),a("\x3cimg\x3e").attr("src",
x.staticImages.spinnerNoLabel).attr("id","iv360Spinner").css({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"block"}).appendTo(b),Y=!0,D())}function D(){if(d.isDefined(r.spriteURLs)&&d.isDefined(e)&&Y&&!ea){var b=e.find("#ivLarge360"),c=a("\x3cdiv\x3e").addClass("iv360Hint").css({position:"absolute",width:"100%",bottom:0,opacity:0,display:"block"});d.isDefined(r.staticImages.hint360)&&a("\x3cimg\x3e").css({"margin-left":"auto","margin-right":"auto",display:"block"}).attr("src",
r.staticImages.hint360).appendTo(c);a("\x3cdiv\x3e").css({"text-align":"center"}).text(x.staticStrings.dragToSpin).appendTo(c);c.appendTo(b);var c=r.imageWidth,f=r.imageHeight,g=b.parent().width(),h=b.parent().height(),k=0,m=0;c/f>g/h?(U=C(g),R=Math.round(f/c*U),N=Math.ceil(g),L=Math.ceil(R/U*g),m=(h-L)/2):(R=C(h),U=Math.round(c/f*R),L=Math.ceil(h),N=Math.ceil(U/R*h),k=(g-N)/2);b.css({"margin-left":k,"margin-top":m,width:N+"px",height:L+"px",overflow:"hidden",position:"relative"});b.children("#image-360-sprites").css("width",
6*N+"px");E(r.spriteURLs,e.find("#image-360-sprites"),0);c=e.find("#ivLarge360");c.bind("mousedown",P);c.bind("touchstart",Q);c.bind("touchmove",W);c.bind("touchend",O);a(document).bind("mousemove",F);a(document).bind("mouseup",l);d.isDefined(x.staticImages.grab)&&b.css("cursor","url('"+x.staticImages.grab+"'), auto");ea=!0}}function Q(a){Z=!0;fa=a.originalEvent.targetTouches[0].clientX}function W(a){Z&&(A(a.originalEvent.targetTouches[0].clientX-fa),fa=a.originalEvent.targetTouches[0].clientX)}function O(a){Z&&
(Z=!1)}function P(a){la=!0;V=a.originalEvent.clientX;d.isDefined(x.staticImages.grabbing)&&(a=e.find("#ivLarge360"),a.css("cursor","url('"+x.staticImages.grabbing+"'), auto"),a.parents(".a-declarative").last().css("cursor","url('"+x.staticImages.grabbing+"'), auto"));return!1}function F(a){la&&(A(a.originalEvent.clientX-V),V=a.originalEvent.clientX)}function l(a){la&&(la=!1,d.isDefined(x.staticImages.grab)&&(a=e.find("#ivLarge360"),a.css("cursor","url('"+x.staticImages.grab+"'), auto"),a.parents(".a-declarative").last().css("cursor",
"auto")))}function A(a){X-=a/N*180;ma&&(m.count("dppc_360dragToSpin",x.mediaAsin),c.postCountMetric("dppc_360dragToSpin"));ma=!1;for(a=X;0>a;)a+=360;for(;360<a;)a-=360;X=a;var b;a=360;for(var f=0;f<w;f++)for(var g=0;g<r.imageLocations[f].length;g++){var h=Math.abs(X-5*r.imageLocations[f][g]);h<a&&(a=h,b=f*r.imageLocations[0].length+g)}b!==ba&&(a=Math.floor(b/r.imageLocations[0].length),a!==Math.floor(ba/r.imageLocations[0].length)&&(d.isDefined(ka)||(ka=document.createElement("canvas").getContext("2d")),
f=e.find("#image-360-sprites").children(),ka.drawImage(f[a],0,0)),a=e.find(".iv360Hint").not(".iv360HintFaded"),d.isDefined(a)&&(a.addClass("iv360HintFaded"),a.animate({opacity:0},750)));ba=b;a=b%r.imageLocations[0].length*-1*N;b=-1*Math.floor(b/r.imageLocations[0].length)*L;f=e.find("#ivLarge360").children("#image-360-sprites");f.css("-webkit-transform","translate3d("+a+"px, "+b+"px, 0)");f.css("transform","translate3d("+a+"px, "+b+"px, 0)")}function b(){if(ca){e=a("#ivMain360");var d=I.getCurrentItem().color;
z()&&y(d);r=z()?x.spin360ColorData[d]:ia;p.populateTitle(e.find("#ivTitle360"),160,x);p.populateVariationSelection(e.find("#ivVariationSelection360"));e.find("#ivLarge360").empty();w=0;ea=Y=!1;ba=X=0;ga();ca=!1}0!==a("#iv360Tab").height()&&(p.detachImmersiveViewResizeHandler(b),n(),t(),B=Date.now(),ja=ma=!0,m.count("dppc_click360",x.mediaAsin),c.postCountMetric("dppc_click360"))}function k(a,b,e){a=x.colorToAsin[e];var f={},k=500;if(!a||!a.asin)if(e===x.defaultColor)a={asin:x.winningAsin};else return;
f.params={asin:a.asin};var l="360"+a.asin,p=Date.now();f.success=function(a){m.time("dppc_asyncRequestTime360",Date.now()-p,x.mediaAsin);c.postTimeMetric("dppc_asyncRequestTime360",Date.now()-p);a&&d.isDefined(a.spin360)?((a=a.spin360.spin360Model)&&h.setData(a),d.ajaxState(l,"success")):f.error()};f.error=function(){m.count("dppc_asyncFailedTransient360",x.mediaAsin);c.postCountMetric("dppc_asyncFailedTransient360");m.time("dppc_asyncRequestTime360",Date.now()-p,x.mediaAsin);c.postTimeMetric("dppc_asyncRequestTime360",
Date.now()-p);k*=2;16E3>=k?setTimeout(function(){p=Date.now();g.load("/gp/product/features/apparel-main-image/360.html",f)},k):(m.count("dppc_asyncFailed360",x.mediaAsin),c.postCountMetric("dppc_asyncFailed360"),d.ajaxState(l,"fail"))};d.ajaxState(l)&&"fail"!==d.ajaxState(l)||(g.load("/gp/product/features/apparel-main-image/360.html",f),d.ajaxState(l,"sent"))}function z(){return x&&d.isDefined(x.spin360ConfigEnabled)&&x.spin360ConfigEnabled}function y(a){return d.isDefinedAndNotEmpty(x.spin360ColorData[a])?
!0:d.isDefined(x.spin360LazyLoadEnabled)&&x.spin360LazyLoadEnabled}function H(){ja&&(m.time("dppc_duration360",Date.now()-B,x.mediaAsin),c.postTimeMetric("dppc_duration360",Date.now()-B),ja=!1)}function M(a){a=x.colorToAsin[a.color]&&x.colorToAsin[a.color].asin;a||(a=x.mediaAsin);return a}var S,x,I,K,e,r,N,L,R,U,V,fa,Y=!1,ea=!1,X=0,ba=0,B=0,da=0,la=!1,Z=!1,w=0,ka,ma=!0,ja=!1,ca=!0,ga=f.once(function(){p.attachImmersiveViewResizeHandler(b);p.attachImmersiveViewResizeHandler(n);p.attachImmersiveViewResetHandler(H);
p.attachTabDeselectHandler("iv360Tab",H)});return function(e,g,l,n){S=this;x=e;I=g;K=n;e=x.landingAsinColor;g=x.defaultColor;d.isDefined(x.staticImages.icon360)&&a("#imageBlock #altImages ul").find(".360IngressTemplate").find("img").attr("src",p.addStyleCodeToURL(x.staticImages.icon360,"_FMpng_RI_"));z()&&(x.spin360ColorData||(x.spin360ColorData={}),e===g&&d.isDefinedAndEmpty(x.spin360ColorData[g])&&delete x.spin360ColorData[g]);f.on(q.TWISTER_DATA_EVENT,function(a){M(I.getCurrentItem())===a&&(r=
h.getData(a),D(),a={type:"updatedData",data:I.getCurrentItem()},K.dispatch("updateView",a))});S.render=function(b,e,g,l,n,q){ca=!0;!z()||d.isDefinedAndEmpty(x.spin360ColorData[b])&&!h.getData(M(I.getCurrentItem()))?p.hideTabHeading("iv360TabHeading"):(x.spin360ColorData[b]=h.getData(M(I.getCurrentItem())),d.isDefinedAndNotEmpty(x.spin360ColorData[b])?(a("#ivThumbs360").hide(),p.unhideTabHeading("iv360TabHeading"),d.isImmersiveViewEnabled(x,I.getCurrentItem().color)&&z()&&y(b)&&(e===x.maxAlts&&(b=
l.find(".item.imageThumbnail"),e=l.find(".item.videoThumbnail"),d.isDefined(e)&&1<e.length?e.last().remove():b.last().remove()),b=l.find(".360IngressTemplate").clone().removeClass("360IngressTemplate").removeClass("aok-hidden").addClass("item"),f.declarative.create(b,"button-360-click"),l.append(b),m.count("dppc_display360",x.mediaAsin),c.postCountMetric("dppc_display360"))):d.isDefined(x.spin360LazyLoadEnabled)&&x.spin360LazyLoadEnabled?(x.spin360ColorData[b]={},p.hideTabHeading("iv360TabHeading"),
k(l,e,b)):p.hideTabHeading("iv360TabHeading"))};S.update=function(a){};p.attachTabSelectHandler("iv360Tab",b)}});u.register("nexusLogger360",function(){return{count:function(f,a){t.ue&&t.ue.event({asin:a,metricName:f,metricValue:1},"hit-360","hit360.clientEvent.3")},time:function(f,a,d){t.ue&&t.ue.event({asin:d,metricName:f,metricValue:a},"hit-360","hit360.clientEvent.3")}}});u.register("hit-spin360-constants",function(){return{TWISTER_DATA_EVENT:"spin360TwisterData"}});u.when("A","hit-spin360-constants").register("hit-spin360-feature-data",
function(f,a){var d={};return{setData:function(g){var m=g.asin;d[m]||(d[m]=g,f.trigger(a.TWISTER_DATA_EVENT,m))},getData:function(a){return d[a]}}});"use strict";u.when("A","jQuery").register("ImageBlockImmersiveViewDimensionIngress",function(f,a){var d;return function(a,f,c,p){d=this;d.render=function(){};d.update=function(){}}});"use strict";u.when("postMetric","imageBlockImmersiveViewUtils").execute("vse-ns-ajax-calls",function(f,a){u.register("vse_ns_preLoaderHook",function(){function d(g,m){try{var c=
g.A,p=g.block,h=g.request,q=g.handleFailure,n=g.handleSuccess,t=c.$;m--;var u=3-m-1,E=c.now();c.ajax("/vap/ew/componentbuilder",{params:h,paramsFormat:"json",crossDomain:!0,method:"post",contentType:"application/json",timeout:h.timeout||5E3,withCredentials:!0,success:function(a){var d=c.now()-E;f.postTimeMetric("vse_preLoaderHook:success:",d);f.postCountMetric("vse_preLoaderHook:success:"+h.page+":"+h.placement+":"+u);t(p).html(a);n(c,h,a)},error:function(a){f.postCountMetric("vse_preLoaderHook:error:"+
h.page+":"+h.placement+":"+u);(0===a.http.status||500<=a.http.status&&599>=a.http.status)&&0<m?d(g,m):(f.postCountMetric("vse_preLoaderHook:error:",1),q(c,h,a))}})}catch(C){a.logError("FATAL","vse_ns_desktop","[vse_ns_preLoaderHook] ",C)}}return{get:function(a,f,c,p,h){d({A:a,block:f,request:c,handleFailure:h,handleSuccess:p},3)}}});u.register("vse_ns_lazyLoaderHook",function(){function d(g,m,c){try{var p=g.A,h=g.context,q=g.handleFailure,n=g.handleSuccess;m.attr("data-configuration");var t=atob(m.attr("data-configuration")),
u=JSON.parse(t),E={pageContext:h,configuration:u},C=p.now();c--;var v=3-c-1;p.ajax("/vap/ew/subcomponent/"+u.type,{params:E,paramsFormat:"json",method:"post",contentType:"application/json",timeout:h.timeout||5E3,withCredentials:!0,success:function(a){var c=p.now()-C;f.postTimeMetric("vse_lazyLoaderHook:success:",c);f.postCountMetric("vse_lazyLoaderHook:success:"+h.page+":"+h.placement+":"+u.type+":"+v);m.html(a);n(p,E,a)},error:function(a){f.postCountMetric("vse_lazyLoaderHook:error:"+h.page+":"+
h.placement+":"+u.type+":"+v);(0===a.http.status||500<=a.http.status&&599>=a.http.status)&&0<c?d(g,m,c):(f.postCountMetric("vse_lazyLoaderHook:error:",1),q(p,E,a))}})}catch(D){a.logError("FATAL","vse_ns_desktop","[vse_ns_lazyLoaderHook] ",D)}}return{get:function(a,f,c,p,h){var q=a.$;q(f+" div[data-configuration]").each(function(){d({A:a,context:c,handleFailure:h,handleSuccess:p},q(this),3)})}}});u.register("vse_ns_videoPlayer",function(){function d(g,m,c){try{var p=g.A,h=g.block,q=g.request,n=g.handleFailure,
t=g.handleSuccess,u=p.$;c--;var E=3-c-1,C=p.now();p.ajax("/vap/ew/subcomponent/vseplayer",{params:q,paramsFormat:"json",crossDomain:!0,method:"post",contentType:"application/json",timeout:q.timeout||5E3,withCredentials:!0,success:function(a){var c=p.now()-C;f.postTimeMetric("vse_lightPlayerLoaderHook:success:",c);f.postCountMetric("vse_lightPlayerLoaderHook:success:"+q.page+":"+q.placement+":"+E);u(h).html(a);t(p,q,a)},error:function(a){f.postCountMetric("vse_lightPlayerLoaderHook:error:"+q.page+
":"+q.placement+":"+E);(0===a.http.status||500<=a.http.status&&599>=a.http.status)&&0<c?d(g,c):(f.postCountMetric("vse_lightPlayerLoaderHook:error:",1),n(p,q,a))}})}catch(v){a.logError("FATAL","vse_ns_lightPlayer","[vse_ns_lightPlayerLoaderHook] ",v)}}return{get:function(a,f,c,p,h){d({A:a,block:f,request:c,handleFailure:h,handleSuccess:p},3)}}})});"use strict";u.when("A","ImageBlockATF","ImageBlockBTF","imageBlockUtils","postMetric").execute(function(f,a,d,g,m){var c=[0,50,100,500,1E3,2E3,3E3,3500];
(function(){var a=d.colorImages,f=0,q;for(q in a)a[q]&&a[q].length&&(f+=a[q].length);a="image_size_bucket:gt"+c[c.length-1];for(q=1;q<c.length;q++)if(f<=c[q]){a="image_size_bucket:"+c[q-1]+"-"+c[q];break}m.postCountMetric(a);g.addTag(a)})();(function(){var c=a.colorImages;c&&c.initial&&c.initial.length&&(c=c.initial.length,t.ue&&ue.count&&ue.count("altImageCount",c))})();(function(){var a=d.lazyLoadExperienceDisabled;g.isDefined(d.lazyLoadExperienceDisabled)&&!a&&(m.postCountMetric("lazyLoadingExperienceOnTwisterUpdateEnabled"),
g.addTag("lazyLoadingExperienceOnTwisterUpdateEnabled"))})()});u.when("A","get-resource-time","postMetric","afterLoad").execute(function(f,a,d){var g=f.state("desktop-landing-image-data");g&&(g=f.values(g),a=a.getResourceTimeByName("img",g),f.each(a,function(a){a&&(a.responseEnd!=ia&&d.postCountMetric("ibDesktopLandingImageDownloadTime",t.parseInt(a.responseEnd)),a.transferSize!=ia&&(0===a.transferSize?d.postCountMetric("ibDesktopLandingImageCached",1):(d.postCountMetric("ibDesktopLandingImageSizeInBytes",
t.parseInt(a.transferSize)),d.postCountMetric("ibDesktopLandingImageNotCached",1))))}))});u.when("A","jQuery","imageBlockUtils","postMetric").register("ImageBlockShoppableSceneView",function(f,a,d,g){function m(c,d){var f=a("\x3cimg src\x3d'"+(d?C.staticImages.shoppableSceneDotHighlighted:C.staticImages.shoppableSceneDot)+"' alt\x3d''\x3e");f.css({display:d?"none":"inline-block"});f.addClass("mirai-scene-tag").addClass(d?"active-tag":"inactive-tag");return f}function c(c){var d=a("\x3cspan\x3e");
f.each(c.tags,function(c){var g=a("\x3cdiv\x3e").css({position:"absolute",left:100*c.left+"%",top:100*c.top+"%",height:"auto",width:"auto"});g.append(m(c,!1));g.append(m(c,!0));g.bind("mouseenter",function(){p(a(this).find(".mirai-scene-tag[style*\x3d'display: inline-block']"))});f.declarative.create(g,"scenes-show-details-tags-ib",{tagId:c.link});d.append(g)});return d.children()}function p(a){a.addClass("mirai-scene-dot-pulsate");f.delay(function(){a.removeClass("mirai-scene-dot-pulsate")},4E3)}
function h(a,c){a.css({display:"none"});c.css({display:"inline-block"})}function q(a,c,d){a.eq(d).css({display:"inline-block"});c.eq(d).css({display:"none"})}function n(a){u.when("mirai-multi-scene-view").execute("mirai-scene-protected-image-selection",function(){f.trigger("mirai:scene-details-change",{physicalId:a})})}function t(){var c=a("\x3cspan class\x3d'mirai-scene-view-products-button-content'\x3e"),d=a("\x3cimg class\x3d'item-tag'\x3e").attr("src",C.staticImages.shoppableSceneViewProductsButton).addClass("item-tag"),
f=a("\x3cspan class\x3d'mirai-scene-view-products-button-text'\x3e");f.html(C.staticStrings.shoppableSceneViewProductsButton);return c.append(d).append(f)[0].outerHTML}function G(a){function d(){a.$tagPlaceholder.replaceWith(n);var c=n.find(".mirai-scene-tag.active-tag"),f=n.find(".mirai-scene-tag.inactive-tag");q(c,f,0);p(n.find(".mirai-scene-tag[style*\x3d'display: inline-block']"));D=!0;a.$viewProductsButton.removeClass("aok-hidden");"function"==typeof uex&&uex("ld","desktop-dp-atf-ib-shoppablescenes-tags-"+
a.index,{wb:1});b=!0;g.postCountMetric("miraiShoppableScenes_imageLoadedCount")}if(a.shoppableScene){var m=a.$viewProductsButton.find(".a-button-text");if(0===m.children().length){m.append(t());f.declarative.create(a.$viewProductsButton,"scenes-show-details-view-products-ib",{tagId:a.shoppableScene.tags[0].link});var n=c(a.shoppableScene),v=n.find(".mirai-scene-tag.active-tag"),l=n.find(".mirai-scene-tag.inactive-tag"),A=a.shoppableScene.physicalId,b=!1;f.on("mirai:index:change",function(a){a.scenePhysicalId===
A&&(a=a.selectedIndices[0],h(v,l),q(v,l,a),p(n.find(".mirai-scene-tag[style*\x3d'display: inline-block']").eq(a)),D=!0)});f.on("mirai:scene-details-change",function(a){a.physicalId!==A||D||(h(v,l),q(v,l,0),p(n.find(".mirai-scene-tag[style*\x3d'display: inline-block']")),D=!0)});f.on("mirai:no-products-active",function(a){a.scenePhysicalId===A&&h(v,l)});f.on("mirai:set-first-product-active",function(a){a.scenePhysicalId===A&&(h(v,l),q(v,l,0))});f.on("a:image:load:shoppable-scene:"+a.index,function(){b||
(d(),g.postCountMetric("miraiShoppableScenes_imageLoadedViaAuiListenerCount"))});f.on("shoppable-scene-image-loaded",function(c){c.index!=a.index||b||(d(),g.postCountMetric("miraiShoppableScenes_imageLoadedViaMiraiListenerCount"))});u.when("mirai-multi-scene-view").execute("mirai-scene-protected-side-sheet-initialization",function(){f.trigger("mirai:scene-side-sheet-init",{icons:C.staticImages,strings:C.staticStrings});f.trigger("mirai:scene-details-init",{scene:a.shoppableScene,imageSource:a.imageSource})})}}}
var E,C,v,D=!1;return function(a,c,f,g){E=this;C=a;v=g;d.isShoppableScenesEnabled()?(v.register("initialize-shoppable-scene",G),E.render=function(a,c,d,b,f,g,h){},E.update=function(a){"mouseenter"===a.type&&(a.data.shoppableScene?n(a.data.shoppableScene.physicalId):D=!1)}):(a=function(){},E.render=a,E.update=a)}});u.now().register("ShoppableSceneWeblabProvider",function(){return{isEnabled:!0}})});
/* ******** */
(function(k){var d=window.AmazonUIPageJS||window.P,p=d._namespace||d.attributeErrors,b=p?p("DetailPageShowroomImageBlockAssets",""):d;b.guardFatal?b.guardFatal(k)(b,window):b.execute(function(){k(b,window)})})(function(k,d,p){k.when("A","imageBlockUtils","showroom-lite-atf-feature-data","showroom-image-block-detail-page-rendering","showroom-image-block-constants","showroom-image-block-metrics").register("showroom-image-block-view",function(b,f,m,g,e,a){function c(h){h.interaction===p.MOUSE_ENTER&&
h.type===e.SHOWROOM_THUMBNAIL_TYPE&&g.isShowroomMainImageHidden()&&a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_THUMBNAIL_HOVER)}function d(b,e){var d=new Date;b.interaction=e.type;b.isUserGenerated=!0;if(f.isImageBlockGridViewHoverDelayEnabled()){if("mouseenter"===e.type&&m.isDataValidForAsin(u(b))&&(c(b),q&&clearTimeout(q),q=setTimeout(function(){var a=m.getDataForAsin(u(b)).imageData;g.updateMainImage(h,a,r);g.showShowroomMainImage(h);n.usePeekHover||f.selectGivenThumbnail(e.$declarativeParent,
x)},f.getHoveringDelayTimer())),"mouseleave"===e.type&&q&&clearTimeout(q),"click"===e.type){if(m.isDataValidForAsin(u(b))){var l=m.getDataForAsin(u(b)).imageData;g.updateMainImage(h,l,r);g.showShowroomMainImage(h)}f.selectGivenThumbnail(e.$declarativeParent,x);f.useTabbedImmersiveView(n)&&g.handleShowroomThumbnailClick(e)}}else m.isDataValidForAsin(u(b))&&(c(b),l=m.getDataForAsin(u(b)).imageData,g.updateMainImage(h,l,r),g.showShowroomMainImage(h)),n.usePeekHover&&"click"!==e.type||(f.selectGivenThumbnail(e.$declarativeParent,
x),"click"===e.type&&f.useTabbedImmersiveView(n)&&g.handleShowroomThumbnailClick(e));a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE_HANDLE_THUMBNAIL_EVENT,new Date-d)}function u(a){a=n.colorToAsin[a.color].asin;a||(a=n.mediaAsin);return a}var k=void 0,n=void 0,l=void 0,r=void 0,x=void 0,h=void 0,y=void 0,q=void 0,v=void 0,p={SWATCH_HOVER:"swatchHover",MOUSE_ENTER:"mouseenter"};return function(c,q,t,z){t=new Date;k=this;n=c;l=q;r=z;b.on(e.TWISTER_DATA_EVENT,function(a){u(l.getCurrentItem())===
a&&(a={type:"updatedData",data:l.getCurrentItem()},r.dispatch("updateView",a))});k.render=function(e,f,c,d,k,q){e=new Date;x=d;h=k.find("#main-showroom-container");h.parent().find("#showroom-canvas-caption");b.$("#main-image-container");try{var w=u(l.getCurrentItem());if(m.isDataValidForAsin(w)){var p=new Date,t=m.getDataForAsin(w);g.refresh(r,t.asin,t.defaultStageId);a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_GET_DATA_FOR_ASIN,new Date-p);if(!q){var B=new Date;g.updateMainImage(h,
t.imageData,r);a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UPDATE_MAIN_IMAGE,new Date-B)}var v=new Date;f=g.createThumbnail(n,d,f,t.imageData);a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_CREATE_THUMBNAIL,new Date-v);var z=new Date;b.$("#ivShowroomTabHeading").removeClass("aok-hidden");a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UNHIDE_TAB_HEADING,new Date-z);if(w!==y){var A=new Date;a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_FEATURE_RENDERED);var C=
a.createShowroomAtfEvent(t.defaultStageId,w,a.EVENT_NAMES.IMAGEBLOCK_LOAD,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(C);y=w;a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_LOG_EVENT,new Date-A)}}else b.$("#ivShowroomTabHeading").addClass("aok-hidden")}catch(E){b.$("#ivShowroomTabHeading").addClass("aok-hidden")}a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER,new Date-e);return f};k.update=function(b){var r=new Date;try{var c=b.data;l.setCurrentEvent(b);c.type===e.SHOWROOM_THUMBNAIL_TYPE?
d(c,b):c.type!==e.SHOWROOM_MAIN_IMAGE_TYPE&&(b.type===p.SWATCH_HOVER?c.color===l.getCurrentItem().color&&l.getCurrentItem().type===e.SHOWROOM_THUMBNAIL_TYPE?g.showShowroomMainImage(h):g.hideShowroomMainImage(h):f.isImageBlockGridViewHoverDelayEnabled()?(l.setToPreviousItem(),"mouseenter"===b.type&&(v&&clearTimeout(v),v=setTimeout(function(){l.setToCurrentItem(c);g.hideShowroomMainImage(h)},f.getHoveringDelayTimer())),"mouseleave"===b.type&&v&&clearTimeout(v),"click"===b.type&&(l.setToCurrentItem(c),
g.hideShowroomMainImage(h))):g.hideShowroomMainImage(h))}catch(D){}a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE,new Date-r)};(c=document.getElementById("ivShowroomTabHeading"))&&c.addEventListener("click",function(b){a.addOne(a.COUNTER_NAMES.TAB_SELECT);b=m.getDataForAsin(y).defaultStageId;b=a.createShowroomAtfEvent(b,y,a.EVENT_NAMES.IMMERSIVE_VIEW_TAB_CLICK,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(b)});a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_INVOKE,new Date-t)}});
"use strict";k.register("showroom-image-block-constants",function(){return{SHOWROOM_THUMBNAIL_TYPE:"showroom-image",SHOWROOM_MAIN_IMAGE_TYPE:"showroom-main-image",TWISTER_DATA_EVENT:"showroomTwisterData",STRING_IDS:{MAIN_IMAGE_OVERLAY_TEXT:"showroom_dp_imageblock_atf_main_image_overlay_text",MAIN_IMAGE_OVERLAY_BUTTON_TEXT:"showroom_dp_imageblock_atf_main_image_overlay_text_T2",MAIN_IMAGE_OVERLAY_ICON_URL:"showroom_dp_imageblock_atf_main_image_overlay_icon_url"}}});"use strict";k.when("A","jQuery",
"imageBlockUtils","showroom-lite-atf-feature-data","showroom-image-block-constants","showroom-image-block-metrics").register("showroom-image-block-detail-page-rendering",function(b,f,m,g,e,a){function c(b){a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_MAIN_IMAGE_SELECT);var c=a.createShowroomAtfEvent(n,k,a.EVENT_NAMES.IMAGEBLOCK_MAIN_IMAGE_CLICK,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(c);d(b)}function d(a){a.action="showroomIngressClick";a.data=l;p.dispatch("showroomIngressClick",a)}var k,p,
n,l;return{createThumbnail:function(a,b,c,f){c===a.maxAlts&&(b.find(".item.imageThumbnail").last().remove(),c--);l={type:"showroomIngress",index:0,thumbnailIndex:c,variant:f.variant};m.createThumbnail({type:e.SHOWROOM_THUMBNAIL_TYPE,index:0,thumbnailIndex:c,variant:f.variant},f.thumb,b,"showroom-imageblock-thumbnail");c++;return c},updateMainImage:function(a,d){var h=a.find("#showroom-main-image");h.length?h.attr("src",d.hiRes):(h=f(('\x3cdiv id\x3d"showroom-main-image-container"\x3e                    \x3cimg src\x3d"'+
d.hiRes+'" id\x3d"showroom-main-image"/\x3e                \x3c/div\x3e').trim()),h.appendTo(a),b.declarative.create(a,"showroom-image-action",l),b.declarative("showroom-image-action",["click"],c),h.addClass("image-gradient-hue"),d=g.getStringValue(e.STRING_IDS.MAIN_IMAGE_OVERLAY_TEXT),h=g.getStringValue(e.STRING_IDS.MAIN_IMAGE_OVERLAY_BUTTON_TEXT),f(('\x3cdiv id\x3d"showroom-main-image-overlay-container"\x3e                    \x3cdiv style\x3d"padding-bottom: 7px;width: 40%;"\x3e                        \x3cspan id\x3d"showroom-main-image-overlay-subtext"\x3e'+
d+'\x3c/span\x3e                    \x3c/div\x3e                    \x3cspan class\x3d"a-button a-button-base"\x3e                        \x3cspan class\x3d"a-button-inner"\x3e                            \x3cinput class\x3d"a-button-input"\x3e                            \x3cspan class\x3d"a-button-text" id\x3d"showroom-main-image-overlay-button"\x3e                                \x3cimg id\x3d"showroom-main-image-overlay-icon" src\x3d"https://m.media-amazon.com/images/G/01/showroom/icon-lightbulb._CB628497379_.png"/\x3e'+
h+"\n                            \x3c/span\x3e                        \x3c/span\x3e                    \x3c/span\x3e                \x3c/div\x3e").trim()).appendTo(a))},hideShowroomMainImage:function(a){a.parent().css("z-index",-1);a.parent().addClass("aok-hidden")},showShowroomMainImage:function(a){a.parent().css("z-index",2);a.parent().removeClass("aok-hidden")},isShowroomMainImageHidden:function(){return f("#showroom-outer-container").hasClass("aok-hidden")},handleShowroomIngressClick:d,handleShowroomThumbnailClick:function(b){a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_THUMBNAIL_SELECT);
var c=a.createShowroomAtfEvent(n,k,a.EVENT_NAMES.IMAGEBLOCK_THUMBNAIL_CLICK,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(c);d(b)},handleShowroomMainImageClick:c,refresh:function(a,b,c){p=a;k=b;n=c}}});"use strict";k.when("A").register("showroom-image-block-metrics",function(b){return{EVENT_NAMES:{IMAGEBLOCK_LOAD:"srm_atf_imageBlock_load",IMAGEBLOCK_THUMBNAIL_CLICK:"srm_atf_thumbnail_click",IMAGEBLOCK_MAIN_IMAGE_CLICK:"srm_atf_main_image_click",IMMERSIVE_VIEW_TAB_CLICK:"srm_atf_iv_tab_click"},COUNTER_NAMES:{SHOWROOM_IMAGEBLOCK_FEATURE_RENDERED:"showroom:atf:imageBlock:feature:render",
SHOWROOM_IMAGEBLOCK_THUMBNAIL_HOVER:"showroom:atf:imageBlock:thumbnail:hover",SHOWROOM_IMAGEBLOCK_THUMBNAIL_SELECT:"showroom:atf:imageBlock:thumbnail:select",SHOWROOM_IMAGEBLOCK_MAIN_IMAGE_SELECT:"showroom:atf:imageBlock:mainImage:select",SHOWROOM_IMAGEBLOCK_FAILED_TO_INITIALIZED_WEBLAB_TRIGGER:"showroom:atf:imageBlock:failedToInitializeWeblabTrigger",TAB_SELECT:"showroom:atf:tab:select"},STATUS_TYPES:{SUCCESS:"success",ERROR:"error"},TIMER_NAMES:{SHOWROOM_IMAGEBLOCK_LATENCY_INVOKE:"showroom:atf:imageBlock:latency:invoke",
SHOWROOM_IMAGEBLOCK_LATENCY_LOAD:"showroom:atf:imageBlock:latency:load",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER:"showroom:atf:imageBlock:latency:render",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_GET_DATA_FOR_ASIN:"showroom:atf:imageBlock:latency:render:getDataForAsin",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UPDATE_MAIN_IMAGE:"showroom:atf:imageBlock:latency:render:updateMainImage",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_CREATE_THUMBNAIL:"showroom:atf:imageBlock:latency:render:createThumbnail",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UTIL_CREATE_THUMBNAIL:"showroom:atf:imageBlock:latency:render:utilCreateThumbnail",
SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UNHIDE_TAB_HEADING:"showroom:atf:imageBlock:latency:render:unhideTabHeading",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_LOG_EVENT:"showroom:atf:imageBlock:latency:render:logEvent",SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE:"showroom:atf:imageBlock:latency:update",SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE_HANDLE_THUMBNAIL_EVENT:"showroom:atf:imageBlock:latency:update:handleThumbnailEvent"},addOne:function(b){try{if(d.ue&&b){var f=(d.ue.count(b)||0)+1;d.ue.count(b,f)}}catch(g){}},logValue:function(b,
m){try{d.ue&&b&&"number"===typeof m&&d.ue.count(b,m)}catch(g){}},createShowroomAtfEvent:function(f,d,g,e){var a={};a.showroomId=f;a.asin=d;a.eventType=g;a.status=e;a.device=b.capabilities?b.capabilities.isAmazonApp?"AmazonApp":b.capabilities.mobile?"mobile":b.capabilities.tablet?"tablet":"desktop":"";a.userAgent=navigator?navigator.userAgent:"";a.producerId="showroom_atf";a.schemaId="com.amazon.showroom.ingress.clientEvent.3";return a},logShowroomAtfEvent:function(b){try{d.ue&&d.ue.event&&b&&d.ue.event(b,
"showroom_atf","com.amazon.showroom.ingress.clientEvent.3")}catch(m){}}}});"use strict";k.when("A","showroom-image-block-constants").register("showroom-lite-atf-feature-data",function(b,d){function f(){return e[a]}function g(a){return a in e}var e={},a;return{setData:function(c){c&&c.asin&&c.imageDomain&&c.defaultCollageUrl&&c.defaultStageId&&Array.isArray(c.itemMainImagePhysicalIds)&&(a=c.asin,g(c.asin)||(e[c.asin]=c,b.trigger(d.TWISTER_DATA_EVENT,c.asin)))},getDataForCurrentAsin:f,getDataForAsin:function(a){return e[a]},
getStringValue:function(a){return f().displayStrings?f().displayStrings[a]:""},isDataValidForAsin:g}})});
/* ******** */
